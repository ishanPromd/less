function fb(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var It=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function U0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function hb(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var F0={exports:{}},cl={},V0={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=Symbol.for("react.element"),mb=Symbol.for("react.portal"),pb=Symbol.for("react.fragment"),gb=Symbol.for("react.strict_mode"),yb=Symbol.for("react.profiler"),xb=Symbol.for("react.provider"),vb=Symbol.for("react.context"),bb=Symbol.for("react.forward_ref"),wb=Symbol.for("react.suspense"),jb=Symbol.for("react.memo"),Nb=Symbol.for("react.lazy"),bh=Symbol.iterator;function kb(e){return e===null||typeof e!="object"?null:(e=bh&&e[bh]||e["@@iterator"],typeof e=="function"?e:null)}var B0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q0=Object.assign,W0={};function Ds(e,t,n){this.props=e,this.context=t,this.refs=W0,this.updater=n||B0}Ds.prototype.isReactComponent={};Ds.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ds.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function H0(){}H0.prototype=Ds.prototype;function Id(e,t,n){this.props=e,this.context=t,this.refs=W0,this.updater=n||B0}var Od=Id.prototype=new H0;Od.constructor=Id;q0(Od,Ds.prototype);Od.isPureReactComponent=!0;var wh=Array.isArray,Q0=Object.prototype.hasOwnProperty,Md={current:null},G0={key:!0,ref:!0,__self:!0,__source:!0};function K0(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Q0.call(t,r)&&!G0.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:aa,type:e,key:i,ref:o,props:s,_owner:Md.current}}function Sb(e,t){return{$$typeof:aa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zd(e){return typeof e=="object"&&e!==null&&e.$$typeof===aa}function _b(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jh=/\/+/g;function Gl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_b(""+e.key):t.toString(36)}function no(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case aa:case mb:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Gl(o,0):r,wh(s)?(n="",e!=null&&(n=e.replace(jh,"$&/")+"/"),no(s,t,n,"",function(u){return u})):s!=null&&(zd(s)&&(s=Sb(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(jh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",wh(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Gl(i,l);o+=no(i,t,n,c,s)}else if(c=kb(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Gl(i,l++),o+=no(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ca(e,t,n){if(e==null)return e;var r=[],s=0;return no(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Cb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},ro={transition:null},Eb={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:ro,ReactCurrentOwner:Md};function Y0(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:Ca,forEach:function(e,t,n){Ca(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ca(e,function(){t++}),t},toArray:function(e){return Ca(e,function(t){return t})||[]},only:function(e){if(!zd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=Ds;ie.Fragment=pb;ie.Profiler=yb;ie.PureComponent=Id;ie.StrictMode=gb;ie.Suspense=wb;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eb;ie.act=Y0;ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=q0({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Md.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Q0.call(t,c)&&!G0.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:aa,type:e.type,key:s,ref:i,props:r,_owner:o}};ie.createContext=function(e){return e={$$typeof:vb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xb,_context:e},e.Consumer=e};ie.createElement=K0;ie.createFactory=function(e){var t=K0.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:bb,render:e}};ie.isValidElement=zd;ie.lazy=function(e){return{$$typeof:Nb,_payload:{_status:-1,_result:e},_init:Cb}};ie.memo=function(e,t){return{$$typeof:jb,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=ro.transition;ro.transition={};try{e()}finally{ro.transition=t}};ie.unstable_act=Y0;ie.useCallback=function(e,t){return lt.current.useCallback(e,t)};ie.useContext=function(e){return lt.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};ie.useEffect=function(e,t){return lt.current.useEffect(e,t)};ie.useId=function(){return lt.current.useId()};ie.useImperativeHandle=function(e,t,n){return lt.current.useImperativeHandle(e,t,n)};ie.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return lt.current.useMemo(e,t)};ie.useReducer=function(e,t,n){return lt.current.useReducer(e,t,n)};ie.useRef=function(e){return lt.current.useRef(e)};ie.useState=function(e){return lt.current.useState(e)};ie.useSyncExternalStore=function(e,t,n){return lt.current.useSyncExternalStore(e,t,n)};ie.useTransition=function(){return lt.current.useTransition()};ie.version="18.3.1";V0.exports=ie;var b=V0.exports;const nn=U0(b),Pb=fb({__proto__:null,default:nn},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb=b,Ab=Symbol.for("react.element"),Lb=Symbol.for("react.fragment"),Rb=Object.prototype.hasOwnProperty,Ib=Tb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ob={key:!0,ref:!0,__self:!0,__source:!0};function X0(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Rb.call(t,r)&&!Ob.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Ab,type:e,key:i,ref:o,props:s,_owner:Ib.current}}cl.Fragment=Lb;cl.jsx=X0;cl.jsxs=X0;F0.exports=cl;var a=F0.exports,J0={exports:{}},St={},Z0={exports:{}},eg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,B){var F=I.length;I.push(B);e:for(;0<F;){var G=F-1>>>1,J=I[G];if(0<s(J,B))I[G]=B,I[F]=J,F=G;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var B=I[0],F=I.pop();if(F!==B){I[0]=F;e:for(var G=0,J=I.length,le=J>>>1;G<le;){var Te=2*(G+1)-1,he=I[Te],we=Te+1,z=I[we];if(0>s(he,F))we<J&&0>s(z,he)?(I[G]=z,I[we]=F,G=we):(I[G]=he,I[Te]=F,G=Te);else if(we<J&&0>s(z,F))I[G]=z,I[we]=F,G=we;else break e}}return B}function s(I,B){var F=I.sortIndex-B.sortIndex;return F!==0?F:I.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(I){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=I)r(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(u)}}function N(I){if(w=!1,p(I),!y)if(n(c)!==null)y=!0,M(j);else{var B=n(u);B!==null&&q(N,B.startTime-I)}}function j(I,B){y=!1,w&&(w=!1,x(P),P=-1),m=!0;var F=h;try{for(p(B),f=n(c);f!==null&&(!(f.expirationTime>B)||I&&!D());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var J=G(f.expirationTime<=B);B=e.unstable_now(),typeof J=="function"?f.callback=J:f===n(c)&&r(c),p(B)}else r(c);f=n(c)}if(f!==null)var le=!0;else{var Te=n(u);Te!==null&&q(N,Te.startTime-B),le=!1}return le}finally{f=null,h=F,m=!1}}var k=!1,E=null,P=-1,R=5,V=-1;function D(){return!(e.unstable_now()-V<R)}function S(){if(E!==null){var I=e.unstable_now();V=I;var B=!0;try{B=E(!0,I)}finally{B?C():(k=!1,E=null)}}else k=!1}var C;if(typeof g=="function")C=function(){g(S)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,A=O.port2;O.port1.onmessage=S,C=function(){A.postMessage(null)}}else C=function(){v(S,0)};function M(I){E=I,k||(k=!0,C())}function q(I,B){P=v(function(){I(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,M(j))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var F=h;h=B;try{return I()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,B){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var F=h;h=I;try{return B()}finally{h=F}},e.unstable_scheduleCallback=function(I,B,F){var G=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,I){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=F+J,I={id:d++,callback:B,priorityLevel:I,startTime:F,expirationTime:J,sortIndex:-1},F>G?(I.sortIndex=F,t(u,I),n(c)===null&&I===n(u)&&(w?(x(P),P=-1):w=!0,q(N,F-G))):(I.sortIndex=J,t(c,I),y||m||(y=!0,M(j))),I},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(I){var B=h;return function(){var F=h;h=B;try{return I.apply(this,arguments)}finally{h=F}}}})(eg);Z0.exports=eg;var Mb=Z0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zb=b,Nt=Mb;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tg=new Set,Ri={};function Fr(e,t){Cs(e,t),Cs(e+"Capture",t)}function Cs(e,t){for(Ri[e]=t,e=0;e<t.length;e++)tg.add(t[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yc=Object.prototype.hasOwnProperty,Db=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nh={},kh={};function $b(e){return Yc.call(kh,e)?!0:Yc.call(Nh,e)?!1:Db.test(e)?kh[e]=!0:(Nh[e]=!0,!1)}function Ub(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fb(e,t,n,r){if(t===null||typeof t>"u"||Ub(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){He[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];He[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){He[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){He[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){He[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){He[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){He[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){He[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){He[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dd=/[\-:]([a-z])/g;function $d(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dd,$d);He[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dd,$d);He[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dd,$d);He[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){He[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});He.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){He[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ud(e,t,n,r){var s=He.hasOwnProperty(t)?He[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fb(t,n,s,r)&&(n=null),r||s===null?$b(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _n=zb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ea=Symbol.for("react.element"),ns=Symbol.for("react.portal"),rs=Symbol.for("react.fragment"),Fd=Symbol.for("react.strict_mode"),Xc=Symbol.for("react.profiler"),ng=Symbol.for("react.provider"),rg=Symbol.for("react.context"),Vd=Symbol.for("react.forward_ref"),Jc=Symbol.for("react.suspense"),Zc=Symbol.for("react.suspense_list"),Bd=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy"),sg=Symbol.for("react.offscreen"),Sh=Symbol.iterator;function Gs(e){return e===null||typeof e!="object"?null:(e=Sh&&e[Sh]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Object.assign,Kl;function ii(e){if(Kl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Kl=t&&t[1]||""}return`
`+Kl+e}var Yl=!1;function Xl(e,t){if(!e||Yl)return"";Yl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Yl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ii(e):""}function Vb(e){switch(e.tag){case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return ii("Suspense");case 19:return ii("SuspenseList");case 0:case 2:case 15:return e=Xl(e.type,!1),e;case 11:return e=Xl(e.type.render,!1),e;case 1:return e=Xl(e.type,!0),e;default:return""}}function eu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rs:return"Fragment";case ns:return"Portal";case Xc:return"Profiler";case Fd:return"StrictMode";case Jc:return"Suspense";case Zc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rg:return(e.displayName||"Context")+".Consumer";case ng:return(e._context.displayName||"Context")+".Provider";case Vd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bd:return t=e.displayName||null,t!==null?t:eu(e.type)||"Memo";case Ln:t=e._payload,e=e._init;try{return eu(e(t))}catch{}}return null}function Bb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eu(t);case 8:return t===Fd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ig(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qb(e){var t=ig(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pa(e){e._valueTracker||(e._valueTracker=qb(e))}function ag(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ig(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tu(e,t){var n=t.checked;return Ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _h(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function og(e,t){t=t.checked,t!=null&&Ud(e,"checked",t,!1)}function nu(e,t){og(e,t);var n=Zn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ru(e,t.type,n):t.hasOwnProperty("defaultValue")&&ru(e,t.type,Zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ch(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ru(e,t,n){(t!=="number"||wo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ai=Array.isArray;function bs(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function su(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Eh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(ai(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zn(n)}}function lg(e,t){var n=Zn(t.value),r=Zn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ph(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ta,ug=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ta=Ta||document.createElement("div"),Ta.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ta.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ii(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wb=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(e){Wb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hi[t]=hi[e]})});function dg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hi.hasOwnProperty(e)&&hi[e]?(""+t).trim():t+"px"}function fg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=dg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Hb=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function au(e,t){if(t){if(Hb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function ou(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lu=null;function qd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cu=null,ws=null,js=null;function Th(e){if(e=ca(e)){if(typeof cu!="function")throw Error(U(280));var t=e.stateNode;t&&(t=ml(t),cu(e.stateNode,e.type,t))}}function hg(e){ws?js?js.push(e):js=[e]:ws=e}function mg(){if(ws){var e=ws,t=js;if(js=ws=null,Th(e),t)for(e=0;e<t.length;e++)Th(t[e])}}function pg(e,t){return e(t)}function gg(){}var Jl=!1;function yg(e,t,n){if(Jl)return e(t,n);Jl=!0;try{return pg(e,t,n)}finally{Jl=!1,(ws!==null||js!==null)&&(gg(),mg())}}function Oi(e,t){var n=e.stateNode;if(n===null)return null;var r=ml(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var uu=!1;if(gn)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){uu=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{uu=!1}function Qb(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var mi=!1,jo=null,No=!1,du=null,Gb={onError:function(e){mi=!0,jo=e}};function Kb(e,t,n,r,s,i,o,l,c){mi=!1,jo=null,Qb.apply(Gb,arguments)}function Yb(e,t,n,r,s,i,o,l,c){if(Kb.apply(this,arguments),mi){if(mi){var u=jo;mi=!1,jo=null}else throw Error(U(198));No||(No=!0,du=u)}}function Vr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ah(e){if(Vr(e)!==e)throw Error(U(188))}function Xb(e){var t=e.alternate;if(!t){if(t=Vr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ah(s),e;if(i===r)return Ah(s),t;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function vg(e){return e=Xb(e),e!==null?bg(e):null}function bg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bg(e);if(t!==null)return t;e=e.sibling}return null}var wg=Nt.unstable_scheduleCallback,Lh=Nt.unstable_cancelCallback,Jb=Nt.unstable_shouldYield,Zb=Nt.unstable_requestPaint,Ae=Nt.unstable_now,ew=Nt.unstable_getCurrentPriorityLevel,Wd=Nt.unstable_ImmediatePriority,jg=Nt.unstable_UserBlockingPriority,ko=Nt.unstable_NormalPriority,tw=Nt.unstable_LowPriority,Ng=Nt.unstable_IdlePriority,ul=null,Zt=null;function nw(e){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(ul,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:iw,rw=Math.log,sw=Math.LN2;function iw(e){return e>>>=0,e===0?32:31-(rw(e)/sw|0)|0}var Aa=64,La=4194304;function oi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function So(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=oi(l):(i&=o,i!==0&&(r=oi(i)))}else o=n&~s,o!==0?r=oi(o):i!==0&&(r=oi(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Bt(t),s=1<<n,r|=e[n],t&=~s;return r}function aw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ow(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Bt(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=aw(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function fu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kg(){var e=Aa;return Aa<<=1,!(Aa&4194240)&&(Aa=64),e}function Zl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function oa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bt(t),e[t]=n}function lw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Bt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Hd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Bt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var fe=0;function Sg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _g,Qd,Cg,Eg,Pg,hu=!1,Ra=[],Bn=null,qn=null,Wn=null,Mi=new Map,zi=new Map,Mn=[],cw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rh(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Mi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zi.delete(t.pointerId)}}function Ys(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ca(t),t!==null&&Qd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function uw(e,t,n,r,s){switch(t){case"focusin":return Bn=Ys(Bn,e,t,n,r,s),!0;case"dragenter":return qn=Ys(qn,e,t,n,r,s),!0;case"mouseover":return Wn=Ys(Wn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Mi.set(i,Ys(Mi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,zi.set(i,Ys(zi.get(i)||null,e,t,n,r,s)),!0}return!1}function Tg(e){var t=Nr(e.target);if(t!==null){var n=Vr(t);if(n!==null){if(t=n.tag,t===13){if(t=xg(n),t!==null){e.blockedOn=t,Pg(e.priority,function(){Cg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function so(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);lu=r,n.target.dispatchEvent(r),lu=null}else return t=ca(n),t!==null&&Qd(t),e.blockedOn=n,!1;t.shift()}return!0}function Ih(e,t,n){so(e)&&n.delete(t)}function dw(){hu=!1,Bn!==null&&so(Bn)&&(Bn=null),qn!==null&&so(qn)&&(qn=null),Wn!==null&&so(Wn)&&(Wn=null),Mi.forEach(Ih),zi.forEach(Ih)}function Xs(e,t){e.blockedOn===t&&(e.blockedOn=null,hu||(hu=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,dw)))}function Di(e){function t(s){return Xs(s,e)}if(0<Ra.length){Xs(Ra[0],e);for(var n=1;n<Ra.length;n++){var r=Ra[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Bn!==null&&Xs(Bn,e),qn!==null&&Xs(qn,e),Wn!==null&&Xs(Wn,e),Mi.forEach(t),zi.forEach(t),n=0;n<Mn.length;n++)r=Mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)Tg(n),n.blockedOn===null&&Mn.shift()}var Ns=_n.ReactCurrentBatchConfig,_o=!0;function fw(e,t,n,r){var s=fe,i=Ns.transition;Ns.transition=null;try{fe=1,Gd(e,t,n,r)}finally{fe=s,Ns.transition=i}}function hw(e,t,n,r){var s=fe,i=Ns.transition;Ns.transition=null;try{fe=4,Gd(e,t,n,r)}finally{fe=s,Ns.transition=i}}function Gd(e,t,n,r){if(_o){var s=mu(e,t,n,r);if(s===null)cc(e,t,r,Co,n),Rh(e,r);else if(uw(s,e,t,n,r))r.stopPropagation();else if(Rh(e,r),t&4&&-1<cw.indexOf(e)){for(;s!==null;){var i=ca(s);if(i!==null&&_g(i),i=mu(e,t,n,r),i===null&&cc(e,t,r,Co,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else cc(e,t,r,null,n)}}var Co=null;function mu(e,t,n,r){if(Co=null,e=qd(r),e=Nr(e),e!==null)if(t=Vr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Co=e,null}function Ag(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ew()){case Wd:return 1;case jg:return 4;case ko:case tw:return 16;case Ng:return 536870912;default:return 16}default:return 16}}var Un=null,Kd=null,io=null;function Lg(){if(io)return io;var e,t=Kd,n=t.length,r,s="value"in Un?Un.value:Un.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return io=s.slice(e,1<r?1-r:void 0)}function ao(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ia(){return!0}function Oh(){return!1}function _t(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ia:Oh,this.isPropagationStopped=Oh,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ia)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ia)},persist:function(){},isPersistent:Ia}),t}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yd=_t($s),la=Ce({},$s,{view:0,detail:0}),mw=_t(la),ec,tc,Js,dl=Ce({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Js&&(Js&&e.type==="mousemove"?(ec=e.screenX-Js.screenX,tc=e.screenY-Js.screenY):tc=ec=0,Js=e),ec)},movementY:function(e){return"movementY"in e?e.movementY:tc}}),Mh=_t(dl),pw=Ce({},dl,{dataTransfer:0}),gw=_t(pw),yw=Ce({},la,{relatedTarget:0}),nc=_t(yw),xw=Ce({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),vw=_t(xw),bw=Ce({},$s,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ww=_t(bw),jw=Ce({},$s,{data:0}),zh=_t(jw),Nw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _w(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sw[e])?!!t[e]:!1}function Xd(){return _w}var Cw=Ce({},la,{key:function(e){if(e.key){var t=Nw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ao(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xd,charCode:function(e){return e.type==="keypress"?ao(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ao(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ew=_t(Cw),Pw=Ce({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dh=_t(Pw),Tw=Ce({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xd}),Aw=_t(Tw),Lw=Ce({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rw=_t(Lw),Iw=Ce({},dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ow=_t(Iw),Mw=[9,13,27,32],Jd=gn&&"CompositionEvent"in window,pi=null;gn&&"documentMode"in document&&(pi=document.documentMode);var zw=gn&&"TextEvent"in window&&!pi,Rg=gn&&(!Jd||pi&&8<pi&&11>=pi),$h=" ",Uh=!1;function Ig(e,t){switch(e){case"keyup":return Mw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Og(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ss=!1;function Dw(e,t){switch(e){case"compositionend":return Og(t);case"keypress":return t.which!==32?null:(Uh=!0,$h);case"textInput":return e=t.data,e===$h&&Uh?null:e;default:return null}}function $w(e,t){if(ss)return e==="compositionend"||!Jd&&Ig(e,t)?(e=Lg(),io=Kd=Un=null,ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rg&&t.locale!=="ko"?null:t.data;default:return null}}var Uw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uw[e.type]:t==="textarea"}function Mg(e,t,n,r){hg(r),t=Eo(t,"onChange"),0<t.length&&(n=new Yd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var gi=null,$i=null;function Fw(e){Qg(e,0)}function fl(e){var t=os(e);if(ag(t))return e}function Vw(e,t){if(e==="change")return t}var zg=!1;if(gn){var rc;if(gn){var sc="oninput"in document;if(!sc){var Vh=document.createElement("div");Vh.setAttribute("oninput","return;"),sc=typeof Vh.oninput=="function"}rc=sc}else rc=!1;zg=rc&&(!document.documentMode||9<document.documentMode)}function Bh(){gi&&(gi.detachEvent("onpropertychange",Dg),$i=gi=null)}function Dg(e){if(e.propertyName==="value"&&fl($i)){var t=[];Mg(t,$i,e,qd(e)),yg(Fw,t)}}function Bw(e,t,n){e==="focusin"?(Bh(),gi=t,$i=n,gi.attachEvent("onpropertychange",Dg)):e==="focusout"&&Bh()}function qw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fl($i)}function Ww(e,t){if(e==="click")return fl(t)}function Hw(e,t){if(e==="input"||e==="change")return fl(t)}function Qw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wt=typeof Object.is=="function"?Object.is:Qw;function Ui(e,t){if(Wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Yc.call(t,s)||!Wt(e[s],t[s]))return!1}return!0}function qh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wh(e,t){var n=qh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qh(n)}}function $g(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$g(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ug(){for(var e=window,t=wo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wo(e.document)}return t}function Zd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Gw(e){var t=Ug(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$g(n.ownerDocument.documentElement,n)){if(r!==null&&Zd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Wh(n,i);var o=Wh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kw=gn&&"documentMode"in document&&11>=document.documentMode,is=null,pu=null,yi=null,gu=!1;function Hh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gu||is==null||is!==wo(r)||(r=is,"selectionStart"in r&&Zd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yi&&Ui(yi,r)||(yi=r,r=Eo(pu,"onSelect"),0<r.length&&(t=new Yd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=is)))}function Oa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var as={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionend:Oa("Transition","TransitionEnd")},ic={},Fg={};gn&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function hl(e){if(ic[e])return ic[e];if(!as[e])return e;var t=as[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fg)return ic[e]=t[n];return e}var Vg=hl("animationend"),Bg=hl("animationiteration"),qg=hl("animationstart"),Wg=hl("transitionend"),Hg=new Map,Qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(e,t){Hg.set(e,t),Fr(t,[e])}for(var ac=0;ac<Qh.length;ac++){var oc=Qh[ac],Yw=oc.toLowerCase(),Xw=oc[0].toUpperCase()+oc.slice(1);or(Yw,"on"+Xw)}or(Vg,"onAnimationEnd");or(Bg,"onAnimationIteration");or(qg,"onAnimationStart");or("dblclick","onDoubleClick");or("focusin","onFocus");or("focusout","onBlur");or(Wg,"onTransitionEnd");Cs("onMouseEnter",["mouseout","mouseover"]);Cs("onMouseLeave",["mouseout","mouseover"]);Cs("onPointerEnter",["pointerout","pointerover"]);Cs("onPointerLeave",["pointerout","pointerover"]);Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jw=new Set("cancel close invalid load scroll toggle".split(" ").concat(li));function Gh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Yb(r,t,void 0,e),e.currentTarget=null}function Qg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Gh(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Gh(s,l,u),i=c}}}if(No)throw e=du,No=!1,du=null,e}function xe(e,t){var n=t[wu];n===void 0&&(n=t[wu]=new Set);var r=e+"__bubble";n.has(r)||(Gg(t,e,2,!1),n.add(r))}function lc(e,t,n){var r=0;t&&(r|=4),Gg(n,e,r,t)}var Ma="_reactListening"+Math.random().toString(36).slice(2);function Fi(e){if(!e[Ma]){e[Ma]=!0,tg.forEach(function(n){n!=="selectionchange"&&(Jw.has(n)||lc(n,!1,e),lc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ma]||(t[Ma]=!0,lc("selectionchange",!1,t))}}function Gg(e,t,n,r){switch(Ag(t)){case 1:var s=fw;break;case 4:s=hw;break;default:s=Gd}n=s.bind(null,t,n,e),s=void 0,!uu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function cc(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Nr(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}yg(function(){var u=i,d=qd(n),f=[];e:{var h=Hg.get(e);if(h!==void 0){var m=Yd,y=e;switch(e){case"keypress":if(ao(n)===0)break e;case"keydown":case"keyup":m=Ew;break;case"focusin":y="focus",m=nc;break;case"focusout":y="blur",m=nc;break;case"beforeblur":case"afterblur":m=nc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=gw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Aw;break;case Vg:case Bg:case qg:m=vw;break;case Wg:m=Rw;break;case"scroll":m=mw;break;case"wheel":m=Ow;break;case"copy":case"cut":case"paste":m=ww;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Dh}var w=(t&4)!==0,v=!w&&e==="scroll",x=w?h!==null?h+"Capture":null:h;w=[];for(var g=u,p;g!==null;){p=g;var N=p.stateNode;if(p.tag===5&&N!==null&&(p=N,x!==null&&(N=Oi(g,x),N!=null&&w.push(Vi(g,N,p)))),v)break;g=g.return}0<w.length&&(h=new m(h,y,null,n,d),f.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==lu&&(y=n.relatedTarget||n.fromElement)&&(Nr(y)||y[yn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Nr(y):null,y!==null&&(v=Vr(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(w=Mh,N="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(w=Dh,N="onPointerLeave",x="onPointerEnter",g="pointer"),v=m==null?h:os(m),p=y==null?h:os(y),h=new w(N,g+"leave",m,n,d),h.target=v,h.relatedTarget=p,N=null,Nr(d)===u&&(w=new w(x,g+"enter",y,n,d),w.target=p,w.relatedTarget=v,N=w),v=N,m&&y)t:{for(w=m,x=y,g=0,p=w;p;p=Kr(p))g++;for(p=0,N=x;N;N=Kr(N))p++;for(;0<g-p;)w=Kr(w),g--;for(;0<p-g;)x=Kr(x),p--;for(;g--;){if(w===x||x!==null&&w===x.alternate)break t;w=Kr(w),x=Kr(x)}w=null}else w=null;m!==null&&Kh(f,h,m,w,!1),y!==null&&v!==null&&Kh(f,v,y,w,!0)}}e:{if(h=u?os(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=Vw;else if(Fh(h))if(zg)j=Hw;else{j=qw;var k=Bw}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=Ww);if(j&&(j=j(e,u))){Mg(f,j,n,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&ru(h,"number",h.value)}switch(k=u?os(u):window,e){case"focusin":(Fh(k)||k.contentEditable==="true")&&(is=k,pu=u,yi=null);break;case"focusout":yi=pu=is=null;break;case"mousedown":gu=!0;break;case"contextmenu":case"mouseup":case"dragend":gu=!1,Hh(f,n,d);break;case"selectionchange":if(Kw)break;case"keydown":case"keyup":Hh(f,n,d)}var E;if(Jd)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ss?Ig(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Rg&&n.locale!=="ko"&&(ss||P!=="onCompositionStart"?P==="onCompositionEnd"&&ss&&(E=Lg()):(Un=d,Kd="value"in Un?Un.value:Un.textContent,ss=!0)),k=Eo(u,P),0<k.length&&(P=new zh(P,e,null,n,d),f.push({event:P,listeners:k}),E?P.data=E:(E=Og(n),E!==null&&(P.data=E)))),(E=zw?Dw(e,n):$w(e,n))&&(u=Eo(u,"onBeforeInput"),0<u.length&&(d=new zh("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}Qg(f,t)})}function Vi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Eo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Oi(e,n),i!=null&&r.unshift(Vi(e,i,s)),i=Oi(e,t),i!=null&&r.push(Vi(e,i,s))),e=e.return}return r}function Kr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Oi(n,i),c!=null&&o.unshift(Vi(n,c,l))):s||(c=Oi(n,i),c!=null&&o.push(Vi(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Zw=/\r\n?/g,e2=/\u0000|\uFFFD/g;function Yh(e){return(typeof e=="string"?e:""+e).replace(Zw,`
`).replace(e2,"")}function za(e,t,n){if(t=Yh(t),Yh(e)!==t&&n)throw Error(U(425))}function Po(){}var yu=null,xu=null;function vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bu=typeof setTimeout=="function"?setTimeout:void 0,t2=typeof clearTimeout=="function"?clearTimeout:void 0,Xh=typeof Promise=="function"?Promise:void 0,n2=typeof queueMicrotask=="function"?queueMicrotask:typeof Xh<"u"?function(e){return Xh.resolve(null).then(e).catch(r2)}:bu;function r2(e){setTimeout(function(){throw e})}function uc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Di(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Di(t)}function Hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Us=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Us,Bi="__reactProps$"+Us,yn="__reactContainer$"+Us,wu="__reactEvents$"+Us,s2="__reactListeners$"+Us,i2="__reactHandles$"+Us;function Nr(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yn]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Jh(e);e!==null;){if(n=e[Kt])return n;e=Jh(e)}return t}e=n,n=e.parentNode}return null}function ca(e){return e=e[Kt]||e[yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function os(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function ml(e){return e[Bi]||null}var ju=[],ls=-1;function lr(e){return{current:e}}function ve(e){0>ls||(e.current=ju[ls],ju[ls]=null,ls--)}function pe(e,t){ls++,ju[ls]=e.current,e.current=t}var er={},Je=lr(er),pt=lr(!1),Ir=er;function Es(e,t){var n=e.type.contextTypes;if(!n)return er;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function gt(e){return e=e.childContextTypes,e!=null}function To(){ve(pt),ve(Je)}function Zh(e,t,n){if(Je.current!==er)throw Error(U(168));pe(Je,t),pe(pt,n)}function Kg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(U(108,Bb(e)||"Unknown",s));return Ce({},n,r)}function Ao(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,Ir=Je.current,pe(Je,e),pe(pt,pt.current),!0}function em(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=Kg(e,t,Ir),r.__reactInternalMemoizedMergedChildContext=e,ve(pt),ve(Je),pe(Je,e)):ve(pt),pe(pt,n)}var cn=null,pl=!1,dc=!1;function Yg(e){cn===null?cn=[e]:cn.push(e)}function a2(e){pl=!0,Yg(e)}function cr(){if(!dc&&cn!==null){dc=!0;var e=0,t=fe;try{var n=cn;for(fe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}cn=null,pl=!1}catch(s){throw cn!==null&&(cn=cn.slice(e+1)),wg(Wd,cr),s}finally{fe=t,dc=!1}}return null}var cs=[],us=0,Lo=null,Ro=0,Tt=[],At=0,Or=null,un=1,dn="";function gr(e,t){cs[us++]=Ro,cs[us++]=Lo,Lo=e,Ro=t}function Xg(e,t,n){Tt[At++]=un,Tt[At++]=dn,Tt[At++]=Or,Or=e;var r=un;e=dn;var s=32-Bt(r)-1;r&=~(1<<s),n+=1;var i=32-Bt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,un=1<<32-Bt(t)+s|n<<s|r,dn=i+e}else un=1<<i|n<<s|r,dn=e}function ef(e){e.return!==null&&(gr(e,1),Xg(e,1,0))}function tf(e){for(;e===Lo;)Lo=cs[--us],cs[us]=null,Ro=cs[--us],cs[us]=null;for(;e===Or;)Or=Tt[--At],Tt[At]=null,dn=Tt[--At],Tt[At]=null,un=Tt[--At],Tt[At]=null}var jt=null,wt=null,je=!1,Vt=null;function Jg(e,t){var n=Lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jt=e,wt=Hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jt=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Or!==null?{id:un,overflow:dn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,jt=e,wt=null,!0):!1;default:return!1}}function Nu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ku(e){if(je){var t=wt;if(t){var n=t;if(!tm(e,t)){if(Nu(e))throw Error(U(418));t=Hn(n.nextSibling);var r=jt;t&&tm(e,t)?Jg(r,n):(e.flags=e.flags&-4097|2,je=!1,jt=e)}}else{if(Nu(e))throw Error(U(418));e.flags=e.flags&-4097|2,je=!1,jt=e}}}function nm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jt=e}function Da(e){if(e!==jt)return!1;if(!je)return nm(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vu(e.type,e.memoizedProps)),t&&(t=wt)){if(Nu(e))throw Zg(),Error(U(418));for(;t;)Jg(e,t),t=Hn(t.nextSibling)}if(nm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){wt=Hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=jt?Hn(e.stateNode.nextSibling):null;return!0}function Zg(){for(var e=wt;e;)e=Hn(e.nextSibling)}function Ps(){wt=jt=null,je=!1}function nf(e){Vt===null?Vt=[e]:Vt.push(e)}var o2=_n.ReactCurrentBatchConfig;function Zs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function $a(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rm(e){var t=e._init;return t(e._payload)}function ey(e){function t(x,g){if(e){var p=x.deletions;p===null?(x.deletions=[g],x.flags|=16):p.push(g)}}function n(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function r(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function s(x,g){return x=Yn(x,g),x.index=0,x.sibling=null,x}function i(x,g,p){return x.index=p,e?(p=x.alternate,p!==null?(p=p.index,p<g?(x.flags|=2,g):p):(x.flags|=2,g)):(x.flags|=1048576,g)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,g,p,N){return g===null||g.tag!==6?(g=xc(p,x.mode,N),g.return=x,g):(g=s(g,p),g.return=x,g)}function c(x,g,p,N){var j=p.type;return j===rs?d(x,g,p.props.children,N,p.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ln&&rm(j)===g.type)?(N=s(g,p.props),N.ref=Zs(x,g,p),N.return=x,N):(N=mo(p.type,p.key,p.props,null,x.mode,N),N.ref=Zs(x,g,p),N.return=x,N)}function u(x,g,p,N){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=vc(p,x.mode,N),g.return=x,g):(g=s(g,p.children||[]),g.return=x,g)}function d(x,g,p,N,j){return g===null||g.tag!==7?(g=Tr(p,x.mode,N,j),g.return=x,g):(g=s(g,p),g.return=x,g)}function f(x,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=xc(""+g,x.mode,p),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ea:return p=mo(g.type,g.key,g.props,null,x.mode,p),p.ref=Zs(x,null,g),p.return=x,p;case ns:return g=vc(g,x.mode,p),g.return=x,g;case Ln:var N=g._init;return f(x,N(g._payload),p)}if(ai(g)||Gs(g))return g=Tr(g,x.mode,p,null),g.return=x,g;$a(x,g)}return null}function h(x,g,p,N){var j=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return j!==null?null:l(x,g,""+p,N);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ea:return p.key===j?c(x,g,p,N):null;case ns:return p.key===j?u(x,g,p,N):null;case Ln:return j=p._init,h(x,g,j(p._payload),N)}if(ai(p)||Gs(p))return j!==null?null:d(x,g,p,N,null);$a(x,p)}return null}function m(x,g,p,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(p)||null,l(g,x,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ea:return x=x.get(N.key===null?p:N.key)||null,c(g,x,N,j);case ns:return x=x.get(N.key===null?p:N.key)||null,u(g,x,N,j);case Ln:var k=N._init;return m(x,g,p,k(N._payload),j)}if(ai(N)||Gs(N))return x=x.get(p)||null,d(g,x,N,j,null);$a(g,N)}return null}function y(x,g,p,N){for(var j=null,k=null,E=g,P=g=0,R=null;E!==null&&P<p.length;P++){E.index>P?(R=E,E=null):R=E.sibling;var V=h(x,E,p[P],N);if(V===null){E===null&&(E=R);break}e&&E&&V.alternate===null&&t(x,E),g=i(V,g,P),k===null?j=V:k.sibling=V,k=V,E=R}if(P===p.length)return n(x,E),je&&gr(x,P),j;if(E===null){for(;P<p.length;P++)E=f(x,p[P],N),E!==null&&(g=i(E,g,P),k===null?j=E:k.sibling=E,k=E);return je&&gr(x,P),j}for(E=r(x,E);P<p.length;P++)R=m(E,x,P,p[P],N),R!==null&&(e&&R.alternate!==null&&E.delete(R.key===null?P:R.key),g=i(R,g,P),k===null?j=R:k.sibling=R,k=R);return e&&E.forEach(function(D){return t(x,D)}),je&&gr(x,P),j}function w(x,g,p,N){var j=Gs(p);if(typeof j!="function")throw Error(U(150));if(p=j.call(p),p==null)throw Error(U(151));for(var k=j=null,E=g,P=g=0,R=null,V=p.next();E!==null&&!V.done;P++,V=p.next()){E.index>P?(R=E,E=null):R=E.sibling;var D=h(x,E,V.value,N);if(D===null){E===null&&(E=R);break}e&&E&&D.alternate===null&&t(x,E),g=i(D,g,P),k===null?j=D:k.sibling=D,k=D,E=R}if(V.done)return n(x,E),je&&gr(x,P),j;if(E===null){for(;!V.done;P++,V=p.next())V=f(x,V.value,N),V!==null&&(g=i(V,g,P),k===null?j=V:k.sibling=V,k=V);return je&&gr(x,P),j}for(E=r(x,E);!V.done;P++,V=p.next())V=m(E,x,P,V.value,N),V!==null&&(e&&V.alternate!==null&&E.delete(V.key===null?P:V.key),g=i(V,g,P),k===null?j=V:k.sibling=V,k=V);return e&&E.forEach(function(S){return t(x,S)}),je&&gr(x,P),j}function v(x,g,p,N){if(typeof p=="object"&&p!==null&&p.type===rs&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ea:e:{for(var j=p.key,k=g;k!==null;){if(k.key===j){if(j=p.type,j===rs){if(k.tag===7){n(x,k.sibling),g=s(k,p.props.children),g.return=x,x=g;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ln&&rm(j)===k.type){n(x,k.sibling),g=s(k,p.props),g.ref=Zs(x,k,p),g.return=x,x=g;break e}n(x,k);break}else t(x,k);k=k.sibling}p.type===rs?(g=Tr(p.props.children,x.mode,N,p.key),g.return=x,x=g):(N=mo(p.type,p.key,p.props,null,x.mode,N),N.ref=Zs(x,g,p),N.return=x,x=N)}return o(x);case ns:e:{for(k=p.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){n(x,g.sibling),g=s(g,p.children||[]),g.return=x,x=g;break e}else{n(x,g);break}else t(x,g);g=g.sibling}g=vc(p,x.mode,N),g.return=x,x=g}return o(x);case Ln:return k=p._init,v(x,g,k(p._payload),N)}if(ai(p))return y(x,g,p,N);if(Gs(p))return w(x,g,p,N);$a(x,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(n(x,g.sibling),g=s(g,p),g.return=x,x=g):(n(x,g),g=xc(p,x.mode,N),g.return=x,x=g),o(x)):n(x,g)}return v}var Ts=ey(!0),ty=ey(!1),Io=lr(null),Oo=null,ds=null,rf=null;function sf(){rf=ds=Oo=null}function af(e){var t=Io.current;ve(Io),e._currentValue=t}function Su(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ks(e,t){Oo=e,rf=ds=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mt=!0),e.firstContext=null)}function Ot(e){var t=e._currentValue;if(rf!==e)if(e={context:e,memoizedValue:t,next:null},ds===null){if(Oo===null)throw Error(U(308));ds=e,Oo.dependencies={lanes:0,firstContext:e}}else ds=ds.next=e;return t}var kr=null;function of(e){kr===null?kr=[e]:kr.push(e)}function ny(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,of(t)):(n.next=s.next,s.next=n),t.interleaved=n,xn(e,r)}function xn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rn=!1;function lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ry(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,xn(e,n)}return s=r.interleaved,s===null?(t.next=t,of(r)):(t.next=s.next,s.next=t),r.interleaved=t,xn(e,n)}function oo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hd(e,n)}}function sm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mo(e,t,n,r){var s=e.updateQueue;Rn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,w=l;switch(h=t,m=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=Ce({},f,h);break e;case 2:Rn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);zr|=o,e.lanes=o,e.memoizedState=f}}function im(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var ua={},en=lr(ua),qi=lr(ua),Wi=lr(ua);function Sr(e){if(e===ua)throw Error(U(174));return e}function cf(e,t){switch(pe(Wi,t),pe(qi,e),pe(en,ua),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:iu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=iu(t,e)}ve(en),pe(en,t)}function As(){ve(en),ve(qi),ve(Wi)}function sy(e){Sr(Wi.current);var t=Sr(en.current),n=iu(t,e.type);t!==n&&(pe(qi,e),pe(en,n))}function uf(e){qi.current===e&&(ve(en),ve(qi))}var ke=lr(0);function zo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fc=[];function df(){for(var e=0;e<fc.length;e++)fc[e]._workInProgressVersionPrimary=null;fc.length=0}var lo=_n.ReactCurrentDispatcher,hc=_n.ReactCurrentBatchConfig,Mr=0,_e=null,Me=null,$e=null,Do=!1,xi=!1,Hi=0,l2=0;function Qe(){throw Error(U(321))}function ff(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function hf(e,t,n,r,s,i){if(Mr=i,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lo.current=e===null||e.memoizedState===null?f2:h2,e=n(r,s),xi){i=0;do{if(xi=!1,Hi=0,25<=i)throw Error(U(301));i+=1,$e=Me=null,t.updateQueue=null,lo.current=m2,e=n(r,s)}while(xi)}if(lo.current=$o,t=Me!==null&&Me.next!==null,Mr=0,$e=Me=_e=null,Do=!1,t)throw Error(U(300));return e}function mf(){var e=Hi!==0;return Hi=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?_e.memoizedState=$e=e:$e=$e.next=e,$e}function Mt(){if(Me===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=$e===null?_e.memoizedState:$e.next;if(t!==null)$e=t,Me=e;else{if(e===null)throw Error(U(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},$e===null?_e.memoizedState=$e=e:$e=$e.next=e}return $e}function Qi(e,t){return typeof t=="function"?t(e):t}function mc(e){var t=Mt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Me,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Mr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,_e.lanes|=d,zr|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Wt(r,t.memoizedState)||(mt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,_e.lanes|=i,zr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function pc(e){var t=Mt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Wt(i,t.memoizedState)||(mt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function iy(){}function ay(e,t){var n=_e,r=Mt(),s=t(),i=!Wt(r.memoizedState,s);if(i&&(r.memoizedState=s,mt=!0),r=r.queue,pf(cy.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,Gi(9,ly.bind(null,n,r,s,t),void 0,null),Ve===null)throw Error(U(349));Mr&30||oy(n,t,s)}return s}function oy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ly(e,t,n,r){t.value=n,t.getSnapshot=r,uy(t)&&dy(e)}function cy(e,t,n){return n(function(){uy(t)&&dy(e)})}function uy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch{return!0}}function dy(e){var t=xn(e,1);t!==null&&qt(t,e,1,-1)}function am(e){var t=Qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},t.queue=e,e=e.dispatch=d2.bind(null,_e,e),[t.memoizedState,e]}function Gi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function fy(){return Mt().memoizedState}function co(e,t,n,r){var s=Qt();_e.flags|=e,s.memoizedState=Gi(1|t,n,void 0,r===void 0?null:r)}function gl(e,t,n,r){var s=Mt();r=r===void 0?null:r;var i=void 0;if(Me!==null){var o=Me.memoizedState;if(i=o.destroy,r!==null&&ff(r,o.deps)){s.memoizedState=Gi(t,n,i,r);return}}_e.flags|=e,s.memoizedState=Gi(1|t,n,i,r)}function om(e,t){return co(8390656,8,e,t)}function pf(e,t){return gl(2048,8,e,t)}function hy(e,t){return gl(4,2,e,t)}function my(e,t){return gl(4,4,e,t)}function py(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gy(e,t,n){return n=n!=null?n.concat([e]):null,gl(4,4,py.bind(null,t,e),n)}function gf(){}function yy(e,t){var n=Mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ff(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xy(e,t){var n=Mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ff(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function vy(e,t,n){return Mr&21?(Wt(n,t)||(n=kg(),_e.lanes|=n,zr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=n)}function c2(e,t){var n=fe;fe=n!==0&&4>n?n:4,e(!0);var r=hc.transition;hc.transition={};try{e(!1),t()}finally{fe=n,hc.transition=r}}function by(){return Mt().memoizedState}function u2(e,t,n){var r=Kn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wy(e))jy(t,n);else if(n=ny(e,t,n,r),n!==null){var s=ot();qt(n,e,r,s),Ny(n,t,r)}}function d2(e,t,n){var r=Kn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wy(e))jy(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Wt(l,o)){var c=t.interleaved;c===null?(s.next=s,of(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=ny(e,t,s,r),n!==null&&(s=ot(),qt(n,e,r,s),Ny(n,t,r))}}function wy(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function jy(e,t){xi=Do=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ny(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hd(e,n)}}var $o={readContext:Ot,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},f2={readContext:Ot,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:om,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,co(4194308,4,py.bind(null,t,e),n)},useLayoutEffect:function(e,t){return co(4194308,4,e,t)},useInsertionEffect:function(e,t){return co(4,2,e,t)},useMemo:function(e,t){var n=Qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=u2.bind(null,_e,e),[r.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:am,useDebugValue:gf,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=am(!1),t=e[0];return e=c2.bind(null,e[1]),Qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_e,s=Qt();if(je){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),Ve===null)throw Error(U(349));Mr&30||oy(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,om(cy.bind(null,r,i,e),[e]),r.flags|=2048,Gi(9,ly.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Qt(),t=Ve.identifierPrefix;if(je){var n=dn,r=un;n=(r&~(1<<32-Bt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=l2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},h2={readContext:Ot,useCallback:yy,useContext:Ot,useEffect:pf,useImperativeHandle:gy,useInsertionEffect:hy,useLayoutEffect:my,useMemo:xy,useReducer:mc,useRef:fy,useState:function(){return mc(Qi)},useDebugValue:gf,useDeferredValue:function(e){var t=Mt();return vy(t,Me.memoizedState,e)},useTransition:function(){var e=mc(Qi)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:iy,useSyncExternalStore:ay,useId:by,unstable_isNewReconciler:!1},m2={readContext:Ot,useCallback:yy,useContext:Ot,useEffect:pf,useImperativeHandle:gy,useInsertionEffect:hy,useLayoutEffect:my,useMemo:xy,useReducer:pc,useRef:fy,useState:function(){return pc(Qi)},useDebugValue:gf,useDeferredValue:function(e){var t=Mt();return Me===null?t.memoizedState=e:vy(t,Me.memoizedState,e)},useTransition:function(){var e=pc(Qi)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:iy,useSyncExternalStore:ay,useId:by,unstable_isNewReconciler:!1};function $t(e,t){if(e&&e.defaultProps){t=Ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _u(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yl={isMounted:function(e){return(e=e._reactInternals)?Vr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ot(),s=Kn(e),i=hn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Qn(e,i,s),t!==null&&(qt(t,e,s,r),oo(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ot(),s=Kn(e),i=hn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Qn(e,i,s),t!==null&&(qt(t,e,s,r),oo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ot(),r=Kn(e),s=hn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Qn(e,s,r),t!==null&&(qt(t,e,r,n),oo(t,e,r))}};function lm(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ui(n,r)||!Ui(s,i):!0}function ky(e,t,n){var r=!1,s=er,i=t.contextType;return typeof i=="object"&&i!==null?i=Ot(i):(s=gt(t)?Ir:Je.current,r=t.contextTypes,i=(r=r!=null)?Es(e,s):er),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function cm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yl.enqueueReplaceState(t,t.state,null)}function Cu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},lf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ot(i):(i=gt(t)?Ir:Je.current,s.context=Es(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(_u(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yl.enqueueReplaceState(s,s.state,null),Mo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ls(e,t){try{var n="",r=t;do n+=Vb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function gc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Eu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var p2=typeof WeakMap=="function"?WeakMap:Map;function Sy(e,t,n){n=hn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fo||(Fo=!0,Du=r),Eu(e,t)},n}function _y(e,t,n){n=hn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Eu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Eu(e,t),typeof r!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function um(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new p2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=P2.bind(null,e,t,n),t.then(e,e))}function dm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=hn(-1,1),t.tag=2,Qn(n,t,1))),n.lanes|=1),e)}var g2=_n.ReactCurrentOwner,mt=!1;function it(e,t,n,r){t.child=e===null?ty(t,null,n,r):Ts(t,e.child,n,r)}function hm(e,t,n,r,s){n=n.render;var i=t.ref;return ks(t,s),r=hf(e,t,n,r,i,s),n=mf(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(je&&n&&ef(t),t.flags|=1,it(e,t,r,s),t.child)}function mm(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!kf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Cy(e,t,i,r,s)):(e=mo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ui,n(o,r)&&e.ref===t.ref)return vn(e,t,s)}return t.flags|=1,e=Yn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Cy(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ui(i,r)&&e.ref===t.ref)if(mt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(mt=!0);else return t.lanes=e.lanes,vn(e,t,s)}return Pu(e,t,n,r,s)}function Ey(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(hs,bt),bt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(hs,bt),bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,pe(hs,bt),bt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,pe(hs,bt),bt|=r;return it(e,t,s,n),t.child}function Py(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pu(e,t,n,r,s){var i=gt(n)?Ir:Je.current;return i=Es(t,i),ks(t,s),n=hf(e,t,n,r,i,s),r=mf(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(je&&r&&ef(t),t.flags|=1,it(e,t,n,s),t.child)}function pm(e,t,n,r,s){if(gt(n)){var i=!0;Ao(t)}else i=!1;if(ks(t,s),t.stateNode===null)uo(e,t),ky(t,n,r),Cu(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ot(u):(u=gt(n)?Ir:Je.current,u=Es(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&cm(t,o,r,u),Rn=!1;var h=t.memoizedState;o.state=h,Mo(t,r,o,s),c=t.memoizedState,l!==r||h!==c||pt.current||Rn?(typeof d=="function"&&(_u(t,n,d,r),c=t.memoizedState),(l=Rn||lm(t,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ry(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:$t(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ot(c):(c=gt(n)?Ir:Je.current,c=Es(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&cm(t,o,r,c),Rn=!1,h=t.memoizedState,o.state=h,Mo(t,r,o,s);var y=t.memoizedState;l!==f||h!==y||pt.current||Rn?(typeof m=="function"&&(_u(t,n,m,r),y=t.memoizedState),(u=Rn||lm(t,n,u,r,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Tu(e,t,n,r,i,s)}function Tu(e,t,n,r,s,i){Py(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&em(t,n,!1),vn(e,t,i);r=t.stateNode,g2.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ts(t,e.child,null,i),t.child=Ts(t,null,l,i)):it(e,t,l,i),t.memoizedState=r.state,s&&em(t,n,!0),t.child}function Ty(e){var t=e.stateNode;t.pendingContext?Zh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zh(e,t.context,!1),cf(e,t.containerInfo)}function gm(e,t,n,r,s){return Ps(),nf(s),t.flags|=256,it(e,t,n,r),t.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ay(e,t,n){var r=t.pendingProps,s=ke.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),pe(ke,s&1),e===null)return ku(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=bl(o,r,0,null),e=Tr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Lu(n),t.memoizedState=Au,e):yf(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return y2(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Yn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Yn(l,i):(i=Tr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Lu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Au,r}return i=e.child,e=i.sibling,r=Yn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function yf(e,t){return t=bl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ua(e,t,n,r){return r!==null&&nf(r),Ts(t,e.child,null,n),e=yf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function y2(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=gc(Error(U(422))),Ua(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=bl({mode:"visible",children:r.children},s,0,null),i=Tr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ts(t,e.child,null,o),t.child.memoizedState=Lu(o),t.memoizedState=Au,i);if(!(t.mode&1))return Ua(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(U(419)),r=gc(i,r,void 0),Ua(e,t,o,r)}if(l=(o&e.childLanes)!==0,mt||l){if(r=Ve,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xn(e,s),qt(r,e,s,-1))}return Nf(),r=gc(Error(U(421))),Ua(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=T2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,wt=Hn(s.nextSibling),jt=t,je=!0,Vt=null,e!==null&&(Tt[At++]=un,Tt[At++]=dn,Tt[At++]=Or,un=e.id,dn=e.overflow,Or=t),t=yf(t,r.children),t.flags|=4096,t)}function ym(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Su(e.return,t,n)}function yc(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ly(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(it(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ym(e,n,t);else if(e.tag===19)ym(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pe(ke,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&zo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),yc(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&zo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}yc(t,!0,n,null,i);break;case"together":yc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function uo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function x2(e,t,n){switch(t.tag){case 3:Ty(t),Ps();break;case 5:sy(t);break;case 1:gt(t.type)&&Ao(t);break;case 4:cf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;pe(Io,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(pe(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?Ay(e,t,n):(pe(ke,ke.current&1),e=vn(e,t,n),e!==null?e.sibling:null);pe(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ly(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pe(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,Ey(e,t,n)}return vn(e,t,n)}var Ry,Ru,Iy,Oy;Ry=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ru=function(){};Iy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Sr(en.current);var i=null;switch(n){case"input":s=tu(e,s),r=tu(e,r),i=[];break;case"select":s=Ce({},s,{value:void 0}),r=Ce({},r,{value:void 0}),i=[];break;case"textarea":s=su(e,s),r=su(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Po)}au(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ri.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ri.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&xe("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Oy=function(e,t,n,r){n!==r&&(t.flags|=4)};function ei(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function v2(e,t,n){var r=t.pendingProps;switch(tf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return gt(t.type)&&To(),Ge(t),null;case 3:return r=t.stateNode,As(),ve(pt),ve(Je),df(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Da(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vt!==null&&(Fu(Vt),Vt=null))),Ru(e,t),Ge(t),null;case 5:uf(t);var s=Sr(Wi.current);if(n=t.type,e!==null&&t.stateNode!=null)Iy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return Ge(t),null}if(e=Sr(en.current),Da(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Kt]=t,r[Bi]=i,e=(t.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(s=0;s<li.length;s++)xe(li[s],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":_h(r,i),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},xe("invalid",r);break;case"textarea":Eh(r,i),xe("invalid",r)}au(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&za(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&za(r.textContent,l,e),s=["children",""+l]):Ri.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&xe("scroll",r)}switch(n){case"input":Pa(r),Ch(r,i,!0);break;case"textarea":Pa(r),Ph(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Po)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Kt]=t,e[Bi]=r,Ry(e,t,!1,!1),t.stateNode=e;e:{switch(o=ou(n,r),n){case"dialog":xe("cancel",e),xe("close",e),s=r;break;case"iframe":case"object":case"embed":xe("load",e),s=r;break;case"video":case"audio":for(s=0;s<li.length;s++)xe(li[s],e);s=r;break;case"source":xe("error",e),s=r;break;case"img":case"image":case"link":xe("error",e),xe("load",e),s=r;break;case"details":xe("toggle",e),s=r;break;case"input":_h(e,r),s=tu(e,r),xe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ce({},r,{value:void 0}),xe("invalid",e);break;case"textarea":Eh(e,r),s=su(e,r),xe("invalid",e);break;default:s=r}au(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?fg(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ug(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ii(e,c):typeof c=="number"&&Ii(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ri.hasOwnProperty(i)?c!=null&&i==="onScroll"&&xe("scroll",e):c!=null&&Ud(e,i,c,o))}switch(n){case"input":Pa(e),Ch(e,r,!1);break;case"textarea":Pa(e),Ph(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?bs(e,!!r.multiple,i,!1):r.defaultValue!=null&&bs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Po)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)Oy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=Sr(Wi.current),Sr(en.current),Da(t)){if(r=t.stateNode,n=t.memoizedProps,r[Kt]=t,(i=r.nodeValue!==n)&&(e=jt,e!==null))switch(e.tag){case 3:za(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&za(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kt]=t,t.stateNode=r}return Ge(t),null;case 13:if(ve(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&wt!==null&&t.mode&1&&!(t.flags&128))Zg(),Ps(),t.flags|=98560,i=!1;else if(i=Da(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(U(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[Kt]=t}else Ps(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ge(t),i=!1}else Vt!==null&&(Fu(Vt),Vt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?ze===0&&(ze=3):Nf())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return As(),Ru(e,t),e===null&&Fi(t.stateNode.containerInfo),Ge(t),null;case 10:return af(t.type._context),Ge(t),null;case 17:return gt(t.type)&&To(),Ge(t),null;case 19:if(ve(ke),i=t.memoizedState,i===null)return Ge(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ei(i,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=zo(e),o!==null){for(t.flags|=128,ei(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pe(ke,ke.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ae()>Rs&&(t.flags|=128,r=!0,ei(i,!1),t.lanes=4194304)}else{if(!r)if(e=zo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ei(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!je)return Ge(t),null}else 2*Ae()-i.renderingStartTime>Rs&&n!==1073741824&&(t.flags|=128,r=!0,ei(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ae(),t.sibling=null,n=ke.current,pe(ke,r?n&1|2:n&1),t):(Ge(t),null);case 22:case 23:return jf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bt&1073741824&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function b2(e,t){switch(tf(t),t.tag){case 1:return gt(t.type)&&To(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return As(),ve(pt),ve(Je),df(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uf(t),null;case 13:if(ve(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Ps()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ve(ke),null;case 4:return As(),null;case 10:return af(t.type._context),null;case 22:case 23:return jf(),null;case 24:return null;default:return null}}var Fa=!1,Xe=!1,w2=typeof WeakSet=="function"?WeakSet:Set,H=null;function fs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(e,t,r)}else n.current=null}function Iu(e,t,n){try{n()}catch(r){Pe(e,t,r)}}var xm=!1;function j2(e,t){if(yu=_o,e=Ug(),Zd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=o),h===i&&++d===r&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(xu={focusedElem:e,selectionRange:n},_o=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,v=y.memoizedState,x=t.stateNode,g=x.getSnapshotBeforeUpdate(t.elementType===t.type?w:$t(t.type,w),v);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(N){Pe(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return y=xm,xm=!1,y}function vi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Iu(t,n,i)}s=s.next}while(s!==r)}}function xl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ou(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function My(e){var t=e.alternate;t!==null&&(e.alternate=null,My(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kt],delete t[Bi],delete t[wu],delete t[s2],delete t[i2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zy(e){return e.tag===5||e.tag===3||e.tag===4}function vm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Po));else if(r!==4&&(e=e.child,e!==null))for(Mu(e,t,n),e=e.sibling;e!==null;)Mu(e,t,n),e=e.sibling}function zu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(zu(e,t,n),e=e.sibling;e!==null;)zu(e,t,n),e=e.sibling}var Be=null,Ut=!1;function En(e,t,n){for(n=n.child;n!==null;)Dy(e,t,n),n=n.sibling}function Dy(e,t,n){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(ul,n)}catch{}switch(n.tag){case 5:Xe||fs(n,t);case 6:var r=Be,s=Ut;Be=null,En(e,t,n),Be=r,Ut=s,Be!==null&&(Ut?(e=Be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(Ut?(e=Be,n=n.stateNode,e.nodeType===8?uc(e.parentNode,n):e.nodeType===1&&uc(e,n),Di(e)):uc(Be,n.stateNode));break;case 4:r=Be,s=Ut,Be=n.stateNode.containerInfo,Ut=!0,En(e,t,n),Be=r,Ut=s;break;case 0:case 11:case 14:case 15:if(!Xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Iu(n,t,o),s=s.next}while(s!==r)}En(e,t,n);break;case 1:if(!Xe&&(fs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Pe(n,t,l)}En(e,t,n);break;case 21:En(e,t,n);break;case 22:n.mode&1?(Xe=(r=Xe)||n.memoizedState!==null,En(e,t,n),Xe=r):En(e,t,n);break;default:En(e,t,n)}}function bm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new w2),t.forEach(function(r){var s=A2.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function zt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Be=l.stateNode,Ut=!1;break e;case 3:Be=l.stateNode.containerInfo,Ut=!0;break e;case 4:Be=l.stateNode.containerInfo,Ut=!0;break e}l=l.return}if(Be===null)throw Error(U(160));Dy(i,o,s),Be=null,Ut=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Pe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$y(t,e),t=t.sibling}function $y(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),Ht(e),r&4){try{vi(3,e,e.return),xl(3,e)}catch(w){Pe(e,e.return,w)}try{vi(5,e,e.return)}catch(w){Pe(e,e.return,w)}}break;case 1:zt(t,e),Ht(e),r&512&&n!==null&&fs(n,n.return);break;case 5:if(zt(t,e),Ht(e),r&512&&n!==null&&fs(n,n.return),e.flags&32){var s=e.stateNode;try{Ii(s,"")}catch(w){Pe(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&og(s,i),ou(l,o);var u=ou(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?fg(s,f):d==="dangerouslySetInnerHTML"?ug(s,f):d==="children"?Ii(s,f):Ud(s,d,f,u)}switch(l){case"input":nu(s,i);break;case"textarea":lg(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?bs(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?bs(s,!!i.multiple,i.defaultValue,!0):bs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bi]=i}catch(w){Pe(e,e.return,w)}}break;case 6:if(zt(t,e),Ht(e),r&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){Pe(e,e.return,w)}}break;case 3:if(zt(t,e),Ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Di(t.containerInfo)}catch(w){Pe(e,e.return,w)}break;case 4:zt(t,e),Ht(e);break;case 13:zt(t,e),Ht(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(bf=Ae())),r&4&&bm(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Xe=(u=Xe)||d,zt(t,e),Xe=u):zt(t,e),Ht(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(H=e,d=e.child;d!==null;){for(f=H=d;H!==null;){switch(h=H,m=h.child,h.tag){case 0:case 11:case 14:case 15:vi(4,h,h.return);break;case 1:fs(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){Pe(r,n,w)}}break;case 5:fs(h,h.return);break;case 22:if(h.memoizedState!==null){jm(f);continue}}m!==null?(m.return=h,H=m):jm(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=dg("display",o))}catch(w){Pe(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Pe(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zt(t,e),Ht(e),r&4&&bm(e);break;case 21:break;default:zt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zy(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ii(s,""),r.flags&=-33);var i=vm(e);zu(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=vm(e);Mu(e,l,o);break;default:throw Error(U(161))}}catch(c){Pe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function N2(e,t,n){H=e,Uy(e)}function Uy(e,t,n){for(var r=(e.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Fa;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Xe;l=Fa;var u=Xe;if(Fa=o,(Xe=c)&&!u)for(H=s;H!==null;)o=H,c=o.child,o.tag===22&&o.memoizedState!==null?Nm(s):c!==null?(c.return=o,H=c):Nm(s);for(;i!==null;)H=i,Uy(i),i=i.sibling;H=s,Fa=l,Xe=u}wm(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):wm(e)}}function wm(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xe||xl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Xe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:$t(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&im(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}im(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Di(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Xe||t.flags&512&&Ou(t)}catch(h){Pe(t,t.return,h)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function jm(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function Nm(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xl(4,t)}catch(c){Pe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Pe(t,s,c)}}var i=t.return;try{Ou(t)}catch(c){Pe(t,i,c)}break;case 5:var o=t.return;try{Ou(t)}catch(c){Pe(t,o,c)}}}catch(c){Pe(t,t.return,c)}if(t===e){H=null;break}var l=t.sibling;if(l!==null){l.return=t.return,H=l;break}H=t.return}}var k2=Math.ceil,Uo=_n.ReactCurrentDispatcher,xf=_n.ReactCurrentOwner,Rt=_n.ReactCurrentBatchConfig,oe=0,Ve=null,Ie=null,qe=0,bt=0,hs=lr(0),ze=0,Ki=null,zr=0,vl=0,vf=0,bi=null,ft=null,bf=0,Rs=1/0,on=null,Fo=!1,Du=null,Gn=null,Va=!1,Fn=null,Vo=0,wi=0,$u=null,fo=-1,ho=0;function ot(){return oe&6?Ae():fo!==-1?fo:fo=Ae()}function Kn(e){return e.mode&1?oe&2&&qe!==0?qe&-qe:o2.transition!==null?(ho===0&&(ho=kg()),ho):(e=fe,e!==0||(e=window.event,e=e===void 0?16:Ag(e.type)),e):1}function qt(e,t,n,r){if(50<wi)throw wi=0,$u=null,Error(U(185));oa(e,n,r),(!(oe&2)||e!==Ve)&&(e===Ve&&(!(oe&2)&&(vl|=n),ze===4&&zn(e,qe)),yt(e,r),n===1&&oe===0&&!(t.mode&1)&&(Rs=Ae()+500,pl&&cr()))}function yt(e,t){var n=e.callbackNode;ow(e,t);var r=So(e,e===Ve?qe:0);if(r===0)n!==null&&Lh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Lh(n),t===1)e.tag===0?a2(km.bind(null,e)):Yg(km.bind(null,e)),n2(function(){!(oe&6)&&cr()}),n=null;else{switch(Sg(r)){case 1:n=Wd;break;case 4:n=jg;break;case 16:n=ko;break;case 536870912:n=Ng;break;default:n=ko}n=Gy(n,Fy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fy(e,t){if(fo=-1,ho=0,oe&6)throw Error(U(327));var n=e.callbackNode;if(Ss()&&e.callbackNode!==n)return null;var r=So(e,e===Ve?qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Bo(e,r);else{t=r;var s=oe;oe|=2;var i=By();(Ve!==e||qe!==t)&&(on=null,Rs=Ae()+500,Pr(e,t));do try{C2();break}catch(l){Vy(e,l)}while(!0);sf(),Uo.current=i,oe=s,Ie!==null?t=0:(Ve=null,qe=0,t=ze)}if(t!==0){if(t===2&&(s=fu(e),s!==0&&(r=s,t=Uu(e,s))),t===1)throw n=Ki,Pr(e,0),zn(e,r),yt(e,Ae()),n;if(t===6)zn(e,r);else{if(s=e.current.alternate,!(r&30)&&!S2(s)&&(t=Bo(e,r),t===2&&(i=fu(e),i!==0&&(r=i,t=Uu(e,i))),t===1))throw n=Ki,Pr(e,0),zn(e,r),yt(e,Ae()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:yr(e,ft,on);break;case 3:if(zn(e,r),(r&130023424)===r&&(t=bf+500-Ae(),10<t)){if(So(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ot(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=bu(yr.bind(null,e,ft,on),t);break}yr(e,ft,on);break;case 4:if(zn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Bt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*k2(r/1960))-r,10<r){e.timeoutHandle=bu(yr.bind(null,e,ft,on),r);break}yr(e,ft,on);break;case 5:yr(e,ft,on);break;default:throw Error(U(329))}}}return yt(e,Ae()),e.callbackNode===n?Fy.bind(null,e):null}function Uu(e,t){var n=bi;return e.current.memoizedState.isDehydrated&&(Pr(e,t).flags|=256),e=Bo(e,t),e!==2&&(t=ft,ft=n,t!==null&&Fu(t)),e}function Fu(e){ft===null?ft=e:ft.push.apply(ft,e)}function S2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Wt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zn(e,t){for(t&=~vf,t&=~vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function km(e){if(oe&6)throw Error(U(327));Ss();var t=So(e,0);if(!(t&1))return yt(e,Ae()),null;var n=Bo(e,t);if(e.tag!==0&&n===2){var r=fu(e);r!==0&&(t=r,n=Uu(e,r))}if(n===1)throw n=Ki,Pr(e,0),zn(e,t),yt(e,Ae()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yr(e,ft,on),yt(e,Ae()),null}function wf(e,t){var n=oe;oe|=1;try{return e(t)}finally{oe=n,oe===0&&(Rs=Ae()+500,pl&&cr())}}function Dr(e){Fn!==null&&Fn.tag===0&&!(oe&6)&&Ss();var t=oe;oe|=1;var n=Rt.transition,r=fe;try{if(Rt.transition=null,fe=1,e)return e()}finally{fe=r,Rt.transition=n,oe=t,!(oe&6)&&cr()}}function jf(){bt=hs.current,ve(hs)}function Pr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,t2(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(tf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&To();break;case 3:As(),ve(pt),ve(Je),df();break;case 5:uf(r);break;case 4:As();break;case 13:ve(ke);break;case 19:ve(ke);break;case 10:af(r.type._context);break;case 22:case 23:jf()}n=n.return}if(Ve=e,Ie=e=Yn(e.current,null),qe=bt=t,ze=0,Ki=null,vf=vl=zr=0,ft=bi=null,kr!==null){for(t=0;t<kr.length;t++)if(n=kr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}kr=null}return e}function Vy(e,t){do{var n=Ie;try{if(sf(),lo.current=$o,Do){for(var r=_e.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Do=!1}if(Mr=0,$e=Me=_e=null,xi=!1,Hi=0,xf.current=null,n===null||n.return===null){ze=1,Ki=t,Ie=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=qe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=dm(o);if(m!==null){m.flags&=-257,fm(m,o,l,i,t),m.mode&1&&um(i,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var w=new Set;w.add(c),t.updateQueue=w}else y.add(c);break e}else{if(!(t&1)){um(i,u,t),Nf();break e}c=Error(U(426))}}else if(je&&l.mode&1){var v=dm(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),fm(v,o,l,i,t),nf(Ls(c,l));break e}}i=c=Ls(c,l),ze!==4&&(ze=2),bi===null?bi=[i]:bi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=Sy(i,c,t);sm(i,x);break e;case 1:l=c;var g=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Gn===null||!Gn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=_y(i,l,t);sm(i,N);break e}}i=i.return}while(i!==null)}Wy(n)}catch(j){t=j,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function By(){var e=Uo.current;return Uo.current=$o,e===null?$o:e}function Nf(){(ze===0||ze===3||ze===2)&&(ze=4),Ve===null||!(zr&268435455)&&!(vl&268435455)||zn(Ve,qe)}function Bo(e,t){var n=oe;oe|=2;var r=By();(Ve!==e||qe!==t)&&(on=null,Pr(e,t));do try{_2();break}catch(s){Vy(e,s)}while(!0);if(sf(),oe=n,Uo.current=r,Ie!==null)throw Error(U(261));return Ve=null,qe=0,ze}function _2(){for(;Ie!==null;)qy(Ie)}function C2(){for(;Ie!==null&&!Jb();)qy(Ie)}function qy(e){var t=Qy(e.alternate,e,bt);e.memoizedProps=e.pendingProps,t===null?Wy(e):Ie=t,xf.current=null}function Wy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=b2(n,t),n!==null){n.flags&=32767,Ie=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Ie=null;return}}else if(n=v2(n,t,bt),n!==null){Ie=n;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);ze===0&&(ze=5)}function yr(e,t,n){var r=fe,s=Rt.transition;try{Rt.transition=null,fe=1,E2(e,t,n,r)}finally{Rt.transition=s,fe=r}return null}function E2(e,t,n,r){do Ss();while(Fn!==null);if(oe&6)throw Error(U(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(lw(e,i),e===Ve&&(Ie=Ve=null,qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Va||(Va=!0,Gy(ko,function(){return Ss(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Rt.transition,Rt.transition=null;var o=fe;fe=1;var l=oe;oe|=4,xf.current=null,j2(e,n),$y(n,e),Gw(xu),_o=!!yu,xu=yu=null,e.current=n,N2(n),Zb(),oe=l,fe=o,Rt.transition=i}else e.current=n;if(Va&&(Va=!1,Fn=e,Vo=s),i=e.pendingLanes,i===0&&(Gn=null),nw(n.stateNode),yt(e,Ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Fo)throw Fo=!1,e=Du,Du=null,e;return Vo&1&&e.tag!==0&&Ss(),i=e.pendingLanes,i&1?e===$u?wi++:(wi=0,$u=e):wi=0,cr(),null}function Ss(){if(Fn!==null){var e=Sg(Vo),t=Rt.transition,n=fe;try{if(Rt.transition=null,fe=16>e?16:e,Fn===null)var r=!1;else{if(e=Fn,Fn=null,Vo=0,oe&6)throw Error(U(331));var s=oe;for(oe|=4,H=e.current;H!==null;){var i=H,o=i.child;if(H.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(H=u;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:vi(8,d,i)}var f=d.child;if(f!==null)f.return=d,H=f;else for(;H!==null;){d=H;var h=d.sibling,m=d.return;if(My(d),d===u){H=null;break}if(h!==null){h.return=m,H=h;break}H=m}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var v=w.sibling;w.sibling=null,w=v}while(w!==null)}}H=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,H=o;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vi(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,H=x;break e}H=i.return}}var g=e.current;for(H=g;H!==null;){o=H;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,H=p;else e:for(o=g;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xl(9,l)}}catch(j){Pe(l,l.return,j)}if(l===o){H=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,H=N;break e}H=l.return}}if(oe=s,cr(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(ul,e)}catch{}r=!0}return r}finally{fe=n,Rt.transition=t}}return!1}function Sm(e,t,n){t=Ls(n,t),t=Sy(e,t,1),e=Qn(e,t,1),t=ot(),e!==null&&(oa(e,1,t),yt(e,t))}function Pe(e,t,n){if(e.tag===3)Sm(e,e,n);else for(;t!==null;){if(t.tag===3){Sm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gn===null||!Gn.has(r))){e=Ls(n,e),e=_y(t,e,1),t=Qn(t,e,1),e=ot(),t!==null&&(oa(t,1,e),yt(t,e));break}}t=t.return}}function P2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&n,Ve===e&&(qe&n)===n&&(ze===4||ze===3&&(qe&130023424)===qe&&500>Ae()-bf?Pr(e,0):vf|=n),yt(e,t)}function Hy(e,t){t===0&&(e.mode&1?(t=La,La<<=1,!(La&130023424)&&(La=4194304)):t=1);var n=ot();e=xn(e,t),e!==null&&(oa(e,t,n),yt(e,n))}function T2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hy(e,n)}function A2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),Hy(e,n)}var Qy;Qy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||pt.current)mt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return mt=!1,x2(e,t,n);mt=!!(e.flags&131072)}else mt=!1,je&&t.flags&1048576&&Xg(t,Ro,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;uo(e,t),e=t.pendingProps;var s=Es(t,Je.current);ks(t,n),s=hf(null,t,r,e,s,n);var i=mf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(r)?(i=!0,Ao(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lf(t),s.updater=yl,t.stateNode=s,s._reactInternals=t,Cu(t,r,e,n),t=Tu(null,t,r,!0,i,n)):(t.tag=0,je&&i&&ef(t),it(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(uo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=R2(r),e=$t(r,e),s){case 0:t=Pu(null,t,r,e,n);break e;case 1:t=pm(null,t,r,e,n);break e;case 11:t=hm(null,t,r,e,n);break e;case 14:t=mm(null,t,r,$t(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$t(r,s),Pu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$t(r,s),pm(e,t,r,s,n);case 3:e:{if(Ty(t),e===null)throw Error(U(387));r=t.pendingProps,i=t.memoizedState,s=i.element,ry(e,t),Mo(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ls(Error(U(423)),t),t=gm(e,t,r,n,s);break e}else if(r!==s){s=Ls(Error(U(424)),t),t=gm(e,t,r,n,s);break e}else for(wt=Hn(t.stateNode.containerInfo.firstChild),jt=t,je=!0,Vt=null,n=ty(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ps(),r===s){t=vn(e,t,n);break e}it(e,t,r,n)}t=t.child}return t;case 5:return sy(t),e===null&&ku(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,vu(r,s)?o=null:i!==null&&vu(r,i)&&(t.flags|=32),Py(e,t),it(e,t,o,n),t.child;case 6:return e===null&&ku(t),null;case 13:return Ay(e,t,n);case 4:return cf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ts(t,null,r,n):it(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$t(r,s),hm(e,t,r,s,n);case 7:return it(e,t,t.pendingProps,n),t.child;case 8:return it(e,t,t.pendingProps.children,n),t.child;case 12:return it(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,pe(Io,r._currentValue),r._currentValue=o,i!==null)if(Wt(i.value,o)){if(i.children===s.children&&!pt.current){t=vn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=hn(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Su(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Su(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}it(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ks(t,n),s=Ot(s),r=r(s),t.flags|=1,it(e,t,r,n),t.child;case 14:return r=t.type,s=$t(r,t.pendingProps),s=$t(r.type,s),mm(e,t,r,s,n);case 15:return Cy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$t(r,s),uo(e,t),t.tag=1,gt(r)?(e=!0,Ao(t)):e=!1,ks(t,n),ky(t,r,s),Cu(t,r,s,n),Tu(null,t,r,!0,e,n);case 19:return Ly(e,t,n);case 22:return Ey(e,t,n)}throw Error(U(156,t.tag))};function Gy(e,t){return wg(e,t)}function L2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,n,r){return new L2(e,t,n,r)}function kf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function R2(e){if(typeof e=="function")return kf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vd)return 11;if(e===Bd)return 14}return 2}function Yn(e,t){var n=e.alternate;return n===null?(n=Lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function mo(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")kf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case rs:return Tr(n.children,s,i,t);case Fd:o=8,s|=8;break;case Xc:return e=Lt(12,n,t,s|2),e.elementType=Xc,e.lanes=i,e;case Jc:return e=Lt(13,n,t,s),e.elementType=Jc,e.lanes=i,e;case Zc:return e=Lt(19,n,t,s),e.elementType=Zc,e.lanes=i,e;case sg:return bl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ng:o=10;break e;case rg:o=9;break e;case Vd:o=11;break e;case Bd:o=14;break e;case Ln:o=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Lt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Tr(e,t,n,r){return e=Lt(7,e,r,t),e.lanes=n,e}function bl(e,t,n,r){return e=Lt(22,e,r,t),e.elementType=sg,e.lanes=n,e.stateNode={isHidden:!1},e}function xc(e,t,n){return e=Lt(6,e,null,t),e.lanes=n,e}function vc(e,t,n){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function I2(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zl(0),this.expirationTimes=Zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Sf(e,t,n,r,s,i,o,l,c){return e=new I2(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Lt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lf(i),e}function O2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ns,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ky(e){if(!e)return er;e=e._reactInternals;e:{if(Vr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(gt(n))return Kg(e,n,t)}return t}function Yy(e,t,n,r,s,i,o,l,c){return e=Sf(n,r,!0,e,s,i,o,l,c),e.context=Ky(null),n=e.current,r=ot(),s=Kn(n),i=hn(r,s),i.callback=t??null,Qn(n,i,s),e.current.lanes=s,oa(e,s,r),yt(e,r),e}function wl(e,t,n,r){var s=t.current,i=ot(),o=Kn(s);return n=Ky(n),t.context===null?t.context=n:t.pendingContext=n,t=hn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qn(s,t,o),e!==null&&(qt(e,s,o,i),oo(e,s,o)),o}function qo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _m(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _f(e,t){_m(e,t),(e=e.alternate)&&_m(e,t)}function M2(){return null}var Xy=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cf(e){this._internalRoot=e}jl.prototype.render=Cf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));wl(e,t,null,null)};jl.prototype.unmount=Cf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dr(function(){wl(null,e,null,null)}),t[yn]=null}};function jl(e){this._internalRoot=e}jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Eg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mn.length&&t!==0&&t<Mn[n].priority;n++);Mn.splice(n,0,e),n===0&&Tg(e)}};function Ef(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cm(){}function z2(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=qo(o);i.call(u)}}var o=Yy(t,r,e,0,null,!1,!1,"",Cm);return e._reactRootContainer=o,e[yn]=o.current,Fi(e.nodeType===8?e.parentNode:e),Dr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=qo(c);l.call(u)}}var c=Sf(e,0,!1,null,null,!1,!1,"",Cm);return e._reactRootContainer=c,e[yn]=c.current,Fi(e.nodeType===8?e.parentNode:e),Dr(function(){wl(t,c,n,r)}),c}function kl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=qo(o);l.call(c)}}wl(t,o,e,s)}else o=z2(n,t,e,s,r);return qo(o)}_g=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=oi(t.pendingLanes);n!==0&&(Hd(t,n|1),yt(t,Ae()),!(oe&6)&&(Rs=Ae()+500,cr()))}break;case 13:Dr(function(){var r=xn(e,1);if(r!==null){var s=ot();qt(r,e,1,s)}}),_f(e,1)}};Qd=function(e){if(e.tag===13){var t=xn(e,134217728);if(t!==null){var n=ot();qt(t,e,134217728,n)}_f(e,134217728)}};Cg=function(e){if(e.tag===13){var t=Kn(e),n=xn(e,t);if(n!==null){var r=ot();qt(n,e,t,r)}_f(e,t)}};Eg=function(){return fe};Pg=function(e,t){var n=fe;try{return fe=e,t()}finally{fe=n}};cu=function(e,t,n){switch(t){case"input":if(nu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ml(r);if(!s)throw Error(U(90));ag(r),nu(r,s)}}}break;case"textarea":lg(e,n);break;case"select":t=n.value,t!=null&&bs(e,!!n.multiple,t,!1)}};pg=wf;gg=Dr;var D2={usingClientEntryPoint:!1,Events:[ca,os,ml,hg,mg,wf]},ti={findFiberByHostInstance:Nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$2={bundleType:ti.bundleType,version:ti.version,rendererPackageName:ti.rendererPackageName,rendererConfig:ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vg(e),e===null?null:e.stateNode},findFiberByHostInstance:ti.findFiberByHostInstance||M2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ba.isDisabled&&Ba.supportsFiber)try{ul=Ba.inject($2),Zt=Ba}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D2;St.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ef(t))throw Error(U(200));return O2(e,t,null,n)};St.createRoot=function(e,t){if(!Ef(e))throw Error(U(299));var n=!1,r="",s=Xy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Sf(e,1,!1,null,null,n,!1,r,s),e[yn]=t.current,Fi(e.nodeType===8?e.parentNode:e),new Cf(t)};St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=vg(t),e=e===null?null:e.stateNode,e};St.flushSync=function(e){return Dr(e)};St.hydrate=function(e,t,n){if(!Nl(t))throw Error(U(200));return kl(null,e,t,!0,n)};St.hydrateRoot=function(e,t,n){if(!Ef(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Xy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Yy(t,null,e,1,n??null,s,!1,i,o),e[yn]=t.current,Fi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new jl(t)};St.render=function(e,t,n){if(!Nl(t))throw Error(U(200));return kl(null,e,t,!1,n)};St.unmountComponentAtNode=function(e){if(!Nl(e))throw Error(U(40));return e._reactRootContainer?(Dr(function(){kl(null,null,e,!1,function(){e._reactRootContainer=null,e[yn]=null})}),!0):!1};St.unstable_batchedUpdates=wf;St.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Nl(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return kl(e,t,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function Jy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jy)}catch(e){console.error(e)}}Jy(),J0.exports=St;var U2=J0.exports,Zy,Em=U2;Zy=Em.createRoot,Em.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yi(){return Yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yi.apply(this,arguments)}var Vn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vn||(Vn={}));const Pm="popstate";function F2(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:l}=r.location;return Vu("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:tx(s)}return B2(t,n,null,e)}function Oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ex(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function V2(){return Math.random().toString(36).substr(2,8)}function Tm(e,t){return{usr:e.state,key:e.key,idx:t}}function Vu(e,t,n,r){return n===void 0&&(n=null),Yi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fs(t):t,{state:n,key:t&&t.key||r||V2()})}function tx(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Fs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function B2(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Vn.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Yi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Vn.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:w.location,delta:x})}function h(v,x){l=Vn.Push;let g=Vu(w.location,v,x);u=d()+1;let p=Tm(g,u),N=w.createHref(g);try{o.pushState(p,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(N)}i&&c&&c({action:l,location:w.location,delta:1})}function m(v,x){l=Vn.Replace;let g=Vu(w.location,v,x);u=d();let p=Tm(g,u),N=w.createHref(g);o.replaceState(p,"",N),i&&c&&c({action:l,location:w.location,delta:0})}function y(v){let x=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof v=="string"?v:tx(v);return g=g.replace(/ $/,"%20"),Oe(x,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,x)}let w={get action(){return l},get location(){return e(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Pm,f),c=v,()=>{s.removeEventListener(Pm,f),c=null}},createHref(v){return t(s,v)},createURL:y,encodeLocation(v){let x=y(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(v){return o.go(v)}};return w}var Am;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Am||(Am={}));function q2(e,t,n){return n===void 0&&(n="/"),W2(e,t,n,!1)}function W2(e,t,n,r){let s=typeof t=="string"?Fs(t):t,i=sx(s.pathname||"/",n);if(i==null)return null;let o=nx(e);H2(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=rj(i);l=tj(o[c],u,r)}return l}function nx(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Oe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ar([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Oe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),nx(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Z2(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of rx(i.path))s(i,o,c)}),t}function rx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=rx(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function H2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ej(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Q2=/^:[\w-]+$/,G2=3,K2=2,Y2=1,X2=10,J2=-2,Lm=e=>e==="*";function Z2(e,t){let n=e.split("/"),r=n.length;return n.some(Lm)&&(r+=J2),t&&(r+=K2),n.filter(s=>!Lm(s)).reduce((s,i)=>s+(Q2.test(i)?G2:i===""?Y2:X2),r)}function ej(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function tj(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Rm({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Rm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Ar([i,f.pathname]),pathnameBase:oj(Ar([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Ar([i,f.pathnameBase]))}return o}function Rm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=nj(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let w=l[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[f];return m&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function nj(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ex(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function rj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ex(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function sx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function sj(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Fs(e):e;return{pathname:n?n.startsWith("/")?n:ij(n,t):t,search:lj(r),hash:cj(s)}}function ij(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function bc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ix(e,t){let n=aj(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ax(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Fs(e):(s=Yi({},e),Oe(!s.pathname||!s.pathname.includes("?"),bc("?","pathname","search",s)),Oe(!s.pathname||!s.pathname.includes("#"),bc("#","pathname","hash",s)),Oe(!s.search||!s.search.includes("#"),bc("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=sj(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ar=e=>e.join("/").replace(/\/\/+/g,"/"),oj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function uj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ox=["post","put","patch","delete"];new Set(ox);const dj=["get",...ox];new Set(dj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xi.apply(this,arguments)}const Pf=b.createContext(null),fj=b.createContext(null),da=b.createContext(null),Sl=b.createContext(null),Br=b.createContext({outlet:null,matches:[],isDataRoute:!1}),lx=b.createContext(null);function fa(){return b.useContext(Sl)!=null}function Tf(){return fa()||Oe(!1),b.useContext(Sl).location}function cx(e){b.useContext(da).static||b.useLayoutEffect(e)}function hj(){let{isDataRoute:e}=b.useContext(Br);return e?_j():mj()}function mj(){fa()||Oe(!1);let e=b.useContext(Pf),{basename:t,future:n,navigator:r}=b.useContext(da),{matches:s}=b.useContext(Br),{pathname:i}=Tf(),o=JSON.stringify(ix(s,n.v7_relativeSplatPath)),l=b.useRef(!1);return cx(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=ax(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ar([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,i,e])}function pj(e,t){return gj(e,t)}function gj(e,t,n,r){fa()||Oe(!1);let{navigator:s}=b.useContext(da),{matches:i}=b.useContext(Br),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Tf(),d;if(t){var f;let v=typeof t=="string"?Fs(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Oe(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=q2(e,{pathname:m}),w=wj(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Ar([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Ar([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return t&&w?b.createElement(Sl.Provider,{value:{location:Xi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Vn.Pop}},w):w}function yj(){let e=Sj(),t=uj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:s},n):null,null)}const xj=b.createElement(yj,null);class vj extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(Br.Provider,{value:this.props.routeContext},b.createElement(lx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bj(e){let{routeContext:t,match:n,children:r}=e,s=b.useContext(Pf);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Br.Provider,{value:t},r)}function wj(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Oe(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,y=!1,w=null,v=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||xj,c&&(u<0&&h===0?(y=!0,v=null):u===h&&(y=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),g=()=>{let p;return m?p=w:y?p=v:f.route.Component?p=b.createElement(f.route.Component,null):f.route.element?p=f.route.element:p=d,b.createElement(bj,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:p})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(vj,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:g(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):g()},null)}var ux=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ux||{}),Wo=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wo||{});function jj(e){let t=b.useContext(Pf);return t||Oe(!1),t}function Nj(e){let t=b.useContext(fj);return t||Oe(!1),t}function kj(e){let t=b.useContext(Br);return t||Oe(!1),t}function dx(e){let t=kj(),n=t.matches[t.matches.length-1];return n.route.id||Oe(!1),n.route.id}function Sj(){var e;let t=b.useContext(lx),n=Nj(Wo.UseRouteError),r=dx(Wo.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function _j(){let{router:e}=jj(ux.UseNavigateStable),t=dx(Wo.UseNavigateStable),n=b.useRef(!1);return cx(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Xi({fromRouteId:t},i)))},[e,t])}function Cj(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function wc(e){let{to:t,replace:n,state:r,relative:s}=e;fa()||Oe(!1);let{future:i,static:o}=b.useContext(da),{matches:l}=b.useContext(Br),{pathname:c}=Tf(),u=hj(),d=ax(t,ix(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function ci(e){Oe(!1)}function Ej(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Vn.Pop,navigator:i,static:o=!1,future:l}=e;fa()&&Oe(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:o,future:Xi({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Fs(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:y="default"}=r,w=b.useMemo(()=>{let v=sx(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:y},navigationType:s}},[c,d,f,h,m,y,s]);return w==null?null:b.createElement(da.Provider,{value:u},b.createElement(Sl.Provider,{children:n,value:w}))}function Pj(e){let{children:t,location:n}=e;return pj(Bu(t),n)}new Promise(()=>{});function Bu(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,s)=>{if(!b.isValidElement(r))return;let i=[...t,s];if(r.type===b.Fragment){n.push.apply(n,Bu(r.props.children,i));return}r.type!==ci&&Oe(!1),!r.props.index||!r.props.children||Oe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bu(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Tj="6";try{window.__reactRouterVersion=Tj}catch{}const Aj="startTransition",Im=Pb[Aj];function Lj(e){let{basename:t,children:n,future:r,window:s}=e,i=b.useRef();i.current==null&&(i.current=F2({window:s,v5Compat:!0}));let o=i.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=b.useCallback(f=>{u&&Im?Im(()=>c(f)):c(f)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>Cj(r),[r]),b.createElement(Ej,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var Om;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Om||(Om={}));var Mm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Mm||(Mm={}));const Rj="modulepreload",Ij=function(e){return"/"+e},zm={},ha=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=Ij(c),c in zm)return;zm[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Rj,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Oj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ha(async()=>{const{default:r}=await Promise.resolve().then(()=>Vs);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Af extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Mj extends Af{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class zj extends Af{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Dj extends Af{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var qu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qu||(qu={}));var $j=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class Uj{constructor(t,{headers:n={},customFetch:r,region:s=qu.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Oj(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return $j(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(y=>{throw new Mj(y)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new zj(d);if(!d.ok)throw new Dj(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var ht={},Lf={},_l={},ma={},Cl={},El={},Fj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Is=Fj();const Vj=Is.fetch,fx=Is.fetch.bind(Is),hx=Is.Headers,Bj=Is.Request,qj=Is.Response,Vs=Object.freeze(Object.defineProperty({__proto__:null,Headers:hx,Request:Bj,Response:qj,default:fx,fetch:Vj},Symbol.toStringTag,{value:"Module"})),Wj=hb(Vs);var Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});let Hj=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Pl.default=Hj;var mx=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(El,"__esModule",{value:!0});const Qj=mx(Wj),Gj=mx(Pl);let Kj=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Qj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,f=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,m="OK")}catch{i.status===404&&w===""?(h=204,m="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new Gj.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};El.default=Kj;var Yj=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cl,"__esModule",{value:!0});const Xj=Yj(El);let Jj=class extends Xj.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Cl.default=Jj;var Zj=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ma,"__esModule",{value:!0});const e3=Zj(Cl);let t3=class extends e3.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ma.default=t3;var n3=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_l,"__esModule",{value:!0});const ni=n3(ma);let r3=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new ni.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ni.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ni.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new ni.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ni.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};_l.default=r3;var Tl={},Al={};Object.defineProperty(Al,"__esModule",{value:!0});Al.version=void 0;Al.version="0.0.0-automated";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.DEFAULT_HEADERS=void 0;const s3=Al;Tl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s3.version}`};var px=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lf,"__esModule",{value:!0});const i3=px(_l),a3=px(ma),o3=Tl;let l3=class gx{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},o3.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new i3.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new gx(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new a3.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Lf.default=l3;var Bs=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ht,"__esModule",{value:!0});ht.PostgrestError=ht.PostgrestBuilder=ht.PostgrestTransformBuilder=ht.PostgrestFilterBuilder=ht.PostgrestQueryBuilder=ht.PostgrestClient=void 0;const yx=Bs(Lf);ht.PostgrestClient=yx.default;const xx=Bs(_l);ht.PostgrestQueryBuilder=xx.default;const vx=Bs(ma);ht.PostgrestFilterBuilder=vx.default;const bx=Bs(Cl);ht.PostgrestTransformBuilder=bx.default;const wx=Bs(El);ht.PostgrestBuilder=wx.default;const jx=Bs(Pl);ht.PostgrestError=jx.default;var c3=ht.default={PostgrestClient:yx.default,PostgrestQueryBuilder:xx.default,PostgrestFilterBuilder:vx.default,PostgrestTransformBuilder:bx.default,PostgrestBuilder:wx.default,PostgrestError:jx.default};const{PostgrestClient:u3,PostgrestQueryBuilder:KP,PostgrestFilterBuilder:YP,PostgrestTransformBuilder:XP,PostgrestBuilder:JP,PostgrestError:ZP}=c3;function d3(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const f3=d3(),h3="2.11.15",m3=`realtime-js/${h3}`,p3="1.0.0",Nx=1e4,g3=1e3;var ji;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ji||(ji={}));var Ke;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ke||(Ke={}));var Ft;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ft||(Ft={}));var Wu;(function(e){e.websocket="websocket"})(Wu||(Wu={}));var jr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(jr||(jr={}));class y3{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const c=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class kx{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var me;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(me||(me={}));const Dm=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=x3(o,e,t,s),i),{})},x3=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Sx(i,o):Hu(o)},Sx=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return j3(t,n)}switch(e){case me.bool:return v3(t);case me.float4:case me.float8:case me.int2:case me.int4:case me.int8:case me.numeric:case me.oid:return b3(t);case me.json:case me.jsonb:return w3(t);case me.timestamp:return N3(t);case me.abstime:case me.date:case me.daterange:case me.int4range:case me.int8range:case me.money:case me.reltime:case me.text:case me.time:case me.timestamptz:case me.timetz:case me.tsrange:case me.tstzrange:return Hu(t);default:return Hu(t)}},Hu=e=>e,v3=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},b3=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},w3=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},j3=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Sx(t,l))}return e},N3=e=>typeof e=="string"?e.replace(" ","T"):e,_x=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class jc{constructor(t,n,r={},s=Nx){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var $m;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})($m||($m={}));class Ni{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ni.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Ni.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ni.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),y=d.filter(v=>m.indexOf(v.presence_ref)<0),w=f.filter(v=>h.indexOf(v.presence_ref)<0);y.length>0&&(l[u]=y),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Um;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Um||(Um={}));var Fm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Fm||(Fm={}));var ln;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ln||(ln={}));class Rf{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new jc(this,Ft.join,this.params,this.timeout),this.rejoinTimer=new kx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ke.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ft.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ni(this),this.broadcastEndpointURL=_x(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ke.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(ln.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(ln.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(ln.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,y=[];for(let w=0;w<m;w++){const v=h[w],{filter:{event:x,schema:g,table:p,filter:N}}=v,j=d&&d[w];if(j&&j.event===x&&j.schema===g&&j.table===p&&j.filter===N)y.push(Object.assign(Object.assign({},v),{id:j.id}));else{this.unsubscribe(),this.state=Ke.errored,t==null||t(ln.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(ln.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ke.errored,t==null||t(ln.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ln.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ke.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ft.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new jc(this,Ft.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new jc(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ft;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,w,v;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(w=m.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,w,v,x,g,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const N=m.id,j=(y=m.filter)===null||y===void 0?void 0:y.event;return N&&((w=n.ids)===null||w===void 0?void 0:w.includes(N))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const N=(g=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return N==="*"||N===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:w,table:v,commit_timestamp:x,type:g,errors:p}=y;h=Object.assign(Object.assign({},{schema:w,table:v,commit_timestamp:x,eventType:g,new:{},old:{},errors:p}),this._getPayloadRecords(y))}m.callback(h,r)})}_isClosed(){return this.state===Ke.closed}_isJoined(){return this.state===Ke.joined}_isJoining(){return this.state===Ke.joining}_isLeaving(){return this.state===Ke.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Rf.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ft.close,{},t)}_onError(t){this._on(Ft.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ke.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Dm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Dm(t.columns,t.old_record)),n}}const Vm=()=>{},k3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class S3{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Nx,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vm,this.ref=0,this.logger=Vm,this.conn=null,this.sendBuffer=[],this.serializer=new y3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>ha(async()=>{const{default:c}=await Promise.resolve().then(()=>Vs);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Wu.websocket}`,this.httpEndpoint=_x(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new kx(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=f3),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:p3}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ji.connecting:return jr.Connecting;case ji.open:return jr.Open;case ji.closing:return jr.Closing;default:return jr.Closed}}isConnected(){return this.connectionState()===jr.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Rf(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:m3};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Ft.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(g3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ft.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([k3],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class If extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function De(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _3 extends If{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Qu extends If{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var C3=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Cx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ha(async()=>{const{default:r}=await Promise.resolve().then(()=>Vs);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},E3=()=>C3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ha(()=>Promise.resolve().then(()=>Vs),void 0)).Response:Response}),Gu=e=>{if(Array.isArray(e))return e.map(n=>Gu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Gu(r)}),t};var qr=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Nc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),P3=(e,t,n)=>qr(void 0,void 0,void 0,function*(){const r=yield E3();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new _3(Nc(s),e.status||500))}).catch(s=>{t(new Qu(Nc(s),s))}):t(new Qu(Nc(e),e))}),T3=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function pa(e,t,n,r,s,i){return qr(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,T3(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>P3(c,l,r))})})}function Ho(e,t,n,r){return qr(this,void 0,void 0,function*(){return pa(e,"GET",t,n,r)})}function In(e,t,n,r,s){return qr(this,void 0,void 0,function*(){return pa(e,"POST",t,r,s,n)})}function A3(e,t,n,r,s){return qr(this,void 0,void 0,function*(){return pa(e,"PUT",t,r,s,n)})}function L3(e,t,n,r){return qr(this,void 0,void 0,function*(){return pa(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ex(e,t,n,r,s){return qr(this,void 0,void 0,function*(){return pa(e,"DELETE",t,r,s,n)})}var dt=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const R3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class I3{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Cx(s)}uploadOrUpdate(t,n,r,s){return dt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Bm),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(De(i))return{data:null,error:i};throw i}})}upload(t,n,r){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return dt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Bm.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(De(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return dt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield In(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new If("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}update(t,n,r){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return dt(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}copy(t,n,r){return dt(this,void 0,void 0,function*(){try{return{data:{path:(yield In(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return dt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield In(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return dt(this,void 0,void 0,function*(){try{const s=yield In(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}download(t,n){return dt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ho(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(De(l))return{data:null,error:l};throw l}})}info(t){return dt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ho(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Gu(r),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}exists(t){return dt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield L3(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(De(r)&&r instanceof Qu){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return dt(this,void 0,void 0,function*(){try{return{data:yield Ex(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}list(t,n,r){return dt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},R3),n),{prefix:t||""});return{data:yield In(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const O3="2.7.1",M3={"X-Client-Info":`storage-js/${O3}`};var Yr=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class z3{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},M3),n),this.fetch=Cx(r)}listBuckets(){return Yr(this,void 0,void 0,function*(){try{return{data:yield Ho(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(De(t))return{data:null,error:t};throw t}})}getBucket(t){return Yr(this,void 0,void 0,function*(){try{return{data:yield Ho(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Yr(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Yr(this,void 0,void 0,function*(){try{return{data:yield A3(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Yr(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Yr(this,void 0,void 0,function*(){try{return{data:yield Ex(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}}class D3 extends z3{constructor(t,n={},r){super(t,n,r)}from(t){return new I3(this.url,this.headers,t,this.fetch)}}const $3="2.50.2";let ui="";typeof Deno<"u"?ui="deno":typeof document<"u"?ui="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ui="react-native":ui="node";const U3={"X-Client-Info":`supabase-js-${ui}/${$3}`},F3={headers:U3},V3={schema:"public"},B3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},q3={};var W3=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const H3=e=>{let t;return e?t=e:typeof fetch>"u"?t=fx:t=fetch,(...n)=>t(...n)},Q3=()=>typeof Headers>"u"?hx:Headers,G3=(e,t,n)=>{const r=H3(n),s=Q3();return(i,o)=>W3(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var K3=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function Y3(e){return e.endsWith("/")?e:e+"/"}function X3(e,t){var n,r;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>K3(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Px="2.70.0",ts=30*1e3,Ku=3,kc=Ku*ts,J3="http://localhost:9999",Z3="supabase.auth.token",e4={"X-Client-Info":`gotrue-js/${Px}`},Yu="X-Supabase-Api-Version",Tx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},t4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,n4=6e5;class Of extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class r4 extends Of{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function s4(e){return te(e)&&e.name==="AuthApiError"}class Ax extends Of{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ur extends Of{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Tn extends ur{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function i4(e){return te(e)&&e.name==="AuthSessionMissingError"}class qa extends ur{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wa extends ur{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ha extends ur{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function a4(e){return te(e)&&e.name==="AuthImplicitGrantRedirectError"}class qm extends ur{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xu extends ur{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Sc(e){return te(e)&&e.name==="AuthRetryableFetchError"}class Wm extends ur{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ki extends ur{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hm=` 	
\r=`.split(""),o4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Hm.length;t+=1)e[Hm[t].charCodeAt(0)]=-2;for(let t=0;t<Qo.length;t+=1)e[Qo[t].charCodeAt(0)]=t;return e})();function Qm(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Qo[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Qo[r]),t.queuedBits-=6}}function Lx(e,t,n){const r=o4[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gm(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{u4(o,r,n)};for(let o=0;o<e.length;o+=1)Lx(e.charCodeAt(o),s,i);return t.join("")}function l4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function c4(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}l4(r,t)}}function u4(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function d4(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Lx(e.charCodeAt(s),n,r);return new Uint8Array(t)}function f4(e){const t=[];return c4(e,n=>t.push(n)),new Uint8Array(t)}function h4(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Qm(s,n,r)),Qm(null,n,r),t.join("")}function m4(e){return Math.round(Date.now()/1e3)+e}function p4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Dt=()=>typeof window<"u"&&typeof document<"u",mr={tested:!1,writable:!1},Si=()=>{if(!Dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mr.tested)return mr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mr.tested=!0,mr.writable=!0}catch{mr.tested=!0,mr.writable=!1}return mr.writable};function g4(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Rx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ha(async()=>{const{default:r}=await Promise.resolve().then(()=>Vs);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},y4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ix=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Qa=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ga=async(e,t)=>{await e.removeItem(t)};class Ll{constructor(){this.promise=new Ll.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ll.promiseConstructor=Promise;function _c(e){const t=e.split(".");if(t.length!==3)throw new ki("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!t4.test(t[r]))throw new ki("JWT not in base64url format");return{header:JSON.parse(Gm(t[0])),payload:JSON.parse(Gm(t[1])),signature:d4(t[2]),raw:{header:t[0],payload:t[1]}}}async function x4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function v4(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function b4(e){return("0"+e.toString(16)).substr(-2)}function w4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,b4).join("")}async function j4(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function N4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await j4(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xr(e,t,n=!1){const r=w4();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ix(e,`${t}-code-verifier`,s);const i=await N4(r);return[i,r===i?"plain":"s256"]}const k4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function S4(e){const t=e.headers.get(Yu);if(!t||!t.match(k4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function _4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function C4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const E4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Jr(e){if(!E4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var P4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const xr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),T4=[502,503,504];async function Km(e){var t;if(!y4(e))throw new Xu(xr(e),0);if(T4.includes(e.status))throw new Xu(xr(e),e.status);let n;try{n=await e.json()}catch(i){throw new Ax(xr(i),i)}let r;const s=S4(e);if(s&&s.getTime()>=Tx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Wm(xr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Tn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Wm(xr(n),e.status,n.weak_password.reasons);throw new r4(xr(n),e.status||500,r)}const A4=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function se(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Yu]||(i[Yu]=Tx["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await L4(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function L4(e,t,n,r,s,i){const o=A4(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new Xu(xr(c),0)}if(l.ok||await Km(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Km(c)}}function an(e){var t;let n=null;M4(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=m4(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Ym(e){const t=an(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Dn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function R4(e){return{data:e,error:null}}function I4(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=P4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function O4(e){return e}function M4(e){return e.access_token&&e.refresh_token&&e.expires_in}const Cc=["global","local","others"];var z4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class D4{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Rx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Cc[0]){if(Cc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cc.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Dn})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=z4(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:I4,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(te(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Dn})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:O4});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(te(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Jr(t);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Dn})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Jr(t);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Dn})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Jr(t);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Dn})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Jr(t.userId);try{const{data:n,error:r}=await se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(te(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Jr(t.userId),Jr(t.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}}const $4={getItem:e=>Si()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Si()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Si()&&globalThis.localStorage.removeItem(e)}};function Xm(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function U4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Zr={debug:!!(globalThis&&Si()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ox extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class F4 extends Ox{}async function V4(e,t,n){Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new F4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}U4();const B4={url:J3,storageKey:Z3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:e4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jm(e,t,n){return await n()}class Ji{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ji.nextInstanceID,Ji.nextInstanceID+=1,this.instanceID>0&&Dt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},B4),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new D4({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Rx(s.fetch),this.lock=s.lock||Jm,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Dt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=V4:this.lock=Jm,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Si()?this.storage=$4:(this.memoryStorage={},this.storage=Xm(this.memoryStorage)):(this.memoryStorage={},this.storage=Xm(this.memoryStorage)),Dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Px}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=g4(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Dt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),a4(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return te(n)?{error:n}:{error:new Ax("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:an}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(te(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Xr(this.storage,this.storageKey)),i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:an})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:an})}else throw new Wa("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(te(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ym})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ym})}else throw new Wa("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new qa}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,o,l,c,u,d,f,h,m;let y,w;if("message"in t)y=t.message,w=t.signature;else{const{chain:v,wallet:x,statement:g,options:p}=t;let N;if(Dt())if(typeof x=="object")N=x;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))N=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=x}const j=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const k=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),g?{statement:g}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${j.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((f=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...p.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await N.signMessage(new TextEncoder().encode(y),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=k}}try{const{data:v,error:x}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:h4(w)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:an});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new qa}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(te(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const n=await Qa(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:an});if(await Ga(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new qa}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(te(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:an}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new qa}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Xr(this.storage,this.storageKey));const{error:f}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Wa("You must provide either an email or phone number.")}catch(l){if(te(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:an});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Xr(this.storage,this.storageKey)),await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:R4})}catch(i){if(te(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Tn;const{error:s}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(te(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await se(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await se(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Wa("You must provide either an email or phone number and a type")}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Qa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<kc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Dn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tn}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Dn})})}catch(n){if(te(n))return i4(n)&&(await this._removeSession(),await Ga(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Tn;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Xr(this.storage,this.storageKey));const{data:u,error:d}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Dn});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Tn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=_c(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(te(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Tn;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Dt())throw new Ha("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ha(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new qm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ha("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new qm("No code detected.");const{data:g,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Ha("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=ts&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:w,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(te(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Qa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(s4(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ga(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=p4(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Xr(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(te(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Dt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(te(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await v4(async s=>(s>0&&await x4(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:an})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Sc(i)&&Date.now()+o-r<ts})}catch(r){if(this._debug(n,"error",r),te(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Dt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Qa(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<kc;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${kc}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Sc(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Tn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ll;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Tn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),te(i)){const o={session:null,error:i};return Sc(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ix(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ga(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Dt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ts);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/ts);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ts}ms, refresh threshold is ${Ku} ticks`),s<=Ku&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ox)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Xr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await se(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(te(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(te(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=_c(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+n4>Date.now()))return r;const{data:s,error:i}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new ki("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new ki("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:m,error:y}=await this.getSession();if(y||!m.session)return{data:null,error:y};r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=_c(r);if(_4(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const u=C4(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,f4(`${l}.${c}`)))throw new ki("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}}Ji.nextInstanceID=0;const q4=Ji;class W4 extends q4{constructor(t){super(t)}}var H4=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class Q4{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=Y3(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:V3,realtime:q3,auth:Object.assign(Object.assign({},B3),{storageKey:u}),global:F3},f=X3(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=G3(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new u3(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Uj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new D3(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return H4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new W4({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new S3(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const G4=(e,t,n)=>new Q4(e,t,n),Mx="https://rdwcidnolhwoxsettqqw.supabase.co",zx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJkd2NpZG5vbGh3b3hzZXR0cXF3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEyMDExMzAsImV4cCI6MjA2Njc3NzEzMH0.gxP0G7OcA0Zr23WlsJe29dnYs5dW-eaSKS5X4Brf_Cg";console.log("Supabase URL:",Mx);console.log("Supabase Key exists:",!!zx);const Q=G4(Mx,zx,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"}}),K4=async(e,t)=>{const{data:n,error:r}=await Q.auth.signInWithPassword({email:e,password:t});return{data:n,error:r}},Y4=async(e,t,n)=>{const{data:r,error:s}=await Q.auth.signUp({email:e,password:t,options:{data:n,emailRedirectTo:`${window.location.origin}/#/dashboard`}});return{data:r,error:s}},X4=async()=>{const{error:e}=await Q.auth.signOut();return{error:e}},es=()=>{try{return Object.keys(localStorage).forEach(n=>{(n.startsWith("sb-")||n.includes("supabase"))&&localStorage.removeItem(n)}),Object.keys(sessionStorage).forEach(n=>{(n.startsWith("sb-")||n.includes("supabase"))&&sessionStorage.removeItem(n)}),console.log("Auth tokens cleared"),!0}catch(e){return console.error("Error clearing auth tokens:",e),!1}};let J4={data:""},Z4=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||J4,eN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,tN=/\/\*[^]*?\*\/|  +/g,Zm=/\n+/g,$n=(e,t)=>{let n="",r="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?$n(o,i):i+"{"+$n(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=$n(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=$n.p?$n.p(i,o):i+":"+o+";")}return n+(t&&s?t+"{"+s+"}":s)+r},sn={},Dx=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Dx(e[n]);return t}return e},nN=(e,t,n,r,s)=>{let i=Dx(e),o=sn[i]||(sn[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!sn[o]){let c=i!==e?e:(u=>{let d,f,h=[{}];for(;d=eN.exec(u.replace(tN,""));)d[4]?h.shift():d[3]?(f=d[3].replace(Zm," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(Zm," ").trim();return h[0]})(e);sn[o]=$n(s?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&sn.g?sn.g:null;return n&&(sn.g=sn[o]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(sn[o],t,r,l),o},rN=(e,t,n)=>e.reduce((r,s,i)=>{let o=t[i];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":$n(l,""):l===!1?"":l}return r+s+(o??"")},"");function Rl(e){let t=this||{},n=e.call?e(t.p):e;return nN(n.unshift?n.raw?rN(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,Z4(t.target),t.g,t.o,t.k)}let $x,Ju,Zu;Rl.bind({g:1});let bn=Rl.bind({k:1});function sN(e,t,n,r){$n.p=t,$x=e,Ju=n,Zu=r}function dr(e,t){let n=this||{};return function(){let r=arguments;function s(i,o){let l=Object.assign({},i),c=l.className||s.className;n.p=Object.assign({theme:Ju&&Ju()},l),n.o=/ *go\d+/.test(c),l.className=Rl.apply(n,r)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),Zu&&u[0]&&Zu(l),$x(u,l)}return s}}var iN=e=>typeof e=="function",Go=(e,t)=>iN(e)?e(t):e,aN=(()=>{let e=0;return()=>(++e).toString()})(),Ux=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),oN=20,Fx=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,oN)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return Fx(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},po=[],_r={toasts:[],pausedAt:void 0},Wr=e=>{_r=Fx(_r,e),po.forEach(t=>{t(_r)})},lN={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},cN=(e={})=>{let[t,n]=b.useState(_r),r=b.useRef(_r);b.useEffect(()=>(r.current!==_r&&n(_r),po.push(n),()=>{let i=po.indexOf(n);i>-1&&po.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,l,c;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||lN[i.type],style:{...e.style,...(c=e[i.type])==null?void 0:c.style,...i.style}}});return{...t,toasts:s}},uN=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||aN()}),ga=e=>(t,n)=>{let r=uN(t,e,n);return Wr({type:2,toast:r}),r.id},at=(e,t)=>ga("blank")(e,t);at.error=ga("error");at.success=ga("success");at.loading=ga("loading");at.custom=ga("custom");at.dismiss=e=>{Wr({type:3,toastId:e})};at.remove=e=>Wr({type:4,toastId:e});at.promise=(e,t,n)=>{let r=at.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?Go(t.success,s):void 0;return i?at.success(i,{id:r,...n,...n==null?void 0:n.success}):at.dismiss(r),s}).catch(s=>{let i=t.error?Go(t.error,s):void 0;i?at.error(i,{id:r,...n,...n==null?void 0:n.error}):at.dismiss(r)}),e};var dN=(e,t)=>{Wr({type:1,toast:{id:e,height:t}})},fN=()=>{Wr({type:5,time:Date.now()})},_i=new Map,hN=1e3,mN=(e,t=hN)=>{if(_i.has(e))return;let n=setTimeout(()=>{_i.delete(e),Wr({type:4,toastId:e})},t);_i.set(e,n)},pN=e=>{let{toasts:t,pausedAt:n}=cN(e);b.useEffect(()=>{if(n)return;let i=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&at.dismiss(l.id);return}return setTimeout(()=>at.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,n]);let r=b.useCallback(()=>{n&&Wr({type:6,time:Date.now()})},[n]),s=b.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},d=t.filter(m=>(m.position||u)===(i.position||u)&&m.height),f=d.findIndex(m=>m.id===i.id),h=d.filter((m,y)=>y<f&&m.visible).length;return d.filter(m=>m.visible).slice(...l?[h+1]:[0,h]).reduce((m,y)=>m+(y.height||0)+c,0)},[t]);return b.useEffect(()=>{t.forEach(i=>{if(i.dismissed)mN(i.id,i.removeDelay);else{let o=_i.get(i.id);o&&(clearTimeout(o),_i.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:dN,startPause:fN,endPause:r,calculateOffset:s}}},gN=bn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,yN=bn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xN=bn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,vN=dr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${yN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${xN} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,bN=bn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,wN=dr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${bN} 1s linear infinite;
`,jN=bn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,NN=bn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,kN=dr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${jN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${NN} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,SN=dr("div")`
  position: absolute;
`,_N=dr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,CN=bn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,EN=dr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${CN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,PN=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?b.createElement(EN,null,t):t:n==="blank"?null:b.createElement(_N,null,b.createElement(wN,{...r}),n!=="loading"&&b.createElement(SN,null,n==="error"?b.createElement(vN,{...r}):b.createElement(kN,{...r})))},TN=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,AN=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,LN="0%{opacity:0;} 100%{opacity:1;}",RN="0%{opacity:1;} 100%{opacity:0;}",IN=dr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ON=dr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,MN=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=Ux()?[LN,RN]:[TN(n),AN(n)];return{animation:t?`${bn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${bn(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},zN=b.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?MN(e.position||t||"top-center",e.visible):{opacity:0},i=b.createElement(PN,{toast:e}),o=b.createElement(ON,{...e.ariaProps},Go(e.message,e));return b.createElement(IN,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:o}):b.createElement(b.Fragment,null,i,o))});sN(b.createElement);var DN=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let i=b.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return b.createElement("div",{ref:i,className:t,style:n},s)},$N=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ux()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},UN=Rl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ka=16,Vx=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:c}=pN(n);return b.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Ka,left:Ka,right:Ka,bottom:Ka,pointerEvents:"none",...i},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||t,f=c.calculateOffset(u,{reverseOrder:e,gutter:r,defaultPosition:t}),h=$N(d,f);return b.createElement(DN,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?UN:"",style:h},u.type==="custom"?Go(u.message,u):s?s(u):b.createElement(zN,{toast:u,position:d}))}))},_=at;const et=()=>{const[e,t]=b.useState(null),[n,r]=b.useState(!0),[s,i]=b.useState(null),o="ishanstc123@gmail.com";b.useEffect(()=>{console.log("useAuth: Starting initialization");const v=setTimeout(()=>{console.log("useAuth: Loading timeout reached (10s), setting loading to false"),r(!1)},1e4);(async()=>{try{console.log("useAuth: Getting initial session");const{data:{session:p},error:N}=await Q.auth.getSession();if(N){console.error("Error getting session:",N),(N.message.includes("refresh_token_not_found")||N.message.includes("Invalid Refresh Token"))&&(console.log("useAuth: Clearing corrupted auth tokens"),es(),await Q.auth.signOut()),clearTimeout(v),r(!1);return}console.log("useAuth: Session found:",!!p),p!=null&&p.user?await u(p.user):t(null)}catch(p){console.error("Error in getInitialSession:",p),es()}finally{console.log("useAuth: Setting loading to false"),clearTimeout(v),r(!1)}})();const{data:{subscription:g}}=Q.auth.onAuthStateChange(async(p,N)=>{try{if(console.log("useAuth: Auth state changed:",p,!!N),clearTimeout(v),p==="TOKEN_REFRESHED"&&!N){console.log("useAuth: Token refresh failed, clearing auth"),es(),t(null),r(!1);return}N!=null&&N.user?await u(N.user):t(null)}catch(j){console.error("Error in auth state change:",j),es()}finally{r(!1)}});return()=>{g.unsubscribe(),clearTimeout(v)}},[o]);const l=()=>s?Date.now()>=s?(i(null),!1):!0:!1,c=v=>{const x=v.match(/(\d+)\s*seconds?/i);return x?parseInt(x[1])*1e3:6e4},u=async v=>{var x,g;try{console.log("useAuth: Fetching user profile for:",v.id);const p={id:v.id,email:v.email,name:((x=v.user_metadata)==null?void 0:x.name)||v.email.split("@")[0],role:v.email===o?"admin":"user",progress:{totalQuizzes:0,completedQuizzes:0,totalScore:0,averageScore:0,streak:0,badgesEarned:[]},preferences:{notifications:!0,difficulty:"medium",subjects:[]}};console.log("useAuth: Setting user:",p),t(p),setTimeout(async()=>{try{const{data:N,error:j}=await Q.from("users").select("*").eq("id",v.id).maybeSingle();if(j&&j.code!=="PGRST116"){console.log("useAuth: Database query error (non-critical):",j),await d(v,p);return}N?(console.log("useAuth: Enhanced user with database data"),t(k=>k?{...k,name:N.name||k.name,email:N.email||k.email,role:N.role||k.role}:p)):(console.log("useAuth: No profile found, creating one"),await d(v,p))}catch(N){console.log("useAuth: Database enhancement failed (non-critical):",N),await d(v,p)}},100)}catch(p){console.error("Error fetching user profile:",p),t({id:v.id,email:v.email,name:((g=v.user_metadata)==null?void 0:g.name)||v.email.split("@")[0],role:v.email===o?"admin":"user",progress:{totalQuizzes:0,completedQuizzes:0,totalScore:0,averageScore:0,streak:0,badgesEarned:[]},preferences:{notifications:!0,difficulty:"medium",subjects:[]}})}},d=async(v,x)=>{var g;try{console.log("useAuth: Creating user profile in database");const{error:p}=await Q.from("users").insert({id:v.id,email:v.email,name:((g=v.user_metadata)==null?void 0:g.name)||v.email.split("@")[0],role:v.email===o?"admin":"user",avatar_url:"https://img.freepik.com/premium-vector/user-profile-icon-flat-style-member-avatar-vector-illustration-isolated-background-human-permission-sign-business-concept_157943-15752.jpg"}).select().single();if(p&&!p.message.includes("duplicate key")){console.error("Error creating user profile:",p);return}console.log("useAuth: User profile created successfully")}catch(p){console.error("Error creating user profile:",p)}},f=async(v,x)=>{try{if(r(!0),console.log("useAuth: Attempting sign in for:",v),l()){const p=Math.ceil((s-Date.now())/1e3);return _.error(`Please wait ${p} seconds before trying again`),{error:new Error("Rate limited")}}es();const{error:g}=await K4(v,x);if(g){if(console.error("Sign in error:",g),g.message.includes("too many requests")||g.message.includes("rate_limit")){const p=c(g.message);i(Date.now()+p);const N=Math.ceil(p/1e3);return _.error(`Too many attempts. Please wait ${N} seconds before trying again`),{error:g}}return g.message.includes("Email not confirmed")||g.message.includes("email_not_confirmed")?(_.error("Your email address needs to be confirmed. Please check your email inbox and click the confirmation link, then try signing in again"),{error:g}):(g.message.includes("Invalid login credentials")||g.message.includes("invalid_credentials")?_.error("Invalid email or password. Please check your credentials or sign up if you don't have an account."):_.error(`Sign in failed: ${g.message}`),{error:g})}return console.log("useAuth: Sign in successful"),_.success("Successfully signed in!"),{error:null}}catch(g){return console.error("Sign in error:",g),_.error("An unexpected error occurred during sign in"),{error:g}}finally{r(!1)}},h=async(v,x,g)=>{try{if(r(!0),console.log("useAuth: Attempting sign up for:",v),l()){const j=Math.ceil((s-Date.now())/1e3);return _.error(`Please wait ${j} seconds before trying again`),{error:new Error("Rate limited")}}const{error:p,data:N}=await Y4(v,x,{name:g});if(p){if(console.error("Sign up error:",p),p.message.includes("over_email_send_rate_limit")||p.message.includes("rate_limit")){const j=c(p.message);i(Date.now()+j);const k=Math.ceil(j/1e3);return _.error(`Too many sign-up attempts. Please wait ${k} seconds before trying again`),{error:p}}return p.message.includes("already registered")||p.message.includes("already been registered")?_.error('An account with this email already exists. Please sign in instead or use "Forgot Password?" if you need to reset your password'):p.message.includes("Password should be at least")?_.error("Password must be at least 6 characters long"):p.message.includes("Unable to validate email address")?_.error("Please enter a valid email address"):_.error(`Sign up failed: ${p.message}`),{error:p}}return console.log("useAuth: Sign up successful",N),N.user&&!N.session?_.success("Account created! Please check your email for a confirmation link before signing in"):N.user&&N.session?_.success("Account created successfully! You are now signed in"):_.success("Account created! You can now sign in"),{error:null}}catch(p){return console.error("Sign up error:",p),_.error("An unexpected error occurred during sign up"),{error:p}}finally{r(!1)}},m=async v=>{try{if(r(!0),console.log("useAuth: Attempting password reset for:",v),l()){const g=Math.ceil((s-Date.now())/1e3);return _.error(`Please wait ${g} seconds before trying again`),{error:new Error("Rate limited")}}const{error:x}=await Q.auth.resetPasswordForEmail(v,{redirectTo:`${window.location.origin}/#/reset-password`});if(x){if(console.error("Password reset error:",x),x.message.includes("too many requests")||x.message.includes("rate_limit")){const g=c(x.message);i(Date.now()+g);const p=Math.ceil(g/1e3);return _.error(`Too many reset attempts. Please wait ${p} seconds before trying again`),{error:x}}if(x.message.includes("Unable to validate email address"))_.error("Please enter a valid email address");else{if(x.message.includes("For security purposes"))return _.success("If an account with this email exists, you will receive a password reset link shortly"),{error:null};_.error(`Password reset failed: ${x.message}`)}return{error:x}}return console.log("useAuth: Password reset email sent"),_.success("Password reset link sent! Please check your email inbox and follow the instructions to reset your password"),{error:null}}catch(x){return console.error("Password reset error:",x),_.error("An unexpected error occurred while sending the password reset email"),{error:x}}finally{r(!1)}},y=async()=>{try{console.log("useAuth: Signing out"),es();const{error:v}=await X4();v?_.error(v.message):(t(null),_.success("Successfully signed out!"))}catch(v){console.error("Sign out error:",v),_.error("Error signing out")}},w=(e==null?void 0:e.role)==="admin";return console.log("useAuth: Current state - user:",!!e,"loading:",n,"isAdmin:",w),{user:e,loading:n,signIn:f,signUp:h,signOut:y,resetPassword:m,isAdmin:w,isRateLimited:l(),rateLimitedUntil:s}},Bx=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Il=b.createContext({}),Ol=b.createContext(null),Ml=typeof document<"u",Mf=Ml?b.useLayoutEffect:b.useEffect,qx=b.createContext({strict:!1}),zf=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),FN="framerAppearId",Wx="data-"+zf(FN);function VN(e,t,n,r){const{visualElement:s}=b.useContext(Il),i=b.useContext(qx),o=b.useContext(Ol),l=b.useContext(Bx).reducedMotion,c=b.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;b.useInsertionEffect(()=>{u&&u.update(n,o)});const d=b.useRef(!!(n[Wx]&&!window.HandoffComplete));return Mf(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),b.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function ms(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function BN(e,t,n){return b.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ms(n)&&(n.current=r))},[t])}function Zi(e){return typeof e=="string"||Array.isArray(e)}function zl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Df=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$f=["initial",...Df];function Dl(e){return zl(e.animate)||$f.some(t=>Zi(e[t]))}function Hx(e){return!!(Dl(e)||e.variants)}function qN(e,t){if(Dl(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Zi(n)?n:void 0,animate:Zi(r)?r:void 0}}return e.inherit!==!1?t:{}}function WN(e){const{initial:t,animate:n}=qN(e,b.useContext(Il));return b.useMemo(()=>({initial:t,animate:n}),[ep(t),ep(n)])}function ep(e){return Array.isArray(e)?e.join(" "):e}const tp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ea={};for(const e in tp)ea[e]={isEnabled:t=>tp[e].some(n=>!!t[n])};function HN(e){for(const t in e)ea[t]={...ea[t],...e[t]}}const Uf=b.createContext({}),Qx=b.createContext({}),QN=Symbol.for("motionComponentSymbol");function GN({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&HN(e);function i(l,c){let u;const d={...b.useContext(Bx),...l,layoutId:KN(l)},{isStatic:f}=d,h=WN(l),m=r(l,f);if(!f&&Ml){h.visualElement=VN(s,m,d,t);const y=b.useContext(Qx),w=b.useContext(qx).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,w,e,y))}return b.createElement(Il.Provider,{value:h},u&&h.visualElement?b.createElement(u,{visualElement:h.visualElement,...d}):null,n(s,l,BN(m,h.visualElement,c),m,f,h.visualElement))}const o=b.forwardRef(i);return o[QN]=s,o}function KN({layoutId:e}){const t=b.useContext(Uf).id;return t&&e!==void 0?t+"-"+e:e}function YN(e){function t(r,s={}){return GN(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const XN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ff(e){return typeof e!="string"||e.includes("-")?!1:!!(XN.indexOf(e)>-1||/[A-Z]/.test(e))}const Ko={};function JN(e){Object.assign(Ko,e)}const ya=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hr=new Set(ya);function Gx(e,{layout:t,layoutId:n}){return Hr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ko[e]||e==="opacity")}const xt=e=>!!(e&&e.getVelocity),ZN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ek=ya.length;function tk(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<ek;o++){const l=ya[o];if(e[l]!==void 0){const c=ZN[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,r?"":i):n&&r&&(i="none"),i}const Kx=e=>t=>typeof t=="string"&&t.startsWith(e),Yx=Kx("--"),ed=Kx("var(--"),nk=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,rk=(e,t)=>t&&typeof e=="number"?t.transform(e):e,tr=(e,t,n)=>Math.min(Math.max(n,e),t),Qr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ci={...Qr,transform:e=>tr(0,1,e)},Ya={...Qr,default:1},Ei=e=>Math.round(e*1e5)/1e5,$l=/(-)?([\d]*\.?[\d])+/g,Xx=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,sk=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function xa(e){return typeof e=="string"}const va=e=>({test:t=>xa(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),An=va("deg"),tn=va("%"),X=va("px"),ik=va("vh"),ak=va("vw"),np={...tn,parse:e=>tn.parse(e)/100,transform:e=>tn.transform(e*100)},rp={...Qr,transform:Math.round},Jx={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,radius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,size:X,top:X,right:X,bottom:X,left:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,rotate:An,rotateX:An,rotateY:An,rotateZ:An,scale:Ya,scaleX:Ya,scaleY:Ya,scaleZ:Ya,skew:An,skewX:An,skewY:An,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:Ci,originX:np,originY:np,originZ:X,zIndex:rp,fillOpacity:Ci,strokeOpacity:Ci,numOctaves:rp};function Vf(e,t,n,r){const{style:s,vars:i,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(Yx(f)){i[f]=h;continue}const m=Jx[f],y=rk(h,m);if(Hr.has(f)){if(c=!0,o[f]=y,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=y):s[f]=y}if(t.transform||(c||r?s.transform=tk(e.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=l;s.transformOrigin=`${f} ${h} ${m}`}}const Bf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Zx(e,t,n){for(const r in t)!xt(t[r])&&!Gx(r,n)&&(e[r]=t[r])}function ok({transformTemplate:e},t,n){return b.useMemo(()=>{const r=Bf();return Vf(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function lk(e,t,n){const r=e.style||{},s={};return Zx(s,r,e),Object.assign(s,ok(e,t,n)),e.transformValues?e.transformValues(s):s}function ck(e,t,n){const r={},s=lk(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const uk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||uk.has(e)}let ev=e=>!Yo(e);function dk(e){e&&(ev=t=>t.startsWith("on")?!Yo(t):e(t))}try{dk(require("@emotion/is-prop-valid").default)}catch{}function fk(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(ev(s)||n===!0&&Yo(s)||!t&&!Yo(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function sp(e,t,n){return typeof e=="string"?e:X.transform(t+n*e)}function hk(e,t,n){const r=sp(t,e.x,e.width),s=sp(n,e.y,e.height);return`${r} ${s}`}const mk={offset:"stroke-dashoffset",array:"stroke-dasharray"},pk={offset:"strokeDashoffset",array:"strokeDasharray"};function gk(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?mk:pk;e[i.offset]=X.transform(-r);const o=X.transform(t),l=X.transform(n);e[i.array]=`${o} ${l}`}function qf(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(Vf(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:y,dimensions:w}=e;m.transform&&(w&&(y.transform=m.transform),delete m.transform),w&&(s!==void 0||i!==void 0||y.transform)&&(y.transformOrigin=hk(w,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&gk(m,o,l,c,!1)}const tv=()=>({...Bf(),attrs:{}}),Wf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function yk(e,t,n,r){const s=b.useMemo(()=>{const i=tv();return qf(i,t,{enableHardwareAcceleration:!1},Wf(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Zx(i,e.style,e),s.style={...i,...s.style}}return s}function xk(e=!1){return(n,r,s,{latestValues:i},o)=>{const c=(Ff(n)?yk:ck)(r,i,o,n),d={...fk(r,typeof n=="string",e),...c,ref:s},{children:f}=r,h=b.useMemo(()=>xt(f)?f.get():f,[f]);return b.createElement(n,{...d,children:h})}}function nv(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const rv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sv(e,t,n,r){nv(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(rv.has(s)?s:zf(s),t.attrs[s])}function Hf(e,t){const{style:n}=e,r={};for(const s in n)(xt(n[s])||t.style&&xt(t.style[s])||Gx(s,e))&&(r[s]=n[s]);return r}function iv(e,t){const n=Hf(e,t);for(const r in e)if(xt(e[r])||xt(t[r])){const s=ya.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function Qf(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function av(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const Xo=e=>Array.isArray(e),vk=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),bk=e=>Xo(e)?e[e.length-1]||0:e;function go(e){const t=xt(e)?e.get():e;return vk(t)?t.toValue():t}function wk({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const o={latestValues:jk(r,s,i,e),renderState:t()};return n&&(o.mount=l=>n(r,l,o)),o}const ov=e=>(t,n)=>{const r=b.useContext(Il),s=b.useContext(Ol),i=()=>wk(e,t,r,s);return n?i():av(i)};function jk(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=go(i[h]);let{initial:o,animate:l}=e;const c=Dl(e),u=Hx(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;return f&&typeof f!="boolean"&&!zl(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const y=Qf(e,m);if(!y)return;const{transitionEnd:w,transition:v,...x}=y;for(const g in x){let p=x[g];if(Array.isArray(p)){const N=d?p.length-1:0;p=p[N]}p!==null&&(s[g]=p)}for(const g in w)s[g]=w[g]}),s}const Le=e=>e;class ip{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Nk(e){let t=new ip,n=new ip,r=0,s=!1,i=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,h=f?t:n;return u&&o.add(c),h.add(c)&&f&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}s=!1,i&&(i=!1,l.process(c))}};return l}const Xa=["prepare","read","update","preRender","render","postRender"],kk=40;function Sk(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Xa.reduce((f,h)=>(f[h]=Nk(()=>n=!0),f),{}),o=f=>i[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,kk),1),s.timestamp=f,s.isProcessing=!0,Xa.forEach(o),s.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,s.isProcessing||e(l)};return{schedule:Xa.reduce((f,h)=>{const m=i[h];return f[h]=(y,w=!1,v=!1)=>(n||c(),m.schedule(y,w,v)),f},{}),cancel:f=>Xa.forEach(h=>i[h].cancel(f)),state:s,steps:i}}const{schedule:ge,cancel:wn,state:Ye,steps:Ec}=Sk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Le,!0),_k={useVisualState:ov({scrapeMotionValuesFromProps:iv,createRenderState:tv,onMount:(e,t,{renderState:n,latestValues:r})=>{ge.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ge.render(()=>{qf(n,r,{enableHardwareAcceleration:!1},Wf(t.tagName),e.transformTemplate),sv(t,n)})}})},Ck={useVisualState:ov({scrapeMotionValuesFromProps:Hf,createRenderState:Bf})};function Ek(e,{forwardMotionProps:t=!1},n,r){return{...Ff(e)?_k:Ck,preloadedFeatures:n,useRender:xk(t),createVisualElement:r,Component:e}}function fn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const lv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Ul(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Pk=e=>t=>lv(t)&&e(t,Ul(t));function mn(e,t,n,r){return fn(e,t,Pk(n),r)}const Tk=(e,t)=>n=>t(e(n)),Xn=(...e)=>e.reduce(Tk);function cv(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const ap=cv("dragHorizontal"),op=cv("dragVertical");function uv(e){let t=!1;if(e==="y")t=op();else if(e==="x")t=ap();else{const n=ap(),r=op();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function dv(){const e=uv(!0);return e?(e(),!1):!0}class fr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function lp(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||dv())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&ge.update(()=>l[r](i,o))};return mn(e.current,n,s,{passive:!e.getProps()[r]})}class Ak extends fr{mount(){this.unmount=Xn(lp(this.node,!0),lp(this.node,!1))}unmount(){}}class Lk extends fr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xn(fn(this.node.current,"focus",()=>this.onFocus()),fn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const fv=(e,t)=>t?e===t?!0:fv(e,t.parentElement):!1;function Pc(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Ul(n))}class Rk extends fr{constructor(){super(...arguments),this.removeStartListeners=Le,this.removeEndListeners=Le,this.removeAccessibleListeners=Le,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=mn(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();ge.update(()=>{!f&&!fv(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=mn(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Xn(i,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Pc("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&ge.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=fn(this.node.current,"keyup",o),Pc("down",(l,c)=>{this.startPress(l,c)})},n=fn(this.node.current,"keydown",t),r=()=>{this.isPressing&&Pc("cancel",(i,o)=>this.cancelPress(i,o))},s=fn(this.node.current,"blur",r);this.removeAccessibleListeners=Xn(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ge.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!dv()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ge.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=mn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=fn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Xn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const td=new WeakMap,Tc=new WeakMap,Ik=e=>{const t=td.get(e.target);t&&t(e)},Ok=e=>{e.forEach(Ik)};function Mk({root:e,...t}){const n=e||document;Tc.has(n)||Tc.set(n,{});const r=Tc.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(Ok,{root:e,...t})),r[s]}function zk(e,t,n){const r=Mk(t);return td.set(e,n),r.observe(e),()=>{td.delete(e),r.unobserve(e)}}const Dk={some:0,all:1};class $k extends fr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Dk[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return zk(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Uk(t,n))&&this.startObserver()}unmount(){}}function Uk({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Fk={inView:{Feature:$k},tap:{Feature:Rk},focus:{Feature:Lk},hover:{Feature:Ak}};function hv(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Vk(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Bk(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Fl(e,t,n){const r=e.getProps();return Qf(r,t,n!==void 0?n:r.custom,Vk(e),Bk(e))}let Jo=Le;const Lr=e=>e*1e3,pn=e=>e/1e3,qk={current:!1},mv=e=>Array.isArray(e)&&typeof e[0]=="number";function pv(e){return!!(!e||typeof e=="string"&&gv[e]||mv(e)||Array.isArray(e)&&e.every(pv))}const di=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,gv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:di([0,.65,.55,1]),circOut:di([.55,0,1,.45]),backIn:di([.31,.01,.66,-.59]),backOut:di([.33,1.53,.69,.99])};function yv(e){if(e)return mv(e)?di(e):Array.isArray(e)?e.map(yv):gv[e]}function Wk(e,t,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=yv(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function Hk(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const xv=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Qk=1e-7,Gk=12;function Kk(e,t,n,r,s){let i,o,l=0;do o=t+(n-t)/2,i=xv(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>Qk&&++l<Gk);return o}function ba(e,t,n,r){if(e===t&&n===r)return Le;const s=i=>Kk(i,0,1,e,n);return i=>i===0||i===1?i:xv(s(i),t,r)}const Yk=ba(.42,0,1,1),Xk=ba(0,0,.58,1),vv=ba(.42,0,.58,1),Jk=e=>Array.isArray(e)&&typeof e[0]!="number",bv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,wv=e=>t=>1-e(1-t),Gf=e=>1-Math.sin(Math.acos(e)),jv=wv(Gf),Zk=bv(Gf),Nv=ba(.33,1.53,.69,.99),Kf=wv(Nv),eS=bv(Kf),tS=e=>(e*=2)<1?.5*Kf(e):.5*(2-Math.pow(2,-10*(e-1))),cp={linear:Le,easeIn:Yk,easeInOut:vv,easeOut:Xk,circIn:Gf,circInOut:Zk,circOut:jv,backIn:Kf,backInOut:eS,backOut:Nv,anticipate:tS},up=e=>{if(Array.isArray(e)){Jo(e.length===4);const[t,n,r,s]=e;return ba(t,n,r,s)}else if(typeof e=="string")return Jo(cp[e]!==void 0),cp[e];return e},Yf=(e,t)=>n=>!!(xa(n)&&sk.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),kv=(e,t,n)=>r=>{if(!xa(r))return r;const[s,i,o,l]=r.match($l);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},nS=e=>tr(0,255,e),Ac={...Qr,transform:e=>Math.round(nS(e))},Cr={test:Yf("rgb","red"),parse:kv("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ac.transform(e)+", "+Ac.transform(t)+", "+Ac.transform(n)+", "+Ei(Ci.transform(r))+")"};function rS(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const nd={test:Yf("#"),parse:rS,transform:Cr.transform},ps={test:Yf("hsl","hue"),parse:kv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+tn.transform(Ei(t))+", "+tn.transform(Ei(n))+", "+Ei(Ci.transform(r))+")"},st={test:e=>Cr.test(e)||nd.test(e)||ps.test(e),parse:e=>Cr.test(e)?Cr.parse(e):ps.test(e)?ps.parse(e):nd.parse(e),transform:e=>xa(e)?e:e.hasOwnProperty("red")?Cr.transform(e):ps.transform(e)},Se=(e,t,n)=>-n*e+n*t+e;function Lc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function sS({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Lc(c,l,e+1/3),i=Lc(c,l,e),o=Lc(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Rc=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},iS=[nd,Cr,ps],aS=e=>iS.find(t=>t.test(e));function dp(e){const t=aS(e);let n=t.parse(e);return t===ps&&(n=sS(n)),n}const Sv=(e,t)=>{const n=dp(e),r=dp(t),s={...n};return i=>(s.red=Rc(n.red,r.red,i),s.green=Rc(n.green,r.green,i),s.blue=Rc(n.blue,r.blue,i),s.alpha=Se(n.alpha,r.alpha,i),Cr.transform(s))};function oS(e){var t,n;return isNaN(e)&&xa(e)&&(((t=e.match($l))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Xx))===null||n===void 0?void 0:n.length)||0)>0}const _v={regex:nk,countKey:"Vars",token:"${v}",parse:Le},Cv={regex:Xx,countKey:"Colors",token:"${c}",parse:st.parse},Ev={regex:$l,countKey:"Numbers",token:"${n}",parse:Qr.parse};function Ic(e,{regex:t,countKey:n,token:r,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(s)))}function Zo(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Ic(n,_v),Ic(n,Cv),Ic(n,Ev),n}function Pv(e){return Zo(e).values}function Tv(e){const{values:t,numColors:n,numVars:r,tokenised:s}=Zo(e),i=t.length;return o=>{let l=s;for(let c=0;c<i;c++)c<r?l=l.replace(_v.token,o[c]):c<r+n?l=l.replace(Cv.token,st.transform(o[c])):l=l.replace(Ev.token,Ei(o[c]));return l}}const lS=e=>typeof e=="number"?0:e;function cS(e){const t=Pv(e);return Tv(e)(t.map(lS))}const nr={test:oS,parse:Pv,createTransformer:Tv,getAnimatableNone:cS},Av=(e,t)=>n=>`${n>0?t:e}`;function Lv(e,t){return typeof e=="number"?n=>Se(e,t,n):st.test(e)?Sv(e,t):e.startsWith("var(")?Av(e,t):Iv(e,t)}const Rv=(e,t)=>{const n=[...e],r=n.length,s=e.map((i,o)=>Lv(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},uS=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Lv(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},Iv=(e,t)=>{const n=nr.createTransformer(t),r=Zo(e),s=Zo(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Xn(Rv(r.values,s.values),n):Av(e,t)},ta=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},fp=(e,t)=>n=>Se(e,t,n);function dS(e){return typeof e=="number"?fp:typeof e=="string"?st.test(e)?Sv:Iv:Array.isArray(e)?Rv:typeof e=="object"?uS:fp}function fS(e,t,n){const r=[],s=n||dS(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Le:t;l=Xn(c,l)}r.push(l)}return r}function Ov(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Jo(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=fS(t,r,s),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=ta(e[d],e[d+1],u);return o[d](f)};return n?u=>c(tr(e[0],e[i-1],u)):c}function hS(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=ta(0,t,r);e.push(Se(n,1,s))}}function mS(e){const t=[0];return hS(t,e.length-1),t}function pS(e,t){return e.map(n=>n*t)}function gS(e,t){return e.map(()=>t||vv).splice(0,e.length-1)}function el({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=Jk(r)?r.map(up):up(r),i={done:!1,value:t[0]},o=pS(n&&n.length===t.length?n:mS(t),e),l=Ov(o,t,{ease:Array.isArray(s)?s:gS(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function Mv(e,t){return t?e*(1e3/t):0}const yS=5;function zv(e,t,n){const r=Math.max(t-yS,0);return Mv(n-e(r),t-r)}const Oc=.001,xS=.01,vS=10,bS=.05,wS=1;function jS({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,i,o=1-t;o=tr(bS,wS,o),e=tr(xS,vS,pn(e)),o<1?(s=u=>{const d=u*o,f=d*e,h=d-n,m=rd(u,o),y=Math.exp(-f);return Oc-h/m*y},i=u=>{const f=u*o*e,h=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-f),w=rd(Math.pow(u,2),o);return(-s(u)+Oc>0?-1:1)*((h-m)*y)/w}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Oc+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=kS(s,i,l);if(e=Lr(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const NS=12;function kS(e,t,n){let r=n;for(let s=1;s<NS;s++)r=r-e(r)/t(r);return r}function rd(e,t){return e*Math.sqrt(1-t*t)}const SS=["duration","bounce"],_S=["stiffness","damping","mass"];function hp(e,t){return t.some(n=>e[n]!==void 0)}function CS(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!hp(e,_S)&&hp(e,SS)){const n=jS(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Dv({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=CS({...r,velocity:-pn(r.velocity||0)}),m=f||0,y=c/(2*Math.sqrt(l*u)),w=i-s,v=pn(Math.sqrt(l/u)),x=Math.abs(w)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let g;if(y<1){const p=rd(v,y);g=N=>{const j=Math.exp(-y*v*N);return i-j*((m+y*v*w)/p*Math.sin(p*N)+w*Math.cos(p*N))}}else if(y===1)g=p=>i-Math.exp(-v*p)*(w+(m+v*w)*p);else{const p=v*Math.sqrt(y*y-1);g=N=>{const j=Math.exp(-y*v*N),k=Math.min(p*N,300);return i-j*((m+y*v*w)*Math.sinh(k)+p*w*Math.cosh(k))/p}}return{calculatedDuration:h&&d||null,next:p=>{const N=g(p);if(h)o.done=p>=d;else{let j=m;p!==0&&(y<1?j=zv(g,p,N):j=0);const k=Math.abs(j)<=n,E=Math.abs(i-N)<=t;o.done=k&&E}return o.value=o.done?i:N,o}}}function mp({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=P=>l!==void 0&&P<l||c!==void 0&&P>c,y=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let w=n*t;const v=f+w,x=o===void 0?v:o(v);x!==v&&(w=x-f);const g=P=>-w*Math.exp(-P/r),p=P=>x+g(P),N=P=>{const R=g(P),V=p(P);h.done=Math.abs(R)<=u,h.value=h.done?x:V};let j,k;const E=P=>{m(h.value)&&(j=P,k=Dv({keyframes:[h.value,y(h.value)],velocity:zv(p,P,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:P=>{let R=!1;return!k&&j===void 0&&(R=!0,N(P),E(P)),j!==void 0&&P>j?k.next(P-j):(!R&&N(P),h)}}}const ES=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ge.update(t,!0),stop:()=>wn(t),now:()=>Ye.isProcessing?Ye.timestamp:performance.now()}},pp=2e4;function gp(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<pp;)t+=n,r=e.next(t);return t>=pp?1/0:t}const PS={decay:mp,inertia:mp,tween:el,keyframes:el,spring:Dv};function tl({autoplay:e=!0,delay:t=0,driver:n=ES,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let m=1,y=!1,w,v;const x=()=>{v=new Promise(G=>{w=G})};x();let g;const p=PS[s]||el;let N;p!==el&&typeof r[0]!="number"&&(N=Ov([0,100],r,{clamp:!1}),r=[0,100]);const j=p({...h,keyframes:r});let k;l==="mirror"&&(k=p({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let E="idle",P=null,R=null,V=null;j.calculatedDuration===null&&i&&(j.calculatedDuration=gp(j));const{calculatedDuration:D}=j;let S=1/0,C=1/0;D!==null&&(S=D+o,C=S*(i+1)-o);let O=0;const A=G=>{if(R===null)return;m>0&&(R=Math.min(R,G)),m<0&&(R=Math.min(G-C/m,R)),P!==null?O=P:O=Math.round(G-R)*m;const J=O-t*(m>=0?1:-1),le=m>=0?J<0:J>C;O=Math.max(J,0),E==="finished"&&P===null&&(O=C);let Te=O,he=j;if(i){const Ee=Math.min(O,C)/S;let vt=Math.floor(Ee),ce=Ee%1;!ce&&Ee>=1&&(ce=1),ce===1&&vt--,vt=Math.min(vt,i+1),!!(vt%2)&&(l==="reverse"?(ce=1-ce,o&&(ce-=o/S)):l==="mirror"&&(he=k)),Te=tr(0,1,ce)*S}const we=le?{done:!1,value:r[0]}:he.next(Te);N&&(we.value=N(we.value));let{done:z}=we;!le&&D!==null&&(z=m>=0?O>=C:O<=0);const ye=P===null&&(E==="finished"||E==="running"&&z);return f&&f(we.value),ye&&I(),we},M=()=>{g&&g.stop(),g=void 0},q=()=>{E="idle",M(),w(),x(),R=V=null},I=()=>{E="finished",d&&d(),M(),w()},B=()=>{if(y)return;g||(g=n(A));const G=g.now();c&&c(),P!==null?R=G-P:(!R||E==="finished")&&(R=G),E==="finished"&&x(),V=R,P=null,E="running",g.start()};e&&B();const F={then(G,J){return v.then(G,J)},get time(){return pn(O)},set time(G){G=Lr(G),O=G,P!==null||!g||m===0?P=G:R=g.now()-G/m},get duration(){const G=j.calculatedDuration===null?gp(j):j.calculatedDuration;return pn(G)},get speed(){return m},set speed(G){G===m||!g||(m=G,F.time=pn(O))},get state(){return E},play:B,pause:()=>{E="paused",P=O},stop:()=>{y=!0,E!=="idle"&&(E="idle",u&&u(),q())},cancel:()=>{V!==null&&A(V),q()},complete:()=>{E="finished"},sample:G=>(R=0,A(G))};return F}function TS(e){let t;return()=>(t===void 0&&(t=e()),t)}const AS=TS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),LS=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ja=10,RS=2e4,IS=(e,t)=>t.type==="spring"||e==="backgroundColor"||!pv(t.ease);function OS(e,t,{onUpdate:n,onComplete:r,...s}){if(!(AS()&&LS.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(p=>{l=p})};d();let{keyframes:f,duration:h=300,ease:m,times:y}=s;if(IS(t,s)){const p=tl({...s,repeat:0,delay:0});let N={done:!1,value:f[0]};const j=[];let k=0;for(;!N.done&&k<RS;)N=p.sample(k),j.push(N.value),k+=Ja;y=void 0,f=j,h=k-Ja,m="linear"}const w=Wk(e.owner.current,t,f,{...s,duration:h,ease:m,times:y}),v=()=>{u=!1,w.cancel()},x=()=>{u=!0,ge.update(v),l(),d()};return w.onfinish=()=>{u||(e.set(Hk(f,s)),r&&r(),x())},{then(p,N){return c.then(p,N)},attachTimeline(p){return w.timeline=p,w.onfinish=null,Le},get time(){return pn(w.currentTime||0)},set time(p){w.currentTime=Lr(p)},get speed(){return w.playbackRate},set speed(p){w.playbackRate=p},get duration(){return pn(h)},play:()=>{o||(w.play(),wn(v))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:p}=w;if(p){const N=tl({...s,autoplay:!1});e.setWithVelocity(N.sample(p-Ja).value,N.sample(p).value,Ja)}x()},complete:()=>{u||w.finish()},cancel:x}}function MS({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Le,pause:Le,stop:Le,then:i=>(i(),Promise.resolve()),cancel:Le,complete:Le});return t?tl({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const zS={type:"spring",stiffness:500,damping:25,restSpeed:10},DS=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$S={type:"keyframes",duration:.8},US={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FS=(e,{keyframes:t})=>t.length>2?$S:Hr.has(e)?e.startsWith("scale")?DS(t[1]):zS:US,sd=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(nr.test(t)||t==="0")&&!t.startsWith("url(")),VS=new Set(["brightness","contrast","saturate","opacity"]);function BS(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match($l)||[];if(!r)return e;const s=n.replace(r,"");let i=VS.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const qS=/([a-z-]*)\(.*?\)/g,id={...nr,getAnimatableNone:e=>{const t=e.match(qS);return t?t.map(BS).join(" "):e}},WS={...Jx,color:st,backgroundColor:st,outlineColor:st,fill:st,stroke:st,borderColor:st,borderTopColor:st,borderRightColor:st,borderBottomColor:st,borderLeftColor:st,filter:id,WebkitFilter:id},Xf=e=>WS[e];function $v(e,t){let n=Xf(e);return n!==id&&(n=nr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Uv=e=>/^0[^.\s]+$/.test(e);function HS(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Uv(e)}function QS(e,t,n,r){const s=sd(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),HS(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];i[d]=$v(t,l)}return i}function GS({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Jf(e,t){return e[t]||e.default||e}const KS={skipAnimations:!1},Zf=(e,t,n,r={})=>s=>{const i=Jf(r,e)||{},o=i.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Lr(o);const c=QS(t,e,n,i),u=c[0],d=c[c.length-1],f=sd(e,u),h=sd(e,d);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:y=>{t.set(y),i.onUpdate&&i.onUpdate(y)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(GS(i)||(m={...m,...FS(e,m)}),m.duration&&(m.duration=Lr(m.duration)),m.repeatDelay&&(m.repeatDelay=Lr(m.repeatDelay)),!f||!h||qk.current||i.type===!1||KS.skipAnimations)return MS(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const y=OS(t,e,m);if(y)return y}return tl(m)};function nl(e){return!!(xt(e)&&e.add)}const Fv=e=>/^\-?\d*\.?\d+$/.test(e);function eh(e,t){e.indexOf(t)===-1&&e.push(t)}function th(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class nh{constructor(){this.subscriptions=[]}add(t){return eh(this.subscriptions,t),()=>th(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const YS=e=>!isNaN(parseFloat(e));class XS{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Ye;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,ge.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ge.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=YS(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new nh);const r=this.events[t].add(n);return t==="change"?()=>{r(),ge.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Mv(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Os(e,t){return new XS(e,t)}const Vv=e=>t=>t.test(e),JS={test:e=>e==="auto",parse:e=>e},Bv=[Qr,X,tn,An,ak,ik,JS],ri=e=>Bv.find(Vv(e)),ZS=[...Bv,st,nr],e5=e=>ZS.find(Vv(e));function t5(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Os(n))}function n5(e,t){const n=Fl(e,t);let{transitionEnd:r={},transition:s={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const l=bk(i[o]);t5(e,o,l)}}function r5(e,t,n){var r,s;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(Fv(d)||Uv(d))?d=parseFloat(d):!e5(d)&&nr.test(u)&&(d=$v(c,u)),e.addValue(c,Os(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function s5(e,t){return t?(t[e]||t.default||t).from:void 0}function i5(e,t,n){const r={};for(const s in e){const i=s5(s,t);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function a5({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function o5(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function qv(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const h=e.getValue(f),m=l[f];if(!h||m===void 0||d&&a5(d,f))continue;const y={delay:n,elapsed:0,...Jf(i||{},f)};if(window.HandoffAppearAnimations){const x=e.getProps()[Wx];if(x){const g=window.HandoffAppearAnimations(x,f,h,ge);g!==null&&(y.elapsed=g,y.isHandoff=!0)}}let w=!y.isHandoff&&!o5(h,m);if(y.type==="spring"&&(h.getVelocity()||y.velocity)&&(w=!1),h.animation&&(w=!1),w)continue;h.start(Zf(f,h,m,e.shouldReduceMotion&&Hr.has(f)?{type:!1}:y));const v=h.animation;nl(c)&&(c.add(f),v.then(()=>c.remove(f))),u.push(v)}return o&&Promise.all(u).then(()=>{o&&n5(e,o)}),u}function ad(e,t,n={}){const r=Fl(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(qv(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return l5(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function l5(e,t,n=0,r=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(c5).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(ad(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function c5(e,t){return e.sortNodePosition(t)}function u5(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>ad(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=ad(e,t,n);else{const s=typeof t=="function"?Fl(e,t,n.custom):t;r=Promise.all(qv(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const d5=[...Df].reverse(),f5=Df.length;function h5(e){return t=>Promise.all(t.map(({animation:n,options:r})=>u5(e,n,r)))}function m5(e){let t=h5(e);const n=g5();let r=!0;const s=(c,u)=>{const d=Fl(e,u);if(d){const{transition:f,transitionEnd:h,...m}=d;c={...c,...m,...h}}return c};function i(c){t=c(e)}function o(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let y={},w=1/0;for(let x=0;x<f5;x++){const g=d5[x],p=n[g],N=d[g]!==void 0?d[g]:f[g],j=Zi(N),k=g===u?p.isActive:null;k===!1&&(w=x);let E=N===f[g]&&N!==d[g]&&j;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),p.protectedKeys={...y},!p.isActive&&k===null||!N&&!p.prevProp||zl(N)||typeof N=="boolean")continue;let R=p5(p.prevProp,N)||g===u&&p.isActive&&!E&&j||x>w&&j,V=!1;const D=Array.isArray(N)?N:[N];let S=D.reduce(s,{});k===!1&&(S={});const{prevResolvedValues:C={}}=p,O={...C,...S},A=M=>{R=!0,m.has(M)&&(V=!0,m.delete(M)),p.needsAnimating[M]=!0};for(const M in O){const q=S[M],I=C[M];if(y.hasOwnProperty(M))continue;let B=!1;Xo(q)&&Xo(I)?B=!hv(q,I):B=q!==I,B?q!==void 0?A(M):m.add(M):q!==void 0&&m.has(M)?A(M):p.protectedKeys[M]=!0}p.prevProp=N,p.prevResolvedValues=S,p.isActive&&(y={...y,...S}),r&&e.blockInitialAnimation&&(R=!1),R&&(!E||V)&&h.push(...D.map(M=>({animation:M,options:{type:g,...c}})))}if(m.size){const x={};m.forEach(g=>{const p=e.getBaseTarget(g);p!==void 0&&(x[g]=p)}),h.push({animation:x})}let v=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(h):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),n[c].isActive=u;const h=o(d,c);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n}}function p5(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!hv(t,e):!1}function pr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function g5(){return{animate:pr(!0),whileInView:pr(),whileHover:pr(),whileTap:pr(),whileDrag:pr(),whileFocus:pr(),exit:pr()}}class y5 extends fr{constructor(t){super(t),t.animationState||(t.animationState=m5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),zl(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let x5=0;class v5 extends fr{constructor(){super(...arguments),this.id=x5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const b5={animation:{Feature:y5},exit:{Feature:v5}},yp=(e,t)=>Math.abs(e-t);function w5(e,t){const n=yp(e.x,t.x),r=yp(e.y,t.y);return Math.sqrt(n**2+r**2)}class Wv{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=zc(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=w5(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:y}=f,{timestamp:w}=Ye;this.history.push({...y,timestamp:w});const{onStart:v,onMove:x}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Mc(h,this.transformPagePoint),ge.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=zc(f.type==="pointercancel"?this.lastMoveEventInfo:Mc(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,v),y&&y(f,v)},!lv(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Ul(t),l=Mc(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ye;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,zc(l,this.history)),this.removeListeners=Xn(mn(this.contextWindow,"pointermove",this.handlePointerMove),mn(this.contextWindow,"pointerup",this.handlePointerUp),mn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wn(this.updatePoint)}}function Mc(e,t){return t?{point:t(e.point)}:e}function xp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function zc({point:e},t){return{point:e,delta:xp(e,Hv(t)),offset:xp(e,j5(t)),velocity:N5(t,.1)}}function j5(e){return e[0]}function Hv(e){return e[e.length-1]}function N5(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Hv(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Lr(t)));)n--;if(!r)return{x:0,y:0};const i=pn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function kt(e){return e.max-e.min}function od(e,t=0,n=.01){return Math.abs(e-t)<=n}function vp(e,t,n,r=.5){e.origin=r,e.originPoint=Se(t.min,t.max,e.origin),e.scale=kt(n)/kt(t),(od(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Se(n.min,n.max,e.origin)-e.originPoint,(od(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Pi(e,t,n,r){vp(e.x,t.x,n.x,r?r.originX:void 0),vp(e.y,t.y,n.y,r?r.originY:void 0)}function bp(e,t,n){e.min=n.min+t.min,e.max=e.min+kt(t)}function k5(e,t,n){bp(e.x,t.x,n.x),bp(e.y,t.y,n.y)}function wp(e,t,n){e.min=t.min-n.min,e.max=e.min+kt(t)}function Ti(e,t,n){wp(e.x,t.x,n.x),wp(e.y,t.y,n.y)}function S5(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Se(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Se(n,e,r.max):Math.min(e,n)),e}function jp(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function _5(e,{top:t,left:n,bottom:r,right:s}){return{x:jp(e.x,n,s),y:jp(e.y,t,r)}}function Np(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function C5(e,t){return{x:Np(e.x,t.x),y:Np(e.y,t.y)}}function E5(e,t){let n=.5;const r=kt(e),s=kt(t);return s>r?n=ta(t.min,t.max-r,e.min):r>s&&(n=ta(e.min,e.max-s,t.min)),tr(0,1,n)}function P5(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ld=.35;function T5(e=ld){return e===!1?e=0:e===!0&&(e=ld),{x:kp(e,"left","right"),y:kp(e,"top","bottom")}}function kp(e,t,n){return{min:Sp(e,t),max:Sp(e,n)}}function Sp(e,t){return typeof e=="number"?e:e[t]||0}const _p=()=>({translate:0,scale:1,origin:0,originPoint:0}),gs=()=>({x:_p(),y:_p()}),Cp=()=>({min:0,max:0}),Re=()=>({x:Cp(),y:Cp()});function Pt(e){return[e("x"),e("y")]}function Qv({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function A5({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function L5(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Dc(e){return e===void 0||e===1}function cd({scale:e,scaleX:t,scaleY:n}){return!Dc(e)||!Dc(t)||!Dc(n)}function vr(e){return cd(e)||Gv(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Gv(e){return Ep(e.x)||Ep(e.y)}function Ep(e){return e&&e!=="0%"}function rl(e,t,n){const r=e-n,s=t*r;return n+s}function Pp(e,t,n,r,s){return s!==void 0&&(e=rl(e,s,r)),rl(e,n,r)+t}function ud(e,t=0,n=1,r,s){e.min=Pp(e.min,t,n,r,s),e.max=Pp(e.max,t,n,r,s)}function Kv(e,{x:t,y:n}){ud(e.x,t.translate,t.scale,t.originPoint),ud(e.y,n.translate,n.scale,n.originPoint)}function R5(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ys(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Kv(e,o)),r&&vr(i.latestValues)&&ys(e,i.latestValues))}t.x=Tp(t.x),t.y=Tp(t.y)}function Tp(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function On(e,t){e.min=e.min+t,e.max=e.max+t}function Ap(e,t,[n,r,s]){const i=t[s]!==void 0?t[s]:.5,o=Se(e.min,e.max,i);ud(e,t[n],t[r],o,t.scale)}const I5=["x","scaleX","originX"],O5=["y","scaleY","originY"];function ys(e,t){Ap(e.x,t,I5),Ap(e.y,t,O5)}function Yv(e,t){return Qv(L5(e.getBoundingClientRect(),t))}function M5(e,t,n){const r=Yv(e,n),{scroll:s}=t;return s&&(On(r.x,s.offset.x),On(r.y,s.offset.y)),r}const Xv=({current:e})=>e?e.ownerDocument.defaultView:null,z5=new WeakMap;class D5{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Re(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ul(d,"page").point)},i=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:y}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=uv(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pt(v=>{let x=this.getAxisMotionValue(v).get()||0;if(tn.test(x)){const{projection:g}=this.visualElement;if(g&&g.layout){const p=g.layout.layoutBox[v];p&&(x=kt(p)*(parseFloat(x)/100))}}this.originPoint[v]=x}),y&&ge.update(()=>y(d,f),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:y,onDrag:w}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:v}=f;if(m&&this.currentDirection===null){this.currentDirection=$5(v),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),w&&w(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Pt(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Wv(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Xv(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ge.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Za(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=S5(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&ms(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=_5(s.layoutBox,n):this.constraints=!1,this.elastic=T5(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Pt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=P5(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ms(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=M5(r,s.root,this.visualElement.getTransformPagePoint());let o=C5(s.layout.layoutBox,i);if(n){const l=n(A5(o));this.hasMutatedConstraints=!!l,l&&(o=Qv(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Pt(d=>{if(!Za(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(Zf(t,r,0,n))}stopAnimation(){Pt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Pt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Pt(n=>{const{drag:r}=this.getProps();if(!Za(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(t[n]-Se(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ms(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Pt(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();s[o]=E5({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Pt(o=>{if(!Za(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Se(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;z5.set(this.visualElement,this);const t=this.visualElement.current,n=mn(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ms(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=fn(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Pt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=ld,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Za(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function $5(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class U5 extends fr{constructor(t){super(t),this.removeGroupControls=Le,this.removeListeners=Le,this.controls=new D5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Le}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lp=e=>(t,n)=>{e&&ge.update(()=>e(t,n))};class F5 extends fr{constructor(){super(...arguments),this.removePointerDownListener=Le}onPointerDown(t){this.session=new Wv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Xv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Lp(t),onStart:Lp(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ge.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=mn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function V5(){const e=b.useContext(Ol);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=b.useId();return b.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const yo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Rp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const si={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(X.test(e))e=parseFloat(e);else return e;const n=Rp(e,t.target.x),r=Rp(e,t.target.y);return`${n}% ${r}%`}},B5={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=nr.parse(e);if(s.length>5)return r;const i=nr.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=Se(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class q5 extends nn.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;JN(W5),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),yo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ge.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Jv(e){const[t,n]=V5(),r=b.useContext(Uf);return nn.createElement(q5,{...e,layoutGroup:r,switchLayoutGroup:b.useContext(Qx),isPresent:t,safeToRemove:n})}const W5={borderRadius:{...si,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:si,borderTopRightRadius:si,borderBottomLeftRadius:si,borderBottomRightRadius:si,boxShadow:B5},Zv=["TopLeft","TopRight","BottomLeft","BottomRight"],H5=Zv.length,Ip=e=>typeof e=="string"?parseFloat(e):e,Op=e=>typeof e=="number"||X.test(e);function Q5(e,t,n,r,s,i){s?(e.opacity=Se(0,n.opacity!==void 0?n.opacity:1,G5(r)),e.opacityExit=Se(t.opacity!==void 0?t.opacity:1,0,K5(r))):i&&(e.opacity=Se(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<H5;o++){const l=`border${Zv[o]}Radius`;let c=Mp(t,l),u=Mp(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Op(c)===Op(u)?(e[l]=Math.max(Se(Ip(c),Ip(u),r),0),(tn.test(u)||tn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Se(t.rotate||0,n.rotate||0,r))}function Mp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const G5=e1(0,.5,jv),K5=e1(.5,.95,Le);function e1(e,t,n){return r=>r<e?0:r>t?1:n(ta(e,t,r))}function zp(e,t){e.min=t.min,e.max=t.max}function Et(e,t){zp(e.x,t.x),zp(e.y,t.y)}function Dp(e,t,n,r,s){return e-=t,e=rl(e,1/n,r),s!==void 0&&(e=rl(e,1/s,r)),e}function Y5(e,t=0,n=1,r=.5,s,i=e,o=e){if(tn.test(t)&&(t=parseFloat(t),t=Se(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Se(i.min,i.max,r);e===i&&(l-=t),e.min=Dp(e.min,t,n,l,s),e.max=Dp(e.max,t,n,l,s)}function $p(e,t,[n,r,s],i,o){Y5(e,t[n],t[r],t[s],t.scale,i,o)}const X5=["x","scaleX","originX"],J5=["y","scaleY","originY"];function Up(e,t,n,r){$p(e.x,t,X5,n?n.x:void 0,r?r.x:void 0),$p(e.y,t,J5,n?n.y:void 0,r?r.y:void 0)}function Fp(e){return e.translate===0&&e.scale===1}function t1(e){return Fp(e.x)&&Fp(e.y)}function Z5(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function n1(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Vp(e){return kt(e.x)/kt(e.y)}class e_{constructor(){this.members=[]}add(t){eh(this.members,t),t.scheduleRender()}remove(t){if(th(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Bp(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const t_=(e,t)=>e.depth-t.depth;class n_{constructor(){this.children=[],this.isDirty=!1}add(t){eh(this.children,t),this.isDirty=!0}remove(t){th(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(t_),this.isDirty=!1,this.children.forEach(t)}}function r_(e,t){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(wn(r),e(i-t))};return ge.read(r,!0),()=>wn(r)}function s_(e){window.MotionDebug&&window.MotionDebug.record(e)}function i_(e){return e instanceof SVGElement&&e.tagName!=="svg"}function a_(e,t,n){const r=xt(e)?e:Os(e);return r.start(Zf("",r,t,n)),r.animation}const qp=["","X","Y","Z"],o_={visibility:"hidden"},Wp=1e3;let l_=0;const br={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function r1({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=l_++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,br.totalNodes=br.resolvedTargetDeltas=br.recalculatedProjection=0,this.nodes.forEach(d_),this.nodes.forEach(g_),this.nodes.forEach(y_),this.nodes.forEach(f_),s_(br)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new n_)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new nh),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=i_(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=r_(h,250),yo.hasAnimatedSinceResize&&(yo.hasAnimatedSinceResize=!1,this.nodes.forEach(Qp))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||j_,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=d.getProps(),g=!this.targetLayout||!n1(this.targetLayout,y)||m,p=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||p||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,p);const N={...Jf(w,"layout"),onPlay:v,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||Qp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(x_),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Hp);return}this.isUpdating||this.nodes.forEach(m_),this.isUpdating=!1,this.nodes.forEach(p_),this.nodes.forEach(c_),this.nodes.forEach(u_),this.clearAllSnapshots();const l=performance.now();Ye.delta=tr(0,1e3/60,l-Ye.timestamp),Ye.timestamp=l,Ye.isProcessing=!0,Ec.update.process(Ye),Ec.preRender.process(Ye),Ec.render.process(Ye),Ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(h_),this.sharedNodes.forEach(v_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!t1(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||vr(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),N_(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Re();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(On(l.x,c.offset.x),On(l.y,c.offset.y)),l}removeElementScroll(o){const l=Re();Et(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Et(l,o);const{scroll:h}=this.root;h&&(On(l.x,-h.offset.x),On(l.y,-h.offset.y))}On(l.x,d.offset.x),On(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=Re();Et(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ys(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),vr(d.latestValues)&&ys(c,d.latestValues)}return vr(this.latestValues)&&ys(c,this.latestValues),c}removeTransform(o){const l=Re();Et(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!vr(u.latestValues))continue;cd(u.latestValues)&&u.updateSnapshot();const d=Re(),f=u.measurePageBox();Et(d,f),Up(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return vr(this.latestValues)&&Up(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Ye.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),Ti(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Et(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Re(),this.targetWithTransforms=Re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),k5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Et(this.target,this.layout.layoutBox),Kv(this.target,this.targetDelta)):Et(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),Ti(this.relativeTargetOrigin,this.target,m.target),Et(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}br.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||cd(this.parent.latestValues)||Gv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ye.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Et(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;R5(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=gs(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=gs(),this.projectionDeltaWithTransform=gs());const w=this.projectionTransform;Pi(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=Bp(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),br.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=gs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Re(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,w=m!==y,v=this.getStack(),x=!v||v.members.length<=1,g=!!(w&&!x&&this.options.crossfade===!0&&!this.path.some(w_));this.animationProgress=0;let p;this.mixTargetDelta=N=>{const j=N/1e3;Gp(f.x,o.x,j),Gp(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ti(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),b_(this.relativeTarget,this.relativeTargetOrigin,h,j),p&&Z5(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p=Re()),Et(p,this.relativeTarget)),w&&(this.animationValues=d,Q5(d,u,this.latestValues,j,g,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ge.update(()=>{yo.hasAnimatedSinceResize=!0,this.currentAnimation=a_(0,Wp,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Wp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&s1(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Re();const f=kt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=kt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Et(l,c),ys(l,d),Pi(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new e_),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<qp.length;d++){const f="rotate"+qp[d];c[f]&&(u[f]=c[f],o.setStaticValue(f,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return o_;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=go(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=go(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!vr(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Bp(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Ko){if(h[w]===void 0)continue;const{correct:v,applyTo:x}=Ko[w],g=u.transform==="none"?h[w]:v(h[w],f);if(x){const p=x.length;for(let N=0;N<p;N++)u[x[N]]=g}else u[w]=g}return this.options.layoutId&&(u.pointerEvents=f===this?go(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Hp),this.root.sharedNodes.clear()}}}function c_(e){e.updateLayout()}function u_(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Pt(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],m=kt(h);h.min=r[f].min,h.max=h.min+m}):s1(i,n.layoutBox,r)&&Pt(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],m=kt(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=gs();Pi(l,r,n.layoutBox);const c=gs();o?Pi(c,e.applyTransform(s,!0),n.measuredBox):Pi(c,r,n.layoutBox);const u=!t1(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const y=Re();Ti(y,n.layoutBox,h.layoutBox);const w=Re();Ti(w,r,m.layoutBox),n1(y,w)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=y,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function d_(e){br.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function f_(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function h_(e){e.clearSnapshot()}function Hp(e){e.clearMeasurements()}function m_(e){e.isLayoutDirty=!1}function p_(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Qp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function g_(e){e.resolveTargetDelta()}function y_(e){e.calcProjection()}function x_(e){e.resetRotation()}function v_(e){e.removeLeadSnapshot()}function Gp(e,t,n){e.translate=Se(t.translate,0,n),e.scale=Se(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Kp(e,t,n,r){e.min=Se(t.min,n.min,r),e.max=Se(t.max,n.max,r)}function b_(e,t,n,r){Kp(e.x,t.x,n.x,r),Kp(e.y,t.y,n.y,r)}function w_(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const j_={duration:.45,ease:[.4,0,.1,1]},Yp=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Xp=Yp("applewebkit/")&&!Yp("chrome/")?Math.round:Le;function Jp(e){e.min=Xp(e.min),e.max=Xp(e.max)}function N_(e){Jp(e.x),Jp(e.y)}function s1(e,t,n){return e==="position"||e==="preserve-aspect"&&!od(Vp(t),Vp(n),.2)}const k_=r1({attachResizeListener:(e,t)=>fn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$c={current:void 0},i1=r1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!$c.current){const e=new k_({});e.mount(window),e.setOptions({layoutScroll:!0}),$c.current=e}return $c.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),S_={pan:{Feature:F5},drag:{Feature:U5,ProjectionNode:i1,MeasureLayout:Jv}},__=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function C_(e){const t=__.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function dd(e,t,n=1){const[r,s]=C_(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return Fv(o)?parseFloat(o):o}else return ed(s)?dd(s,t,n+1):s}function E_(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const i=s.get();if(!ed(i))return;const o=dd(i,r);o&&s.set(o)});for(const s in t){const i=t[s];if(!ed(i))continue;const o=dd(i,r);o&&(t[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:t,transitionEnd:n}}const P_=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),a1=e=>P_.has(e),T_=e=>Object.keys(e).some(a1),Zp=e=>e===Qr||e===X,e0=(e,t)=>parseFloat(e.split(", ")[t]),t0=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return e0(s[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?e0(i[1],e):0}},A_=new Set(["x","y","z"]),L_=ya.filter(e=>!A_.has(e));function R_(e){const t=[];return L_.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ms={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:t0(4,13),y:t0(5,14)};Ms.translateX=Ms.x;Ms.translateY=Ms.y;const I_=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=Ms[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=Ms[u](c,i)}),e},O_=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(a1);let i=[],o=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=ri(d);const h=t[c];let m;if(Xo(h)){const y=h.length,w=h[0]===null?1:0;d=h[w],f=ri(d);for(let v=w;v<y&&h[v]!==null;v++)m?Jo(ri(h[v])===m):m=ri(h[v])}else m=ri(h);if(f!==m)if(Zp(f)&&Zp(m)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&m===X&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?u.set(m.transform(d)):t[c]=f.transform(h):(o||(i=R_(e),o=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=I_(t,e,l);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Ml&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function M_(e,t,n,r){return T_(t)?O_(e,t,n,r):{target:t,transitionEnd:r}}const z_=(e,t,n,r)=>{const s=E_(e,t,r);return t=s.target,r=s.transitionEnd,M_(e,t,n,r)},fd={current:null},o1={current:!1};function D_(){if(o1.current=!0,!!Ml)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>fd.current=e.matches;e.addListener(t),t()}else fd.current=!1}function $_(e,t,n){const{willChange:r}=t;for(const s in t){const i=t[s],o=n[s];if(xt(i))e.addValue(s,i),nl(r)&&r.add(s);else if(xt(o))e.addValue(s,Os(i,{owner:e})),nl(r)&&r.remove(s);else if(o!==i)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(s);e.addValue(s,Os(l!==void 0?l:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const n0=new WeakMap,l1=Object.keys(ea),U_=l1.length,r0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],F_=$f.length;class V_{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ge.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Dl(n),this.isVariantNode=Hx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];l[f]!==void 0&&xt(h)&&(h.set(l[f],!1),nl(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,n0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),o1.current||D_(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){n0.delete(this.current),this.projection&&this.projection.unmount(),wn(this.notifyUpdate),wn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Hr.has(t),s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ge.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,i){let o,l;for(let c=0;c<U_;c++){const u=l1[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=ea[u];h&&(o=h),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(l=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&ms(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:m})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Re()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<r0.length;r++){const s=r0[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=$_(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<F_;r++){const s=$f[r],i=this.props[s];(Zi(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Os(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Qf(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!xt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new nh),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class c1 extends V_{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},i){let o=i5(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){r5(this,r,o);const l=z_(this,r,o,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function B_(e){return window.getComputedStyle(e)}class q_ extends c1{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Hr.has(n)){const r=Xf(n);return r&&r.default||0}else{const r=B_(t),s=(Yx(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Yv(t,n)}build(t,n,r,s){Vf(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Hf(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){nv(t,n,r,s)}}class W_ extends c1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Hr.has(n)){const r=Xf(n);return r&&r.default||0}return n=rv.has(n)?n:zf(n),t.getAttribute(n)}measureInstanceViewportBox(){return Re()}scrapeMotionValuesFromProps(t,n){return iv(t,n)}build(t,n,r,s){qf(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){sv(t,n,r,s)}mount(t){this.isSVGTag=Wf(t.tagName),super.mount(t)}}const H_=(e,t)=>Ff(e)?new W_(t,{enableHardwareAcceleration:!1}):new q_(t,{enableHardwareAcceleration:!0}),Q_={layout:{ProjectionNode:i1,MeasureLayout:Jv}},G_={...b5,...Fk,...S_,...Q_},T=YN((e,t)=>Ek(e,t,G_,H_));function u1(){const e=b.useRef(!1);return Mf(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function K_(){const e=u1(),[t,n]=b.useState(0),r=b.useCallback(()=>{e.current&&n(t+1)},[t]);return[b.useCallback(()=>ge.postRender(r),[r]),t]}class Y_ extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function X_({children:e,isPresent:t}){const n=b.useId(),r=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=s.current;if(t||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),b.createElement(Y_,{isPresent:t,childRef:r,sizeRef:s},b.cloneElement(e,{ref:r}))}const Uc=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=av(J_),c=b.useId(),u=b.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),i?void 0:[n]);return b.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),b.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=b.createElement(X_,{isPresent:n},e)),b.createElement(Ol.Provider,{value:u},e)};function J_(){return new Map}function Z_(e){return b.useEffect(()=>()=>e(),[])}const wr=e=>e.key||"";function e6(e,t){e.forEach(n=>{const r=wr(n);t.set(r,n)})}function t6(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const Fe=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=b.useContext(Uf).forceRender||K_()[0],c=u1(),u=t6(e);let d=u;const f=b.useRef(new Map).current,h=b.useRef(d),m=b.useRef(new Map).current,y=b.useRef(!0);if(Mf(()=>{y.current=!1,e6(u,m),h.current=d}),Z_(()=>{y.current=!0,m.clear(),f.clear()}),y.current)return b.createElement(b.Fragment,null,d.map(g=>b.createElement(Uc,{key:wr(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},g)));d=[...d];const w=h.current.map(wr),v=u.map(wr),x=w.length;for(let g=0;g<x;g++){const p=w[g];v.indexOf(p)===-1&&!f.has(p)&&f.set(p,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((g,p)=>{if(v.indexOf(p)!==-1)return;const N=m.get(p);if(!N)return;const j=w.indexOf(p);let k=g;if(!k){const E=()=>{f.delete(p);const P=Array.from(m.keys()).filter(R=>!v.includes(R));if(P.forEach(R=>m.delete(R)),h.current=u.filter(R=>{const V=wr(R);return V===p||P.includes(V)}),!f.size){if(c.current===!1)return;l(),r&&r()}};k=b.createElement(Uc,{key:wr(N),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:i,mode:o},N),f.set(p,k)}d.splice(j,0,k)}),d=d.map(g=>{const p=g.key;return f.has(p)?g:b.createElement(Uc,{key:wr(g),isPresent:!0,presenceAffectsLayout:i,mode:o},g)}),b.createElement(b.Fragment,null,f.size?d:d.map(g=>b.cloneElement(g)))};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(e,t)=>{const n=b.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>b.createElement("svg",{ref:d,...n6,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${r6(e)}`,l].join(" "),...u},[...t.map(([f,h])=>b.createElement(f,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=ne("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=ne("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=ne("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=ne("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=ne("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=ne("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=ne("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=ne("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=ne("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=ne("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=ne("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),K=({variant:e="primary",size:t="md",loading:n=!1,children:r,className:s="",disabled:i,...o})=>{const l="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",c={primary:"bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-500 shadow-lg hover:shadow-xl",secondary:"bg-secondary-600 hover:bg-secondary-700 text-white focus:ring-secondary-500 shadow-lg hover:shadow-xl",outline:"border-2 border-primary-600 text-primary-600 hover:bg-primary-50 focus:ring-primary-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500 shadow-lg hover:shadow-xl"},u={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return a.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`${l} ${c[e]} ${u[t]} ${s}`,disabled:i||n,...o,children:[n&&a.jsx(rh,{className:"w-4 h-4 mr-2 animate-spin"}),r]})},w6=()=>{const[e,t]=b.useState(!1),[n,r]=b.useState(!1),[s,i]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(""),[d,f]=b.useState(!1),[h,m]=b.useState(0),[y,w]=b.useState(!1),{signIn:v,signUp:x,resetPassword:g,loading:p,isRateLimited:N,rateLimitedUntil:j}=et();b.useEffect(()=>{let R;return j?R=setInterval(()=>{const V=Math.max(0,Math.ceil((j-Date.now())/1e3));m(V),V<=0&&(m(0),clearInterval(R))},1e3):m(0),()=>{R&&clearInterval(R)}},[j]);const k=async R=>{if(R.preventDefault(),n){if(!s){_.error("Please enter your email address");return}if(N&&h>0){_.error(`Please wait ${h} seconds before trying again`);return}(await g(s)).error||w(!0);return}if(!s||!o){_.error("Please fill in all required fields");return}if(o.length<6){_.error("Password must be at least 6 characters");return}if(N&&h>0){_.error(`Please wait ${h} seconds before trying again`);return}if(e){if(!c){_.error("Please enter your name");return}(await x(s,o,c)).error||(t(!1),l(""),_.success("Account created successfully! You can now sign in with your credentials."))}else{const V=await v(s,o);V.error&&V.error.message.includes("Invalid login credentials")&&(s==="ishanstc123@gmail.com"||s==="demo@example.com")&&_.error('Demo account not found. Click "Create Demo Account" to set it up first.',{duration:5e3})}},E=()=>{r(!1),w(!1),i(""),l(""),u("")},P=p||N&&h>0;return a.jsxs(a.Fragment,{children:[a.jsx(Vx,{position:"top-center",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff",borderRadius:"12px",padding:"16px"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}}),a.jsxs("div",{className:"min-h-screen bg-white flex flex-col relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx(T.div,{animate:{x:[0,100,0],y:[0,-100,0],rotate:[0,180,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 left-10 w-20 h-20 bg-blue-200/30 rounded-full blur-xl"}),a.jsx(T.div,{animate:{x:[0,-150,0],y:[0,100,0],rotate:[0,-180,-360]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute top-1/3 right-20 w-32 h-32 bg-purple-200/30 rounded-full blur-xl"}),a.jsx(T.div,{animate:{x:[0,80,0],y:[0,-80,0],scale:[1,1.2,1]},transition:{duration:15,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 left-1/4 w-24 h-24 bg-indigo-200/30 rounded-full blur-xl"})]}),a.jsxs("div",{className:"flex-1 flex flex-col justify-center px-6 py-12 max-w-md mx-auto w-full relative z-10",children:[a.jsxs(T.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-8",children:[a.jsxs("div",{className:"relative w-64 h-48 mx-auto mb-6",children:[a.jsx(T.div,{animate:{rotate:360},transition:{duration:30,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-br from-blue-100 via-indigo-100 to-purple-100 rounded-full opacity-80"}),a.jsx(T.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3,duration:.6},className:"absolute top-8 left-1/2 transform -translate-x-1/2 w-24 h-40 bg-slate-800 rounded-2xl shadow-2xl",children:a.jsx("div",{className:"w-full h-full bg-white rounded-2xl m-1 p-2 flex flex-col",children:a.jsxs("div",{className:"flex-1 bg-gradient-to-b from-blue-50 to-white rounded-xl p-2",children:[a.jsx(T.div,{initial:{width:0},animate:{width:"100%"},transition:{delay:.8,duration:.5},className:"w-full h-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded mb-2"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(T.div,{initial:{width:0},animate:{width:"75%"},transition:{delay:1,duration:.3},className:"h-1 bg-gray-200 rounded"}),a.jsx(T.div,{initial:{width:0},animate:{width:"50%"},transition:{delay:1.2,duration:.3},className:"h-1 bg-gray-200 rounded"})]}),a.jsx(T.div,{initial:{scale:0},animate:{scale:1},transition:{delay:1.5,duration:.4,type:"spring"},className:"mt-2 w-8 h-8 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full mx-auto flex items-center justify-center shadow-lg",children:a.jsx(xo,{className:"w-4 h-4 text-white"})})]})})}),a.jsx(T.div,{initial:{opacity:0,rotate:-20},animate:{opacity:1,rotate:12},transition:{delay:.6,duration:.5},className:"absolute top-4 right-8 w-12 h-16 bg-white rounded-lg shadow-xl transform opacity-90",children:a.jsxs("div",{className:"p-2",children:[a.jsx("div",{className:"w-full h-1 bg-gray-200 rounded mb-1"}),a.jsx("div",{className:"w-2/3 h-1 bg-gray-200 rounded mb-1"}),a.jsx("div",{className:"w-full h-1 bg-gray-200 rounded"})]})}),a.jsx(T.div,{initial:{scale:0},animate:{scale:1},transition:{delay:1,duration:.4,type:"spring"},className:"absolute bottom-4 left-8 w-10 h-10 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-xl",children:a.jsx(y6,{className:"w-5 h-5 text-white"})}),a.jsx(T.div,{animate:{y:[-5,5,-5],rotate:[0,180,360]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute top-2 left-4 text-yellow-400",children:a.jsx(x6,{className:"w-4 h-4"})}),a.jsx(T.div,{animate:{y:[5,-5,5],rotate:[360,180,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-2 right-2 text-purple-400",children:a.jsx(sh,{className:"w-3 h-3"})})]}),a.jsx(T.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.6},className:"text-2xl font-bold bg-gradient-to-r from-slate-800 via-blue-800 to-indigo-800 bg-clip-text text-transparent mb-2",children:n?"Reset Password":e?"Join Tecnology A/L":"Welcome Back"}),a.jsx(T.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.6},className:"text-slate-600 text-sm leading-relaxed",children:n?"Enter your email address and we'll send you a secure password reset link to get back into your account":e?"Create your premium account and unlock advanced learning features":"Sign in to access your premium learning dashboard"})]}),a.jsx(Fe,{children:N&&h>0&&a.jsx(T.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"mb-6 bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-2xl p-4 shadow-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center",children:a.jsx(qs,{className:"w-5 h-5 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-amber-800",children:"Rate Limited"}),a.jsxs("p",{className:"text-sm text-amber-700",children:["Please wait ",h," seconds before trying again"]})]})]})})}),a.jsxs(T.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl p-6 border border-white/20 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-purple-50/50 rounded-3xl"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx(Fe,{children:n&&a.jsxs(T.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},type:"button",onClick:E,className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 font-medium transition-colors mb-6 group",disabled:P,children:[a.jsx(Vl,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),a.jsx("span",{children:"Back to Sign In"})]})}),a.jsx(Fe,{children:y&&n&&a.jsxs(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(xo,{className:"w-8 h-8 text-green-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Check Your Email"}),a.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["We've sent a password reset link to ",a.jsx("strong",{children:s})]}),a.jsx(K,{onClick:E,variant:"outline",className:"rounded-xl",children:"Back to Sign In"})]})}),a.jsx(Fe,{children:!y&&a.jsxs(T.form,{onSubmit:k,className:"space-y-5",initial:{opacity:1},exit:{opacity:0},children:[e&&!n&&a.jsxs(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(x1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",id:"name",value:c,onChange:R=>u(R.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-slate-50/50 disabled:opacity-50 disabled:cursor-not-allowed placeholder-slate-400",placeholder:"Enter your full name",required:e,disabled:P})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(f6,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"email",id:"email",value:s,onChange:R=>i(R.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-slate-50/50 disabled:opacity-50 disabled:cursor-not-allowed placeholder-slate-400",placeholder:"example@gmail.com",required:!0,disabled:P}),s&&a.jsx(T.div,{initial:{scale:0},animate:{scale:1},className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:a.jsx(xo,{className:"w-5 h-5 text-green-500"})})]})]}),!n&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(d6,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:d?"text":"password",id:"password",value:o,onChange:R=>l(R.target.value),className:"w-full pl-10 pr-16 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-slate-50/50 disabled:opacity-50 disabled:cursor-not-allowed placeholder-slate-400",placeholder:"",required:!0,disabled:P}),a.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600 disabled:opacity-50 transition-colors",disabled:P,children:d?a.jsx(l6,{className:"w-5 h-5"}):a.jsx(c6,{className:"w-5 h-5"})})]}),!e&&a.jsx("div",{className:"text-right mt-2",children:a.jsx("button",{type:"button",onClick:()=>r(!0),className:"text-sm text-blue-600 hover:text-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",disabled:P,children:"Forgot password?"})})]}),a.jsx(K,{type:"submit",size:"lg",loading:p,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-xl py-3 font-semibold shadow-lg hover:shadow-xl transition-all duration-200",disabled:P||!s||!n&&(!o||e&&!c),children:p?n?"Sending Reset Link...":e?"Creating Account...":"Signing In...":h>0?`Wait ${h}s`:n?"Send Reset Link":e?"Create Account":"Sign In"})]})}),!n&&!y&&a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-slate-600",children:[e?"Already have an account?":"Don't have an account?"," ",a.jsx("button",{onClick:()=>t(!e),className:"text-blue-600 hover:text-blue-700 font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:P,children:e?"Sign In here":"Sign Up here"})]})})]})]})]})]})]})};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function j6(e,t,n){return(t=k6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a0(Object(n),!0).forEach(function(r){j6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k6(e){var t=N6(e,"string");return typeof t=="symbol"?t:t+""}const o0=()=>{};let ih={},b1={},w1=null,j1={mark:o0,measure:o0};try{typeof window<"u"&&(ih=window),typeof document<"u"&&(b1=document),typeof MutationObserver<"u"&&(w1=MutationObserver),typeof performance<"u"&&(j1=performance)}catch{}const{userAgent:l0=""}=ih.navigator||{},rr=ih,be=b1,c0=w1,eo=j1;rr.document;const Cn=!!be.documentElement&&!!be.head&&typeof be.addEventListener=="function"&&typeof be.createElement=="function",N1=~l0.indexOf("MSIE")||~l0.indexOf("Trident/");var S6=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,_6=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,k1={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},C6={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},S1=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Ze="classic",Bl="duotone",E6="sharp",P6="sharp-duotone",_1=[Ze,Bl,E6,P6],T6={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},A6={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},L6=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),R6={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},I6=["fak","fa-kit","fakd","fa-kit-duotone"],u0={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},O6=["kit"],M6={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},z6=["fak","fakd"],D6={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},d0={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},to={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},$6=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],U6=["fak","fa-kit","fakd","fa-kit-duotone"],F6={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},V6={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},B6={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},pd={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},q6=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],gd=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...$6,...q6],W6=["solid","regular","light","thin","duotone","brands"],C1=[1,2,3,4,5,6,7,8,9,10],H6=C1.concat([11,12,13,14,15,16,17,18,19,20]),Q6=[...Object.keys(B6),...W6,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",to.GROUP,to.SWAP_OPACITY,to.PRIMARY,to.SECONDARY].concat(C1.map(e=>"".concat(e,"x"))).concat(H6.map(e=>"w-".concat(e))),G6={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Nn="___FONT_AWESOME___",yd=16,E1="fa",P1="svg-inline--fa",$r="data-fa-i2svg",xd="data-fa-pseudo-element",K6="data-fa-pseudo-element-pending",ah="data-prefix",oh="data-icon",f0="fontawesome-i2svg",Y6="async",X6=["HTML","HEAD","STYLE","SCRIPT"],T1=(()=>{try{return!0}catch{return!1}})();function Na(e){return new Proxy(e,{get(t,n){return n in t?t[n]:t[Ze]}})}const A1=$({},k1);A1[Ze]=$($($($({},{"fa-duotone":"duotone"}),k1[Ze]),u0.kit),u0["kit-duotone"]);const J6=Na(A1),vd=$({},R6);vd[Ze]=$($($($({},{duotone:"fad"}),vd[Ze]),d0.kit),d0["kit-duotone"]);const h0=Na(vd),bd=$({},pd);bd[Ze]=$($({},bd[Ze]),D6.kit);const lh=Na(bd),wd=$({},V6);wd[Ze]=$($({},wd[Ze]),M6.kit);Na(wd);const Z6=S6,L1="fa-layers-text",eC=_6,tC=$({},T6);Na(tC);const nC=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Vc=C6,rC=[...O6,...Q6],Ai=rr.FontAwesomeConfig||{};function sC(e){var t=be.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function iC(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}be&&typeof be.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[n,r]=t;const s=iC(sC(n));s!=null&&(Ai[r]=s)});const R1={styleDefault:"solid",familyDefault:Ze,cssPrefix:E1,replacementClass:P1,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Ai.familyPrefix&&(Ai.cssPrefix=Ai.familyPrefix);const zs=$($({},R1),Ai);zs.autoReplaceSvg||(zs.observeMutations=!1);const Y={};Object.keys(R1).forEach(e=>{Object.defineProperty(Y,e,{enumerable:!0,set:function(t){zs[e]=t,Li.forEach(n=>n(Y))},get:function(){return zs[e]}})});Object.defineProperty(Y,"familyPrefix",{enumerable:!0,set:function(e){zs.cssPrefix=e,Li.forEach(t=>t(Y))},get:function(){return zs.cssPrefix}});rr.FontAwesomeConfig=Y;const Li=[];function aC(e){return Li.push(e),()=>{Li.splice(Li.indexOf(e),1)}}const Pn=yd,Xt={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function oC(e){if(!e||!Cn)return;const t=be.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=be.head.childNodes;let r=null;for(let s=n.length-1;s>-1;s--){const i=n[s],o=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=i)}return be.head.insertBefore(t,r),e}const lC="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ra(){let e=12,t="";for(;e-- >0;)t+=lC[Math.random()*62|0];return t}function Hs(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function ch(e){return e.classList?Hs(e.classList):(e.getAttribute("class")||"").split(" ").filter(t=>t)}function I1(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function cC(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,'="').concat(I1(e[n]),'" '),"").trim()}function ql(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";"),"")}function uh(e){return e.size!==Xt.size||e.x!==Xt.x||e.y!==Xt.y||e.rotate!==Xt.rotate||e.flipX||e.flipY}function uC(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(t.x*32,", ").concat(t.y*32,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),l="rotate(".concat(t.rotate," 0 0)"),c={transform:"".concat(i," ").concat(o," ").concat(l)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:c,path:u}}function dC(e){let{transform:t,width:n=yd,height:r=yd,startCentered:s=!1}=e,i="";return s&&N1?i+="translate(".concat(t.x/Pn-n/2,"em, ").concat(t.y/Pn-r/2,"em) "):s?i+="translate(calc(-50% + ".concat(t.x/Pn,"em), calc(-50% + ").concat(t.y/Pn,"em)) "):i+="translate(".concat(t.x/Pn,"em, ").concat(t.y/Pn,"em) "),i+="scale(".concat(t.size/Pn*(t.flipX?-1:1),", ").concat(t.size/Pn*(t.flipY?-1:1),") "),i+="rotate(".concat(t.rotate,"deg) "),i}var fC=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function O1(){const e=E1,t=P1,n=Y.cssPrefix,r=Y.replacementClass;let s=fC;if(n!==e||r!==t){const i=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),l=new RegExp("\\.".concat(t),"g");s=s.replace(i,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(l,".".concat(r))}return s}let m0=!1;function Bc(){Y.autoAddCss&&!m0&&(oC(O1()),m0=!0)}var hC={mixout(){return{dom:{css:O1,insertCss:Bc}}},hooks(){return{beforeDOMElementCreation(){Bc()},beforeI2svg(){Bc()}}}};const kn=rr||{};kn[Nn]||(kn[Nn]={});kn[Nn].styles||(kn[Nn].styles={});kn[Nn].hooks||(kn[Nn].hooks={});kn[Nn].shims||(kn[Nn].shims=[]);var Jt=kn[Nn];const M1=[],z1=function(){be.removeEventListener("DOMContentLoaded",z1),sl=1,M1.map(e=>e())};let sl=!1;Cn&&(sl=(be.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(be.readyState),sl||be.addEventListener("DOMContentLoaded",z1));function mC(e){Cn&&(sl?setTimeout(e,0):M1.push(e))}function ka(e){const{tag:t,attributes:n={},children:r=[]}=e;return typeof e=="string"?I1(e):"<".concat(t," ").concat(cC(n),">").concat(r.map(ka).join(""),"</").concat(t,">")}function p0(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var qc=function(t,n,r,s){var i=Object.keys(t),o=i.length,l=n,c,u,d;for(r===void 0?(c=1,d=t[i[0]]):(c=0,d=r);c<o;c++)u=i[c],d=l(d,t[u],u,t);return d};function pC(e){const t=[];let n=0;const r=e.length;for(;n<r;){const s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const i=e.charCodeAt(n++);(i&64512)==56320?t.push(((s&1023)<<10)+(i&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}function jd(e){const t=pC(e);return t.length===1?t[0].toString(16):null}function gC(e,t){const n=e.length;let r=e.charCodeAt(t),s;return r>=55296&&r<=56319&&n>t+1&&(s=e.charCodeAt(t+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function g0(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t},{})}function Nd(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,s=g0(t);typeof Jt.hooks.addPack=="function"&&!r?Jt.hooks.addPack(e,g0(t)):Jt.styles[e]=$($({},Jt.styles[e]||{}),s),e==="fas"&&Nd("fa",t)}const{styles:sa,shims:yC}=Jt,D1=Object.keys(lh),xC=D1.reduce((e,t)=>(e[t]=Object.keys(lh[t]),e),{});let dh=null,$1={},U1={},F1={},V1={},B1={};function vC(e){return~rC.indexOf(e)}function bC(e,t){const n=t.split("-"),r=n[0],s=n.slice(1).join("-");return r===e&&s!==""&&!vC(s)?s:null}const q1=()=>{const e=r=>qc(sa,(s,i,o)=>(s[o]=qc(i,r,{}),s),{});$1=e((r,s,i)=>(s[3]&&(r[s[3]]=i),s[2]&&s[2].filter(l=>typeof l=="number").forEach(l=>{r[l.toString(16)]=i}),r)),U1=e((r,s,i)=>(r[i]=i,s[2]&&s[2].filter(l=>typeof l=="string").forEach(l=>{r[l]=i}),r)),B1=e((r,s,i)=>{const o=s[2];return r[i]=i,o.forEach(l=>{r[l]=i}),r});const t="far"in sa||Y.autoFetchSvg,n=qc(yC,(r,s)=>{const i=s[0];let o=s[1];const l=s[2];return o==="far"&&!t&&(o="fas"),typeof i=="string"&&(r.names[i]={prefix:o,iconName:l}),typeof i=="number"&&(r.unicodes[i.toString(16)]={prefix:o,iconName:l}),r},{names:{},unicodes:{}});F1=n.names,V1=n.unicodes,dh=Wl(Y.styleDefault,{family:Y.familyDefault})};aC(e=>{dh=Wl(e.styleDefault,{family:Y.familyDefault})});q1();function fh(e,t){return($1[e]||{})[t]}function wC(e,t){return(U1[e]||{})[t]}function Er(e,t){return(B1[e]||{})[t]}function W1(e){return F1[e]||{prefix:null,iconName:null}}function jC(e){const t=V1[e],n=fh("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function sr(){return dh}const H1=()=>({prefix:null,iconName:null,rest:[]});function NC(e){let t=Ze;const n=D1.reduce((r,s)=>(r[s]="".concat(Y.cssPrefix,"-").concat(s),r),{});return _1.forEach(r=>{(e.includes(n[r])||e.some(s=>xC[r].includes(s)))&&(t=r)}),t}function Wl(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Ze}=t,r=J6[n][e];if(n===Bl&&!e)return"fad";const s=h0[n][e]||h0[n][r],i=e in Jt.styles?e:null;return s||i||null}function kC(e){let t=[],n=null;return e.forEach(r=>{const s=bC(Y.cssPrefix,r);s?n=s:r&&t.push(r)}),{iconName:n,rest:t}}function y0(e){return e.sort().filter((t,n,r)=>r.indexOf(t)===n)}function Hl(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const s=gd.concat(U6),i=y0(e.filter(f=>s.includes(f))),o=y0(e.filter(f=>!gd.includes(f))),l=i.filter(f=>(r=f,!S1.includes(f))),[c=null]=l,u=NC(i),d=$($({},kC(o)),{},{prefix:Wl(c,{family:u})});return $($($({},d),EC({values:e,family:u,styles:sa,config:Y,canonical:d,givenPrefix:r})),SC(n,r,d))}function SC(e,t,n){let{prefix:r,iconName:s}=n;if(e||!r||!s)return{prefix:r,iconName:s};const i=t==="fa"?W1(s):{},o=Er(r,s);return s=i.iconName||o||s,r=i.prefix||r,r==="far"&&!sa.far&&sa.fas&&!Y.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}const _C=_1.filter(e=>e!==Ze||e!==Bl),CC=Object.keys(pd).filter(e=>e!==Ze).map(e=>Object.keys(pd[e])).flat();function EC(e){const{values:t,family:n,canonical:r,givenPrefix:s="",styles:i={},config:o={}}=e,l=n===Bl,c=t.includes("fa-duotone")||t.includes("fad"),u=o.familyDefault==="duotone",d=r.prefix==="fad"||r.prefix==="fa-duotone";if(!l&&(c||u||d)&&(r.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab"),!r.prefix&&_C.includes(n)&&(Object.keys(i).find(h=>CC.includes(h))||o.autoFetchSvg)){const h=L6.get(n).defaultShortPrefixId;r.prefix=h,r.iconName=Er(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||s==="fa")&&(r.prefix=sr()||"fas"),r}class PC{constructor(){this.definitions={}}add(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach(i=>{this.definitions[i]=$($({},this.definitions[i]||{}),s[i]),Nd(i,s[i]);const o=lh[Ze][i];o&&Nd(o,s[i]),q1()})}reset(){this.definitions={}}_pullDefinitions(t,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(s=>{const{prefix:i,iconName:o,icon:l}=r[s],c=l[2];t[i]||(t[i]={}),c.length>0&&c.forEach(u=>{typeof u=="string"&&(t[i][u]=l)}),t[i][o]=l}),t}}let x0=[],xs={};const _s={},TC=Object.keys(_s);function AC(e,t){let{mixoutsTo:n}=t;return x0=e,xs={},Object.keys(_s).forEach(r=>{TC.indexOf(r)===-1&&delete _s[r]}),x0.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(i=>{typeof s[i]=="function"&&(n[i]=s[i]),typeof s[i]=="object"&&Object.keys(s[i]).forEach(o=>{n[i]||(n[i]={}),n[i][o]=s[i][o]})}),r.hooks){const i=r.hooks();Object.keys(i).forEach(o=>{xs[o]||(xs[o]=[]),xs[o].push(i[o])})}r.provides&&r.provides(_s)}),n}function kd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return(xs[e]||[]).forEach(o=>{t=o.apply(null,[t,...r])}),t}function Ur(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(xs[e]||[]).forEach(i=>{i.apply(null,n)})}function ir(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return _s[e]?_s[e].apply(null,t):void 0}function Sd(e){e.prefix==="fa"&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||sr();if(t)return t=Er(n,t)||t,p0(Q1.definitions,n,t)||p0(Jt.styles,n,t)}const Q1=new PC,LC=()=>{Y.autoReplaceSvg=!1,Y.observeMutations=!1,Ur("noAuto")},RC={i2svg:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Cn?(Ur("beforeI2svg",e),ir("pseudoElements2svg",e),ir("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;Y.autoReplaceSvg===!1&&(Y.autoReplaceSvg=!0),Y.observeMutations=!0,mC(()=>{OC({autoReplaceSvgRoot:t}),Ur("watch",e)})}},IC={icon:e=>{if(e===null)return null;if(typeof e=="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Er(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){const t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],n=Wl(e[0]);return{prefix:n,iconName:Er(n,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(Y.cssPrefix,"-"))>-1||e.match(Z6))){const t=Hl(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||sr(),iconName:Er(t.prefix,t.iconName)||t.iconName}}if(typeof e=="string"){const t=sr();return{prefix:t,iconName:Er(t,e)||e}}}},Ct={noAuto:LC,config:Y,dom:RC,parse:IC,library:Q1,findIconDefinition:Sd,toHtml:ka},OC=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=be}=e;(Object.keys(Jt.styles).length>0||Y.autoFetchSvg)&&Cn&&Y.autoReplaceSvg&&Ct.dom.i2svg({node:t})};function Ql(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(n=>ka(n))}}),Object.defineProperty(e,"node",{get:function(){if(!Cn)return;const n=be.createElement("div");return n.innerHTML=e.html,n.children}}),e}function MC(e){let{children:t,main:n,mask:r,attributes:s,styles:i,transform:o}=e;if(uh(o)&&n.found&&!r.found){const{width:l,height:c}=n,u={x:l/c/2,y:.5};s.style=ql($($({},i),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function zC(e){let{prefix:t,iconName:n,children:r,attributes:s,symbol:i}=e;const o=i===!0?"".concat(t,"-").concat(Y.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:$($({},s),{},{id:o}),children:r}]}]}function hh(e){const{icons:{main:t,mask:n},prefix:r,iconName:s,transform:i,symbol:o,title:l,maskId:c,titleId:u,extra:d,watchable:f=!1}=e,{width:h,height:m}=n.found?n:t,y=z6.includes(r),w=[Y.replacementClass,s?"".concat(Y.cssPrefix,"-").concat(s):""].filter(j=>d.classes.indexOf(j)===-1).filter(j=>j!==""||!!j).concat(d.classes).join(" ");let v={children:[],attributes:$($({},d.attributes),{},{"data-prefix":r,"data-icon":s,class:w,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(h," ").concat(m)})};const x=y&&!~d.classes.indexOf("fa-fw")?{width:"".concat(h/m*16*.0625,"em")}:{};f&&(v.attributes[$r]=""),l&&(v.children.push({tag:"title",attributes:{id:v.attributes["aria-labelledby"]||"title-".concat(u||ra())},children:[l]}),delete v.attributes.title);const g=$($({},v),{},{prefix:r,iconName:s,main:t,mask:n,maskId:c,transform:i,symbol:o,styles:$($({},x),d.styles)}),{children:p,attributes:N}=n.found&&t.found?ir("generateAbstractMask",g)||{children:[],attributes:{}}:ir("generateAbstractIcon",g)||{children:[],attributes:{}};return g.children=p,g.attributes=N,o?zC(g):MC(g)}function v0(e){const{content:t,width:n,height:r,transform:s,title:i,extra:o,watchable:l=!1}=e,c=$($($({},o.attributes),i?{title:i}:{}),{},{class:o.classes.join(" ")});l&&(c[$r]="");const u=$({},o.styles);uh(s)&&(u.transform=dC({transform:s,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);const d=ql(u);d.length>0&&(c.style=d);const f=[];return f.push({tag:"span",attributes:c,children:[t]}),i&&f.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),f}function DC(e){const{content:t,title:n,extra:r}=e,s=$($($({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),i=ql(r.styles);i.length>0&&(s.style=i);const o=[];return o.push({tag:"span",attributes:s,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}const{styles:Wc}=Jt;function _d(e){const t=e[0],n=e[1],[r]=e.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(Y.cssPrefix,"-").concat(Vc.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Y.cssPrefix,"-").concat(Vc.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Y.cssPrefix,"-").concat(Vc.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:s}}const $C={found:!1,width:512,height:512};function UC(e,t){!T1&&!Y.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function Cd(e,t){let n=t;return t==="fa"&&Y.styleDefault!==null&&(t=sr()),new Promise((r,s)=>{if(n==="fa"){const i=W1(e)||{};e=i.iconName||e,t=i.prefix||t}if(e&&t&&Wc[t]&&Wc[t][e]){const i=Wc[t][e];return r(_d(i))}UC(e,t),r($($({},$C),{},{icon:Y.showMissingIcons&&e?ir("missingIconAbstract")||{}:{}}))})}const b0=()=>{},Ed=Y.measurePerformance&&eo&&eo.mark&&eo.measure?eo:{mark:b0,measure:b0},fi='FA "6.7.2"',FC=e=>(Ed.mark("".concat(fi," ").concat(e," begins")),()=>G1(e)),G1=e=>{Ed.mark("".concat(fi," ").concat(e," ends")),Ed.measure("".concat(fi," ").concat(e),"".concat(fi," ").concat(e," begins"),"".concat(fi," ").concat(e," ends"))};var mh={begin:FC,end:G1};const vo=()=>{};function w0(e){return typeof(e.getAttribute?e.getAttribute($r):null)=="string"}function VC(e){const t=e.getAttribute?e.getAttribute(ah):null,n=e.getAttribute?e.getAttribute(oh):null;return t&&n}function BC(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(Y.replacementClass)}function qC(){return Y.autoReplaceSvg===!0?bo.replace:bo[Y.autoReplaceSvg]||bo.replace}function WC(e){return be.createElementNS("http://www.w3.org/2000/svg",e)}function HC(e){return be.createElement(e)}function K1(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=e.tag==="svg"?WC:HC}=t;if(typeof e=="string")return be.createTextNode(e);const r=n(e.tag);return Object.keys(e.attributes||[]).forEach(function(i){r.setAttribute(i,e.attributes[i])}),(e.children||[]).forEach(function(i){r.appendChild(K1(i,{ceFn:n}))}),r}function QC(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const bo={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(n=>{t.parentNode.insertBefore(K1(n),t)}),t.getAttribute($r)===null&&Y.keepOriginalSource){let n=be.createComment(QC(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~ch(t).indexOf(Y.replacementClass))return bo.replace(e);const r=new RegExp("".concat(Y.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const i=n[0].attributes.class.split(" ").reduce((o,l)=>(l===Y.replacementClass||l.match(r)?o.toSvg.push(l):o.toNode.push(l),o),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}const s=n.map(i=>ka(i)).join(`
`);t.setAttribute($r,""),t.innerHTML=s}};function j0(e){e()}function Y1(e,t){const n=typeof t=="function"?t:vo;if(e.length===0)n();else{let r=j0;Y.mutateApproach===Y6&&(r=rr.requestAnimationFrame||j0),r(()=>{const s=qC(),i=mh.begin("mutate");e.map(s),i(),n()})}}let ph=!1;function X1(){ph=!0}function Pd(){ph=!1}let il=null;function N0(e){if(!c0||!Y.observeMutations)return;const{treeCallback:t=vo,nodeCallback:n=vo,pseudoElementsCallback:r=vo,observeMutationsRoot:s=be}=e;il=new c0(i=>{if(ph)return;const o=sr();Hs(i).forEach(l=>{if(l.type==="childList"&&l.addedNodes.length>0&&!w0(l.addedNodes[0])&&(Y.searchPseudoElements&&r(l.target),t(l.target)),l.type==="attributes"&&l.target.parentNode&&Y.searchPseudoElements&&r(l.target.parentNode),l.type==="attributes"&&w0(l.target)&&~nC.indexOf(l.attributeName))if(l.attributeName==="class"&&VC(l.target)){const{prefix:c,iconName:u}=Hl(ch(l.target));l.target.setAttribute(ah,c||o),u&&l.target.setAttribute(oh,u)}else BC(l.target)&&n(l.target)})}),Cn&&il.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function GC(){il&&il.disconnect()}function KC(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce((r,s)=>{const i=s.split(":"),o=i[0],l=i.slice(1);return o&&l.length>0&&(r[o]=l.join(":").trim()),r},{})),n}function YC(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=e.innerText!==void 0?e.innerText.trim():"";let s=Hl(ch(e));return s.prefix||(s.prefix=sr()),t&&n&&(s.prefix=t,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=wC(s.prefix,e.innerText)||fh(s.prefix,jd(e.innerText))),!s.iconName&&Y.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=e.firstChild.data)),s}function XC(e){const t=Hs(e.attributes).reduce((s,i)=>(s.name!=="class"&&s.name!=="style"&&(s[i.name]=i.value),s),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return Y.autoA11y&&(n?t["aria-labelledby"]="".concat(Y.replacementClass,"-title-").concat(r||ra()):(t["aria-hidden"]="true",t.focusable="false")),t}function JC(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Xt,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function k0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:s}=YC(e),i=XC(e),o=kd("parseNodeAttributes",{},e);let l=t.styleParser?KC(e):[];return $({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:Xt,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:i}},o)}const{styles:ZC}=Jt;function J1(e){const t=Y.autoReplaceSvg==="nest"?k0(e,{styleParser:!1}):k0(e);return~t.extra.classes.indexOf(L1)?ir("generateLayersText",e,t):ir("generateSvgReplacementMutation",e,t)}function eE(){return[...I6,...gd]}function S0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Cn)return Promise.resolve();const n=be.documentElement.classList,r=d=>n.add("".concat(f0,"-").concat(d)),s=d=>n.remove("".concat(f0,"-").concat(d)),i=Y.autoFetchSvg?eE():S1.concat(Object.keys(ZC));i.includes("fa")||i.push("fa");const o=[".".concat(L1,":not([").concat($r,"])")].concat(i.map(d=>".".concat(d,":not([").concat($r,"])"))).join(", ");if(o.length===0)return Promise.resolve();let l=[];try{l=Hs(e.querySelectorAll(o))}catch{}if(l.length>0)r("pending"),s("complete");else return Promise.resolve();const c=mh.begin("onTree"),u=l.reduce((d,f)=>{try{const h=J1(f);h&&d.push(h)}catch(h){T1||h.name==="MissingIcon"&&console.error(h)}return d},[]);return new Promise((d,f)=>{Promise.all(u).then(h=>{Y1(h,()=>{r("active"),r("complete"),s("pending"),typeof t=="function"&&t(),c(),d()})}).catch(h=>{c(),f(h)})})}function tE(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;J1(e).then(n=>{n&&Y1([n],t)})}function nE(e){return function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(t||{}).icon?t:Sd(t||{});let{mask:s}=n;return s&&(s=(s||{}).icon?s:Sd(s||{})),e(r,$($({},n),{},{mask:s}))}}const rE=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Xt,symbol:r=!1,mask:s=null,maskId:i=null,title:o=null,titleId:l=null,classes:c=[],attributes:u={},styles:d={}}=t;if(!e)return;const{prefix:f,iconName:h,icon:m}=e;return Ql($({type:"icon"},e),()=>(Ur("beforeDOMElementCreation",{iconDefinition:e,params:t}),Y.autoA11y&&(o?u["aria-labelledby"]="".concat(Y.replacementClass,"-title-").concat(l||ra()):(u["aria-hidden"]="true",u.focusable="false")),hh({icons:{main:_d(m),mask:s?_d(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:f,iconName:h,transform:$($({},Xt),n),symbol:r,title:o,maskId:i,titleId:l,extra:{attributes:u,styles:d,classes:c}})))};var sE={mixout(){return{icon:nE(rE)}},hooks(){return{mutationObserverCallbacks(e){return e.treeCallback=S0,e.nodeCallback=tE,e}}},provides(e){e.i2svg=function(t){const{node:n=be,callback:r=()=>{}}=t;return S0(n,r)},e.generateSvgReplacementMutation=function(t,n){const{iconName:r,title:s,titleId:i,prefix:o,transform:l,symbol:c,mask:u,maskId:d,extra:f}=n;return new Promise((h,m)=>{Promise.all([Cd(r,o),u.iconName?Cd(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(y=>{let[w,v]=y;h([t,hh({icons:{main:w,mask:v},prefix:o,iconName:r,transform:l,symbol:c,maskId:d,title:s,titleId:i,extra:f,watchable:!0})])}).catch(m)})},e.generateAbstractIcon=function(t){let{children:n,attributes:r,main:s,transform:i,styles:o}=t;const l=ql(o);l.length>0&&(r.style=l);let c;return uh(i)&&(c=ir("generateAbstractTransformGrouping",{main:s,transform:i,containerWidth:s.width,iconWidth:s.width})),n.push(c||s.icon),{children:n,attributes:r}}}},iE={mixout(){return{layer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=t;return Ql({type:"layer"},()=>{Ur("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e(s=>{Array.isArray(s)?s.map(i=>{r=r.concat(i.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(Y.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},aE={mixout(){return{counter(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:s={},styles:i={}}=t;return Ql({type:"counter",content:e},()=>(Ur("beforeDOMElementCreation",{content:e,params:t}),DC({content:e.toString(),title:n,extra:{attributes:s,styles:i,classes:["".concat(Y.cssPrefix,"-layers-counter"),...r]}})))}}}},oE={mixout(){return{text(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Xt,title:r=null,classes:s=[],attributes:i={},styles:o={}}=t;return Ql({type:"text",content:e},()=>(Ur("beforeDOMElementCreation",{content:e,params:t}),v0({content:e,transform:$($({},Xt),n),title:r,extra:{attributes:i,styles:o,classes:["".concat(Y.cssPrefix,"-layers-text"),...s]}})))}}},provides(e){e.generateLayersText=function(t,n){const{title:r,transform:s,extra:i}=n;let o=null,l=null;if(N1){const c=parseInt(getComputedStyle(t).fontSize,10),u=t.getBoundingClientRect();o=u.width/c,l=u.height/c}return Y.autoA11y&&!r&&(i.attributes["aria-hidden"]="true"),Promise.resolve([t,v0({content:t.innerHTML,width:o,height:l,transform:s,title:r,extra:i,watchable:!0})])}}};const lE=new RegExp('"',"ug"),_0=[1105920,1112319],C0=$($($($({},{FontAwesome:{normal:"fas",400:"fas"}}),A6),G6),F6),Td=Object.keys(C0).reduce((e,t)=>(e[t.toLowerCase()]=C0[t],e),{}),cE=Object.keys(Td).reduce((e,t)=>{const n=Td[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e},{});function uE(e){const t=e.replace(lE,""),n=gC(t,0),r=n>=_0[0]&&n<=_0[1],s=t.length===2?t[0]===t[1]:!1;return{value:jd(s?t[0]:t),isSecondary:r||s}}function dE(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),s=isNaN(r)?"normal":r;return(Td[n]||{})[s]||cE[n]}function E0(e,t){const n="".concat(K6).concat(t.replace(":","-"));return new Promise((r,s)=>{if(e.getAttribute(n)!==null)return r();const o=Hs(e.children).filter(h=>h.getAttribute(xd)===t)[0],l=rr.getComputedStyle(e,t),c=l.getPropertyValue("font-family"),u=c.match(eC),d=l.getPropertyValue("font-weight"),f=l.getPropertyValue("content");if(o&&!u)return e.removeChild(o),r();if(u&&f!=="none"&&f!==""){const h=l.getPropertyValue("content");let m=dE(c,d);const{value:y,isSecondary:w}=uE(h),v=u[0].startsWith("FontAwesome");let x=fh(m,y),g=x;if(v){const p=jC(y);p.iconName&&p.prefix&&(x=p.iconName,m=p.prefix)}if(x&&!w&&(!o||o.getAttribute(ah)!==m||o.getAttribute(oh)!==g)){e.setAttribute(n,g),o&&e.removeChild(o);const p=JC(),{extra:N}=p;N.attributes[xd]=t,Cd(x,m).then(j=>{const k=hh($($({},p),{},{icons:{main:j,mask:H1()},prefix:m,iconName:g,extra:N,watchable:!0})),E=be.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(E,e.firstChild):e.appendChild(E),E.outerHTML=k.map(P=>ka(P)).join(`
`),e.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function fE(e){return Promise.all([E0(e,"::before"),E0(e,"::after")])}function hE(e){return e.parentNode!==document.head&&!~X6.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(xd)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function P0(e){if(Cn)return new Promise((t,n)=>{const r=Hs(e.querySelectorAll("*")).filter(hE).map(fE),s=mh.begin("searchPseudoElements");X1(),Promise.all(r).then(()=>{s(),Pd(),t()}).catch(()=>{s(),Pd(),n()})})}var mE={hooks(){return{mutationObserverCallbacks(e){return e.pseudoElementsCallback=P0,e}}},provides(e){e.pseudoElements2svg=function(t){const{node:n=be}=t;Y.searchPseudoElements&&P0(n)}}};let T0=!1;var pE={mixout(){return{dom:{unwatch(){X1(),T0=!0}}}},hooks(){return{bootstrap(){N0(kd("mutationObserverCallbacks",{}))},noAuto(){GC()},watch(e){const{observeMutationsRoot:t}=e;T0?Pd():N0(kd("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const A0=e=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce((n,r)=>{const s=r.toLowerCase().split("-"),i=s[0];let o=s.slice(1).join("-");if(i&&o==="h")return n.flipX=!0,n;if(i&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(i){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},t)};var gE={mixout(){return{parse:{transform:e=>A0(e)}}},hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=A0(n)),e}}},provides(e){e.generateAbstractTransformGrouping=function(t){let{main:n,transform:r,containerWidth:s,iconWidth:i}=t;const o={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(r.x*32,", ").concat(r.y*32,") "),c="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),d={transform:"".concat(l," ").concat(c," ").concat(u)},f={transform:"translate(".concat(i/2*-1," -256)")},h={outer:o,inner:d,path:f};return{tag:"g",attributes:$({},h.outer),children:[{tag:"g",attributes:$({},h.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:$($({},n.icon.attributes),h.path)}]}]}}}};const Hc={x:0,y:0,width:"100%",height:"100%"};function L0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function yE(e){return e.tag==="g"?e.children:[e]}var xE={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?Hl(n.split(" ").map(s=>s.trim())):H1();return r.prefix||(r.prefix=sr()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides(e){e.generateAbstractMask=function(t){let{children:n,attributes:r,main:s,mask:i,maskId:o,transform:l}=t;const{width:c,icon:u}=s,{width:d,icon:f}=i,h=uC({transform:l,containerWidth:d,iconWidth:c}),m={tag:"rect",attributes:$($({},Hc),{},{fill:"white"})},y=u.children?{children:u.children.map(L0)}:{},w={tag:"g",attributes:$({},h.inner),children:[L0($({tag:u.tag,attributes:$($({},u.attributes),h.path)},y))]},v={tag:"g",attributes:$({},h.outer),children:[w]},x="mask-".concat(o||ra()),g="clip-".concat(o||ra()),p={tag:"mask",attributes:$($({},Hc),{},{id:x,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[m,v]},N={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:yE(f)},p]};return n.push(N,{tag:"rect",attributes:$({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(x,")")},Hc)}),{children:n,attributes:r}}}},vE={provides(e){let t=!1;rr.matchMedia&&(t=rr.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:$($({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const i=$($({},s),{},{attributeName:"opacity"}),o={tag:"circle",attributes:$($({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:$($({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:$($({},i),{},{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:$($({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:$($({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||n.push({tag:"path",attributes:$($({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:$($({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},bE={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return e.symbol=r,e}}}},wE=[hC,sE,iE,aE,oE,mE,pE,gE,xE,vE,bE];AC(wE,{mixoutsTo:Ct});Ct.noAuto;Ct.config;Ct.library;Ct.dom;const Ad=Ct.parse;Ct.findIconDefinition;Ct.toHtml;const jE=Ct.icon;Ct.layer;Ct.text;Ct.counter;var Z1={exports:{}},NE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kE=NE,SE=kE;function eb(){}function tb(){}tb.resetWarningCache=eb;var _E=function(){function e(r,s,i,o,l,c){if(c!==SE){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:tb,resetWarningCache:eb};return n.PropTypes=n,n};Z1.exports=_E();var CE=Z1.exports;const re=U0(CE);function R0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R0(Object(n),!0).forEach(function(r){vs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function vs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EE(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function PE(e,t){if(e==null)return{};var n=EE(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ld(e){return TE(e)||AE(e)||LE(e)||RE()}function TE(e){if(Array.isArray(e))return Rd(e)}function AE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LE(e,t){if(e){if(typeof e=="string")return Rd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rd(e,t)}}function Rd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IE(e){var t,n=e.beat,r=e.fade,s=e.beatFade,i=e.bounce,o=e.shake,l=e.flash,c=e.spin,u=e.spinPulse,d=e.spinReverse,f=e.pulse,h=e.fixedWidth,m=e.inverse,y=e.border,w=e.listItem,v=e.flip,x=e.size,g=e.rotation,p=e.pull,N=(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":i,"fa-shake":o,"fa-flash":l,"fa-spin":c,"fa-spin-reverse":d,"fa-spin-pulse":u,"fa-pulse":f,"fa-fw":h,"fa-inverse":m,"fa-border":y,"fa-li":w,"fa-flip":v===!0,"fa-flip-horizontal":v==="horizontal"||v==="both","fa-flip-vertical":v==="vertical"||v==="both"},vs(t,"fa-".concat(x),typeof x<"u"&&x!==null),vs(t,"fa-rotate-".concat(g),typeof g<"u"&&g!==null&&g!==0),vs(t,"fa-pull-".concat(p),typeof p<"u"&&p!==null),vs(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(N).map(function(j){return N[j]?j:null}).filter(function(j){return j})}function OE(e){return e=e-0,e===e}function nb(e){return OE(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(t,n){return n?n.toUpperCase():""}),e.substr(0,1).toLowerCase()+e.substr(1))}var ME=["style"];function zE(e){return e.charAt(0).toUpperCase()+e.slice(1)}function DE(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var r=n.indexOf(":"),s=nb(n.slice(0,r)),i=n.slice(r+1).trim();return s.startsWith("webkit")?t[zE(s)]=i:t[s]=i,t},{})}function rb(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(c){return rb(e,c)}),s=Object.keys(t.attributes||{}).reduce(function(c,u){var d=t.attributes[u];switch(u){case"class":c.attrs.className=d,delete t.attributes.class;break;case"style":c.attrs.style=DE(d);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?c.attrs[u.toLowerCase()]=d:c.attrs[nb(u)]=d}return c},{attrs:{}}),i=n.style,o=i===void 0?{}:i,l=PE(n,ME);return s.attrs.style=Gt(Gt({},s.attrs.style),o),e.apply(void 0,[t.tag,Gt(Gt({},s.attrs),l)].concat(Ld(r)))}var sb=!1;try{sb=!0}catch{}function $E(){if(!sb&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function I0(e){if(e&&al(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(Ad.icon)return Ad.icon(e);if(e===null)return null;if(e&&al(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}function Qc(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?vs({},e,t):{}}var O0={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},W=nn.forwardRef(function(e,t){var n=Gt(Gt({},O0),e),r=n.icon,s=n.mask,i=n.symbol,o=n.className,l=n.title,c=n.titleId,u=n.maskId,d=I0(r),f=Qc("classes",[].concat(Ld(IE(n)),Ld((o||"").split(" ")))),h=Qc("transform",typeof n.transform=="string"?Ad.transform(n.transform):n.transform),m=Qc("mask",I0(s)),y=jE(d,Gt(Gt(Gt(Gt({},f),h),m),{},{symbol:i,title:l,titleId:c,maskId:u}));if(!y)return $E("Could not find icon",d),null;var w=y.abstract,v={ref:t};return Object.keys(n).forEach(function(x){O0.hasOwnProperty(x)||(v[x]=n[x])}),UE(w[0],v)});W.displayName="FontAwesomeIcon";W.propTypes={beat:re.bool,border:re.bool,beatFade:re.bool,bounce:re.bool,className:re.string,fade:re.bool,flash:re.bool,mask:re.oneOfType([re.object,re.array,re.string]),maskId:re.string,fixedWidth:re.bool,inverse:re.bool,flip:re.oneOf([!0,!1,"horizontal","vertical","both"]),icon:re.oneOfType([re.object,re.array,re.string]),listItem:re.bool,pull:re.oneOf(["right","left"]),pulse:re.bool,rotation:re.oneOf([0,90,180,270]),shake:re.bool,size:re.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:re.bool,spinPulse:re.bool,spinReverse:re.bool,symbol:re.oneOfType([re.bool,re.string]),title:re.string,titleId:re.string,transform:re.oneOfType([re.string,re.object]),swapOpacity:re.bool};var UE=rb.bind(null,nn.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const FE={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM112 256l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},Yt=FE,VE={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"]},Rr=VE,M0={prefix:"fas",iconName:"lock",icon:[448,512,[128274],"f023","M144 144l0 48 160 0 0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192l0-48C80 64.5 144.5 0 224 0s144 64.5 144 144l0 48 16 0c35.3 0 64 28.7 64 64l0 192c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 256c0-35.3 28.7-64 64-64l16 0z"]},BE={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},ia=BE,qE={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M144 0a80 80 0 1 1 0 160A80 80 0 1 1 144 0zM512 0a80 80 0 1 1 0 160A80 80 0 1 1 512 0zM0 298.7C0 239.8 47.8 192 106.7 192l42.7 0c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0L21.3 320C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7l42.7 0C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3l-213.3 0zM224 224a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zM128 485.3C128 411.7 187.7 352 261.3 352l117.3 0C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7l-330.7 0c-14.7 0-26.7-11.9-26.7-26.7z"]},WE={prefix:"fas",iconName:"folder",icon:[512,512,[128193,128447,61716,"folder-blank"],"f07b","M64 480H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H288c-10.1 0-19.6-4.7-25.6-12.8L243.2 57.6C231.1 41.5 212.1 32 192 32H64C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64z"]},ib={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},HE={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},QE={prefix:"fas",iconName:"unlock",icon:[448,512,[128275],"f09c","M144 144c0-44.2 35.8-80 80-80c31.9 0 59.4 18.6 72.3 45.7c7.6 16 26.7 22.8 42.6 15.2s22.8-26.7 15.2-42.6C331 33.7 281.5 0 224 0C144.5 0 80 64.5 80 144l0 48-16 0c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-192c0-35.3-28.7-64-64-64l-240 0 0-48z"]},GE={prefix:"fas",iconName:"chart-line",icon:[512,512,["line-chart"],"f201","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L240 221.3l57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"]},Gc={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},ab={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},ol={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},KE={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},YE=KE,XE={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},JE={prefix:"fas",iconName:"flask",icon:[448,512,[],"f0c3","M288 0L160 0 128 0C110.3 0 96 14.3 96 32s14.3 32 32 32l0 132.8c0 11.8-3.3 23.5-9.5 33.5L10.3 406.2C3.6 417.2 0 429.7 0 442.6C0 480.9 31.1 512 69.4 512l309.2 0c38.3 0 69.4-31.1 69.4-69.4c0-12.8-3.6-25.4-10.3-36.4L329.5 230.4c-6.2-10.1-9.5-21.7-9.5-33.5L320 64c17.7 0 32-14.3 32-32s-14.3-32-32-32L288 0zM192 196.8L192 64l64 0 0 132.8c0 23.7 6.6 46.9 19 67.1L309.5 320l-171 0L173 263.9c12.4-20.2 19-43.4 19-67.1z"]},ZE={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},Sa=ZE,eP={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M288 109.3L288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-242.7-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352l128 0c0 35.3 28.7 64 64 64s64-28.7 64-64l128 0c35.3 0 64 28.7 64 64l0 32c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64l0-32c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"]},Jn={prefix:"fas",iconName:"bell",icon:[448,512,[128276,61602],"f0f3","M224 0c-17.7 0-32 14.3-32 32l0 19.2C119 66 64 130.6 64 208l0 18.8c0 47-17.3 92.4-48.5 127.6l-7.4 8.3c-8.4 9.4-10.4 22.9-5.3 34.4S19.4 416 32 416l384 0c12.6 0 24-7.4 29.2-18.9s3.1-25-5.3-34.4l-7.4-8.3C401.3 319.2 384 273.9 384 226.8l0-18.8c0-77.4-55-142-128-156.8L256 32c0-17.7-14.3-32-32-32zm45.3 493.3c12-12 18.7-28.3 18.7-45.3l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7z"]},z0={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128z"]},tP={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},Sn={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"]},nP={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},ll={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},D0={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},ob={prefix:"fas",iconName:"trophy",icon:[576,512,[127942],"f091","M400 0L176 0c-26.5 0-48.1 21.8-47.1 48.2c.2 5.3 .4 10.6 .7 15.8L24 64C10.7 64 0 74.7 0 88c0 92.6 33.5 157 78.5 200.7c44.3 43.1 98.3 64.8 138.1 75.8c23.4 6.5 39.4 26 39.4 45.6c0 20.9-17 37.9-37.9 37.9L192 448c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-26.1 0C337 448 320 431 320 410.1c0-19.6 15.9-39.2 39.4-45.6c39.9-11 93.9-32.7 138.2-75.8C542.5 245 576 180.6 576 88c0-13.3-10.7-24-24-24L446.4 64c.3-5.2 .5-10.4 .7-15.8C448.1 21.8 426.5 0 400 0zM48.9 112l84.4 0c9.1 90.1 29.2 150.3 51.9 190.6c-24.9-11-50.8-26.5-73.2-48.3c-32-31.1-58-76-63-142.3zM464.1 254.3c-22.4 21.8-48.3 37.3-73.2 48.3c22.7-40.3 42.8-100.5 51.9-190.6l84.4 0c-5.1 66.3-31.1 111.2-63 142.3z"]},_a={prefix:"fas",iconName:"rss",icon:[448,512,["feed"],"f09e","M0 64C0 46.3 14.3 32 32 32c229.8 0 416 186.2 416 416c0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96C14.3 96 0 81.7 0 64zM0 416a64 64 0 1 1 128 0A64 64 0 1 1 0 416zM32 160c159.1 0 288 128.9 288 288c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},ar={prefix:"fas",iconName:"book-open",icon:[576,512,[128214,128366],"f518","M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5l0-377.4c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C93.5 32 46.3 45.3 18.1 56.1C6.8 60.5 0 71.7 0 83.8L0 454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5l0-370.3c0-12.1-6.8-23.3-18.1-27.6C529.7 45.3 482.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11L304 456c0 11.4 11.7 19.3 22.4 15.5z"]},rP={prefix:"fas",iconName:"paper-plane",icon:[512,512,[61913],"f1d8","M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480l0-83.6c0-4 1.5-7.8 4.2-10.8L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"]},sP={prefix:"fas",iconName:"brain",icon:[512,512,[129504],"f5dc","M184 0c30.9 0 56 25.1 56 56l0 400c0 30.9-25.1 56-56 56c-28.9 0-52.7-21.9-55.7-50.1c-5.2 1.4-10.7 2.1-16.3 2.1c-35.3 0-64-28.7-64-64c0-7.4 1.3-14.6 3.6-21.2C21.4 367.4 0 338.2 0 304c0-31.9 18.7-59.5 45.8-72.3C37.1 220.8 32 207 32 192c0-30.7 21.6-56.3 50.4-62.6C80.8 123.9 80 118 80 112c0-29.9 20.6-55.1 48.3-62.1C131.3 21.9 155.1 0 184 0zM328 0c28.9 0 52.6 21.9 55.7 49.9c27.8 7 48.3 32.1 48.3 62.1c0 6-.8 11.9-2.4 17.4c28.8 6.2 50.4 31.9 50.4 62.6c0 15-5.1 28.8-13.8 39.7C493.3 244.5 512 272.1 512 304c0 34.2-21.4 63.4-51.6 74.8c2.3 6.6 3.6 13.8 3.6 21.2c0 35.3-28.7 64-64 64c-5.6 0-11.1-.7-16.3-2.1c-3 28.2-26.8 50.1-55.7 50.1c-30.9 0-56-25.1-56-56l0-400c0-30.9 25.1-56 56-56z"]},iP={prefix:"fas",iconName:"graduation-cap",icon:[640,512,[127891,"mortar-board"],"f19d","M320 32c-8.1 0-16.1 1.4-23.7 4.1L15.8 137.4C6.3 140.9 0 149.9 0 160s6.3 19.1 15.8 22.6l57.9 20.9C57.3 229.3 48 259.8 48 291.9l0 28.1c0 28.4-10.8 57.7-22.3 80.8c-6.5 13-13.9 25.8-22.5 37.6C0 442.7-.9 448.3 .9 453.4s6 8.9 11.2 10.2l64 16c4.2 1.1 8.7 .3 12.4-2s6.3-6.1 7.1-10.4c8.6-42.8 4.3-81.2-2.1-108.7C90.3 344.3 86 329.8 80 316.5l0-24.6c0-30.2 10.2-58.7 27.9-81.5c12.9-15.5 29.6-28 49.2-35.7l157-61.7c8.2-3.2 17.5 .8 20.7 9s-.8 17.5-9 20.7l-157 61.7c-12.4 4.9-23.3 12.4-32.2 21.6l159.6 57.6c7.6 2.7 15.6 4.1 23.7 4.1s16.1-1.4 23.7-4.1L624.2 182.6c9.5-3.4 15.8-12.5 15.8-22.6s-6.3-19.1-15.8-22.6L343.7 36.1C336.1 33.4 328.1 32 320 32zM128 408c0 35.3 86 72 192 72s192-36.7 192-72L496.7 262.6 354.5 314c-11.1 4-22.8 6-34.5 6s-23.5-2-34.5-6L143.3 262.6 128 408z"]},hr=()=>{const{user:e}=et(),[t,n]=b.useState([]),[r,s]=b.useState([]),[i,o]=b.useState([]),[l,c]=b.useState([]),[u,d]=b.useState([]),[f,h]=b.useState(!0),[m,y]=b.useState(!1),w=b.useCallback(async(D=!1)=>{try{h(!0);try{const{data:S,error:C}=await Q.from("papers").select("*").order("created_at",{ascending:!1});if(C)C.code==="42P01"?(console.log("Papers table does not exist, using empty array"),n([])):(console.error("Error fetching papers:",C),n([]));else{const O=(S==null?void 0:S.map(A=>({id:A.id,title:A.title,year:A.year,subject:A.subject,difficulty:A.difficulty,description:A.description,contentUrl:A.content_url,thumbnailUrl:A.thumbnail_url,parameters:A.parameters||{timeLimit:60,passingScore:70,attempts:3,showAnswers:!0,shuffleQuestions:!1},accessLevel:A.access_level,createdAt:new Date(A.created_at),updatedAt:new Date(A.updated_at)})))||[];n(O)}}catch(S){console.error("Error fetching papers:",S),n([])}try{const{data:S,error:C}=await Q.from("quizzes").select("*").order("created_at",{ascending:!1});if(C)C.code==="42P01"?(console.log("Quizzes table does not exist, using empty array"),s([])):(console.error("Error fetching quizzes:",C),s([]));else{const O=(S==null?void 0:S.map(A=>{let M=[];try{A.questions&&(Array.isArray(A.questions)?M=A.questions:typeof A.questions=="string"?M=JSON.parse(A.questions):typeof A.questions=="object"&&(M=Array.isArray(A.questions)?A.questions:[]))}catch(q){console.error("Error parsing questions for quiz:",A.id,q),M=[]}return M=M.map((q,I)=>({id:q.id||`q_${I}`,question:q.question||"",options:Array.isArray(q.options)?q.options:[],correctAnswer:typeof q.correctAnswer=="number"?q.correctAnswer:0,explanation:q.explanation||"",points:typeof q.points=="number"?q.points:1,difficulty:q.difficulty||"medium",imageUrl:q.imageUrl||""})),{id:A.id,paperId:A.paper_id,title:A.title,description:A.description,questions:M,timeLimit:A.time_limit,passingScore:A.passing_score,difficulty:A.difficulty,category:A.category,createdAt:new Date(A.created_at),updatedAt:new Date(A.updated_at)}}))||[];s(O)}}catch(S){console.error("Error fetching quizzes:",S),s([])}try{const{data:S,error:C}=await Q.from("lessons").select("*").order("created_at",{ascending:!1});C?C.code==="42P01"?(console.log("Lessons table does not exist, using empty array"),d([])):(console.error("Error fetching lessons:",C),d([])):d(S||[])}catch(S){console.error("Error fetching lessons:",S),d([])}}catch(S){console.error("Error fetching data:",S)}finally{h(!1),y(!0)}},[]);b.useEffect(()=>{(!m||!t.length||!r.length)&&w()},[w,m]);const v=b.useCallback(async D=>{try{const{data:S,error:C}=await Q.from("notifications").select("*").eq("user_id",D).order("created_at",{ascending:!1});if(C){if(C.code==="42P01"){console.log("useData - Notifications table does not exist, using empty array"),c([]);return}console.error("Error fetching notifications:",C),c([]);return}const O=(S==null?void 0:S.map(A=>({id:A.id,userId:A.user_id,type:A.type,title:A.title,message:A.message,data:A.data,priority:A.priority,readStatus:A.read_status,createdAt:new Date(A.created_at)})))||[];c(O)}catch(S){console.error("Error fetching notifications:",S),c([]),c([])}},[]);return{papers:t,quizzes:r,attempts:i,notifications:l,lessons:u,loading:f,fetchData:w,fetchUserNotifications:v,addPaper:async(D,S)=>{try{const{error:C}=await Q.from("papers").select("id").limit(1);if(C&&C.code==="42P01")return _.error("Database not properly configured. Please contact administrator."),{data:null,error:C};const{data:O,error:A}=await Q.from("papers").insert({title:D.title,year:D.year,subject:D.subject,difficulty:D.difficulty,description:D.description,content_url:D.contentUrl,thumbnail_url:D.thumbnailUrl,access_level:D.accessLevel,parameters:D.parameters,created_by:S}).select().single();if(A)return console.error("Error creating paper:",A),_.error(`Failed to create paper: ${A.message}`),{data:null,error:A};if(D.questions.length>0){const M=D.questions.map((B,F)=>({id:`q_${Date.now()}_${F}`,question:B.question,options:B.options,correctAnswer:B.correctAnswer,explanation:B.explanation||"",points:B.points,difficulty:B.difficulty,imageUrl:B.imageUrl||""})),{data:q,error:I}=await Q.from("quizzes").insert({paper_id:O.id,title:`${D.title} Quiz`,description:`Quiz for ${D.title}`,category:D.subject,difficulty:D.difficulty,time_limit:D.parameters.timeLimit,passing_score:D.parameters.passingScore,questions:M,created_by:S}).select().single();if(I)return console.error("Error creating quiz:",I),await Q.from("papers").delete().eq("id",O.id),_.error(`Failed to create quiz: ${I.message}`),{data:null,error:I}}return _.success("Paper created successfully!"),y(!1),{data:O,error:null}}catch(C){return console.error("Error adding paper:",C),_.error("Failed to create paper"),{data:null,error:C}}},addQuiz:async(D,S)=>{try{const{error:C}=await Q.from("quizzes").select("id").limit(1);if(C&&C.code==="42P01")return _.error("Database not properly configured. Please contact administrator."),{data:null,error:C};const O=D.questions.map((q,I)=>({id:`q_${Date.now()}_${I}`,question:q.question,options:q.options,correctAnswer:q.correctAnswer,explanation:q.explanation||"",points:q.points,difficulty:q.difficulty,imageUrl:q.imageUrl||""})),{data:A,error:M}=await Q.from("quizzes").insert({title:D.title,description:D.description,category:D.category,difficulty:D.difficulty,time_limit:D.timeLimit,passing_score:D.passingScore,paper_id:D.paperId||null,questions:O,created_by:S}).select().single();return M?(console.error("Error creating quiz:",M),_.error(`Failed to create quiz: ${M.message}`),{data:null,error:M}):(_.success("Quiz created successfully!"),y(!1),{data:A,error:null})}catch(C){return console.error("Error creating quiz:",C),_.error("Failed to create quiz"),{data:null,error:C}}},updateQuiz:async(D,S)=>{try{const C=S.map((A,M)=>({id:A.id||`q_${Date.now()}_${M}`,question:A.question,options:A.options,correctAnswer:A.correctAnswer,explanation:A.explanation||"",points:A.points,difficulty:A.difficulty,imageUrl:A.imageUrl||""})),{error:O}=await Q.from("quizzes").update({questions:C,updated_at:new Date().toISOString()}).eq("id",D);return O?(console.error("Error updating quiz:",O),_.error(`Failed to update quiz: ${O.message}`),{error:O}):(_.success("Quiz updated successfully!"),y(!1),w(!0),{error:null})}catch(C){return console.error("Error updating quiz:",C),_.error("Failed to update quiz"),{error:C}}},addLesson:async D=>{try{if(!(e!=null&&e.id))return _.error("User not authenticated"),{data:null,error:new Error("User not authenticated")};const{error:S}=await Q.from("lessons").select("id").limit(1);if(S&&S.code==="42P01")return _.error("Database not properly configured. Please contact administrator."),{data:null,error:S};const{data:C,error:O}=await Q.from("lessons").insert({title:D.title,description:D.description,youtube_url:D.youtubeUrl,thumbnail_url:D.thumbnailUrl,category:D.category,duration:D.duration||"0:00",created_by:e.id}).select().single();return O?(console.error("Error adding lesson:",O),_.error(`Failed to add lesson: ${O.message}`),{data:null,error:O}):(_.success("Lesson added successfully!"),y(!1),{data:C,error:null})}catch(S){return console.error("Error adding lesson:",S),_.error("Failed to add lesson"),{data:null,error:S}}},deleteLesson:async D=>{try{const{error:S}=await Q.from("lessons").delete().eq("id",D);return S?(console.error("Error deleting lesson:",S),_.error(`Failed to delete lesson: ${S.message}`),{error:S}):(_.success("Lesson deleted successfully!"),y(!1),{error:null})}catch(S){return console.error("Error deleting lesson:",S),_.error("Failed to delete lesson"),{error:S}}},sendBroadcastNotification:async D=>{try{const{error:S}=await Q.from("notifications").select("id").limit(1);if(S&&S.code==="42P01")return _.error("Notifications feature not available. Database configuration required."),{error:S};const{data:C,error:O}=await Q.from("users").select("id");if(O)return console.error("Error fetching users:",O),_.error("Failed to send broadcast notification"),{error:O};const A=C.map(q=>({user_id:q.id,type:"broadcast",title:D.title,message:D.message,priority:D.priority,data:{icon:D.icon||"star"},read_status:!1})),{error:M}=await Q.from("notifications").insert(A);return M?(console.error("Error sending broadcast:",M),_.error(`Failed to send broadcast: ${M.message}`),{error:M}):(_.success("Broadcast notification sent successfully!"),{error:null})}catch(S){return console.error("Error sending broadcast notification:",S),_.error("Failed to send broadcast notification"),{error:S}}},updateUserRole:async(D,S)=>{try{const{error:C}=await Q.from("users").update({role:S}).eq("id",D);return C?(console.error("Error updating user role:",C),_.error(`Failed to update user role: ${C.message}`),{error:C}):(_.success(`User role updated to ${S}`),{error:null})}catch(C){return console.error("Error updating user role:",C),_.error("Failed to update user role"),{error:C}}},deletePaper:async D=>{try{const{error:S}=await Q.from("quizzes").delete().eq("paper_id",D);S&&console.error("Error deleting associated quizzes:",S);const{error:C}=await Q.from("papers").delete().eq("id",D);return C?(console.error("Error deleting paper:",C),_.error(`Failed to delete paper: ${C.message}`),{error:C}):(_.success("Paper deleted successfully!"),y(!1),{error:null})}catch(S){return console.error("Error deleting paper:",S),_.error("Failed to delete paper"),{error:S}}},deleteQuiz:async D=>{try{const{error:S}=await Q.from("quizzes").delete().eq("id",D);return S?(console.error("Error deleting quiz:",S),_.error(`Failed to delete quiz: ${S.message}`),{error:S}):(_.success("Quiz deleted successfully!"),y(!1),{error:null})}catch(S){return console.error("Error deleting quiz:",S),_.error("Failed to delete quiz"),{error:S}}},markNotificationRead:async D=>{try{const{error:S}=await Q.from("notifications").update({read_status:!0}).eq("id",D);if(S){console.error("Error marking notification as read:",S);return}c(C=>C.map(O=>O.id===D?{...O,readStatus:!0}:O))}catch(S){console.error("Error marking notification as read:",S)}}}},Ue=({children:e,className:t="",hover:n=!1,onClick:r})=>{const s="bg-white rounded-xl shadow-lg border border-gray-100",i=n?"hover:shadow-xl hover:-translate-y-1 cursor-pointer":"";return a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:n?{y:-4,scale:1.02}:void 0,className:`${s} ${i} transition-all duration-300 ${t}`,onClick:r,children:e})},Ne=({children:e,variant:t="gray",size:n="md",className:r=""})=>{const s="inline-flex items-center font-medium rounded-full",i={primary:"bg-primary-100 text-primary-800",secondary:"bg-secondary-100 text-secondary-800",success:"bg-success-100 text-success-800",warning:"bg-warning-100 text-warning-800",error:"bg-error-100 text-error-800",gray:"bg-gray-100 text-gray-800"},o={sm:"px-2 py-1 text-xs",md:"px-2.5 py-1 text-sm"};return a.jsx("span",{className:`${s} ${i[t]} ${o[n]} ${r}`,children:e})},aP=({onClose:e})=>{const{addPaper:t}=hr(),{user:n}=et(),[r,s]=b.useState(!1),[i,o]=b.useState(0),[l,c]=b.useState(!1),[u,d]=b.useState(!0),f=b.useRef(null),[h,m]=b.useState({title:"",year:new Date().getFullYear(),subject:"",difficulty:"medium",description:"",accessLevel:"free",timeLimit:60,passingScore:70,attempts:3,showAnswers:!0,shuffleQuestions:!1}),[y,w]=b.useState([]),[v,x]=b.useState({id:"",question:"",options:["","","","",""],correctAnswer:0,explanation:"",points:1,difficulty:"medium",imageUrl:""}),g=["SFT","ET","ICT"],p=[{title:"Paper Details",description:"Basic information about the paper"},{title:"Add Questions",description:"Create questions for your paper"},{title:"Review & Save",description:"Review and save your paper"}];nn.useEffect(()=>{N()},[]);const N=async()=>{try{const{data:S,error:C}=await Q.storage.listBuckets();(C||!(S!=null&&S.find(O=>O.name==="question-images")))&&(d(!1),console.warn("Storage bucket not available, image upload disabled"))}catch{d(!1),console.warn("Storage not available, image upload disabled")}},j=async S=>{try{if(c(!0),!u)return _.error("Image storage not configured. Please use URL input instead."),null;if(!S.type.startsWith("image/"))return _.error("Please select an image file"),null;if(S.size>5*1024*1024)return _.error("Image size must be less than 5MB"),null;const C=S.name.split(".").pop(),O=`${n==null?void 0:n.id}/${Date.now()}-${Math.random().toString(36).substr(2,9)}.${C}`,{error:A}=await Q.storage.from("question-images").upload(O,S,{cacheControl:"3600",upsert:!1});if(A)return console.error("Error uploading image:",A),A.message.includes("Bucket not found")?(d(!1),_.error("Image storage not configured. Please use URL input instead.")):_.error("Failed to upload image. Please use URL input instead."),null;const{data:{publicUrl:M}}=Q.storage.from("question-images").getPublicUrl(O);return _.success("Image uploaded successfully!"),M}catch(C){return console.error("Error uploading image:",C),_.error("Failed to upload image. Please use URL input instead."),null}finally{c(!1)}},k=async S=>{var A;const C=(A=S.target.files)==null?void 0:A[0];if(!C)return;const O=await j(C);O&&x({...v,imageUrl:O}),f.current&&(f.current.value="")},E=()=>{if(!v.question||v.options.some(C=>!C.trim())){_.error("Please fill in all question fields");return}const S={...v,id:Date.now().toString()};w([...y,S]),x({id:"",question:"",options:["","","","",""],correctAnswer:0,explanation:"",points:1,difficulty:"medium",imageUrl:""}),_.success("Question added successfully!")},P=S=>{w(y.filter(C=>C.id!==S)),_.success("Question removed")},R=async()=>{if(n){if(!h.title||!h.subject||!h.description){_.error("Please fill in all required fields");return}if(y.length===0){_.error("Please add at least one question");return}s(!0);try{const S={title:h.title,year:h.year,subject:h.subject,difficulty:h.difficulty,description:h.description,contentUrl:`https://example.com/${h.title.toLowerCase().replace(/\s+/g,"-")}.pdf`,thumbnailUrl:"https://images.pexels.com/photos/256262/pexels-photo-256262.jpeg",accessLevel:h.accessLevel,parameters:{timeLimit:h.timeLimit,passingScore:h.passingScore,attempts:h.attempts,showAnswers:h.showAnswers,shuffleQuestions:h.shuffleQuestions},questions:y.map(O=>({question:O.question,options:O.options,correctAnswer:O.correctAnswer,explanation:O.explanation,points:O.points,difficulty:O.difficulty,imageUrl:O.imageUrl}))};(await t(S,n.id)).error||e()}catch(S){console.error("Error uploading paper:",S),_.error("Failed to upload paper")}finally{s(!1)}}},V=()=>{if(i===0&&(!h.title||!h.subject||!h.description)){_.error("Please fill in all required fields");return}o(Math.min(i+1,p.length-1))},D=()=>{o(Math.max(i-1,0))};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-3",children:a.jsxs(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center",children:a.jsx(y1,{className:"w-4 h-4 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Create New Paper"}),a.jsx("p",{className:"text-xs text-gray-600",children:p[i].description})]})]}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(We,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"mt-4",children:a.jsx("div",{className:"flex items-center justify-between",children:p.map((S,C)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium ${C<=i?"bg-primary-600 text-white":"bg-gray-200 text-gray-600"}`,children:C+1}),a.jsx("div",{className:"ml-2",children:a.jsx("p",{className:`text-xs font-medium ${C<=i?"text-primary-600":"text-gray-600"}`,children:S.title})}),C<p.length-1&&a.jsx("div",{className:`w-12 h-0.5 mx-3 ${C<i?"bg-primary-600":"bg-gray-200"}`})]},C))})})]}),a.jsxs("div",{className:"p-4",children:[i===0&&a.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Paper Title *"}),a.jsx("input",{type:"text",value:h.title,onChange:S=>m({...h,title:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",placeholder:"Enter paper title",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year *"}),a.jsx("input",{type:"number",value:h.year,onChange:S=>m({...h,year:parseInt(S.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",min:"2000",max:"2030",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject *"}),a.jsxs("select",{value:h.subject,onChange:S=>m({...h,subject:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",required:!0,children:[a.jsx("option",{value:"",children:"Select subject"}),g.map(S=>a.jsx("option",{value:S,children:S},S))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty *"}),a.jsxs("select",{value:h.difficulty,onChange:S=>m({...h,difficulty:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",required:!0,children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),a.jsx("textarea",{value:h.description,onChange:S=>m({...h,description:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",rows:3,placeholder:"Describe the paper content and objectives",required:!0})]}),a.jsxs(Ue,{className:"p-3",children:[a.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Paper Parameters"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Limit (minutes)"}),a.jsx("input",{type:"number",value:h.timeLimit,onChange:S=>m({...h,timeLimit:parseInt(S.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",min:"1",max:"300"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Passing Score (%)"}),a.jsx("input",{type:"number",value:h.passingScore,onChange:S=>m({...h,passingScore:parseInt(S.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",min:"1",max:"100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Attempts"}),a.jsx("input",{type:"number",value:h.attempts,onChange:S=>m({...h,attempts:parseInt(S.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",min:"1",max:"10"})]})]}),a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Access Level"}),a.jsxs("select",{value:h.accessLevel,onChange:S=>m({...h,accessLevel:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[a.jsx("option",{value:"free",children:"Free"}),a.jsx("option",{value:"premium",children:"Premium"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:h.showAnswers,onChange:S=>m({...h,showAnswers:S.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Show answers after completion"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:h.shuffleQuestions,onChange:S=>m({...h,shuffleQuestions:S.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Shuffle questions"})]})]})]})]})]},"step1"),i===1&&a.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[a.jsxs(Ue,{className:"p-4",children:[a.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Add Question"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question *"}),a.jsx("textarea",{value:v.question,onChange:S=>x({...v,question:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",rows:2,placeholder:"Enter your question"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Image (Optional)"}),!u&&a.jsx("div",{className:"mb-2 p-2 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsx("p",{className:"text-xs text-yellow-800",children:"Image storage not configured. Please use URL input below."})}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:k,className:"hidden"}),a.jsx(K,{type:"button",variant:"outline",onClick:()=>{var S;return(S=f.current)==null?void 0:S.click()},disabled:l||!u,className:"flex-1",size:"sm",children:l?a.jsxs(a.Fragment,{children:[a.jsx(rh,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(h1,{className:"w-4 h-4 mr-2"}),u?"Upload Image":"Upload Disabled"]})}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"url",value:v.imageUrl||"",onChange:S=>x({...v,imageUrl:S.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",placeholder:"Or paste image URL"})]}),v.imageUrl&&a.jsx("button",{type:"button",onClick:()=>x({...v,imageUrl:""}),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(We,{className:"w-4 h-4"})})]}),v.imageUrl&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:v.imageUrl,alt:"Question preview",className:"max-w-full h-32 object-cover rounded-lg border border-gray-200",onError:S=>{S.currentTarget.src="https://via.placeholder.com/300x200?text=Invalid+Image+URL"}})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Answer Options * (5 options)"}),a.jsx("div",{className:"space-y-2",children:v.options.map((S,C)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",name:"correctAnswer",checked:v.correctAnswer===C,onChange:()=>x({...v,correctAnswer:C}),className:"text-primary-600 focus:ring-primary-500"}),a.jsx("input",{type:"text",value:S,onChange:O=>{const A=[...v.options];A[C]=O.target.value,x({...v,options:A})},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",placeholder:`Option ${C+1}`})]},C))}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the correct answer by clicking the radio button"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Explanation (Optional)"}),a.jsx("textarea",{value:v.explanation,onChange:S=>x({...v,explanation:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",rows:2,placeholder:"Explain why this is the correct answer"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Points"}),a.jsx("input",{type:"number",value:v.points,onChange:S=>x({...v,points:parseInt(S.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",min:"1",max:"10"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty"}),a.jsxs("select",{value:v.difficulty,onChange:S=>x({...v,difficulty:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]})]})]}),a.jsxs(K,{type:"button",onClick:E,className:"w-full",disabled:!v.question||v.options.some(S=>!S.trim()),children:[a.jsx(wa,{className:"w-4 h-4 mr-2"}),"Add Question"]})]})]}),y.length>0&&a.jsxs(Ue,{className:"p-4",children:[a.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:["Questions (",y.length,")"]}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:y.map((S,C)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Q",C+1]}),a.jsx(Ne,{variant:S.difficulty==="hard"?"error":S.difficulty==="medium"?"warning":"success",size:"sm",children:S.difficulty}),a.jsxs(Ne,{variant:"gray",size:"sm",children:[S.points," pts"]}),S.imageUrl&&a.jsxs(Ne,{variant:"primary",size:"sm",children:[a.jsx(na,{className:"w-3 h-3 mr-1"}),"Image"]})]}),a.jsx("p",{className:"text-sm text-gray-700 mb-2 line-clamp-2",children:S.question}),S.imageUrl&&a.jsx("img",{src:S.imageUrl,alt:"Question",className:"w-20 h-12 object-cover rounded border border-gray-200 mb-2"}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Correct: ",S.options[S.correctAnswer]]})]}),a.jsx("button",{onClick:()=>P(S.id),className:"text-red-500 hover:text-red-700 transition-colors ml-2",children:a.jsx(ja,{className:"w-4 h-4"})})]})},S.id))})]})]},"step2"),i===2&&a.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[a.jsxs(Ue,{className:"p-4",children:[a.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Paper Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Basic Information"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Title:"})," ",h.title]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Subject:"})," ",h.subject]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Year:"})," ",h.year]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Difficulty:"})," ",h.difficulty]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Settings"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Time Limit:"})," ",h.timeLimit," minutes"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Passing Score:"})," ",h.passingScore,"%"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Total Questions:"})," ",y.length]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Questions with Images:"})," ",y.filter(S=>S.imageUrl).length]})]})]})]})]}),a.jsxs(Ue,{className:"p-4",children:[a.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Questions Preview"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:y.map((S,C)=>a.jsxs("div",{className:"border-l-4 border-primary-500 pl-3",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsxs("span",{className:"text-sm font-medium",children:["Q",C+1,"."]}),a.jsx(Ne,{variant:S.difficulty==="hard"?"error":S.difficulty==="medium"?"warning":"success",size:"sm",children:S.difficulty}),S.imageUrl&&a.jsxs(Ne,{variant:"primary",size:"sm",children:[a.jsx(na,{className:"w-3 h-3 mr-1"}),"Image"]})]}),a.jsx("p",{className:"text-sm text-gray-700 mb-2 line-clamp-2",children:S.question}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Correct Answer: ",S.options[S.correctAnswer]]})]},S.id))})]})]},"step3")]}),a.jsx("div",{className:"p-4 border-t border-gray-200",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsxs(K,{type:"button",variant:"outline",onClick:D,disabled:i===0,size:"sm",children:[a.jsx(Vl,{className:"w-4 h-4 mr-2"}),"Previous"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(K,{type:"button",variant:"outline",onClick:e,size:"sm",children:"Cancel"}),i<p.length-1?a.jsxs(K,{type:"button",onClick:V,size:"sm",children:["Next",a.jsx(d1,{className:"w-4 h-4 ml-2"})]}):a.jsxs(K,{type:"button",onClick:R,loading:r,disabled:y.length===0,size:"sm",children:[a.jsx(jn,{className:"w-4 h-4 mr-2"}),"Create Paper"]})]})]})})]})})},oP=({onClose:e})=>{const{papers:t,addQuiz:n}=hr(),{user:r}=et(),[s,i]=b.useState(!1),[o,l]=b.useState(0),[c,u]=b.useState({title:"",description:"",paperId:"",timeLimit:30,passingScore:70,difficulty:"medium",category:""}),[d,f]=b.useState([]),[h,m]=b.useState({id:"",question:"",options:["","","",""],correctAnswer:0,explanation:"",points:1,difficulty:"medium"}),y=["SFT","ET","ICT"],w=[{title:"Quiz Details",description:"Basic information about the quiz"},{title:"Add Questions",description:"Create questions for your quiz"},{title:"Review & Save",description:"Review and save your quiz"}],v=()=>{if(!h.question||h.options.some(k=>!k.trim())){_.error("Please fill in all question fields");return}const j={...h,id:Date.now().toString()};f([...d,j]),m({id:"",question:"",options:["","","",""],correctAnswer:0,explanation:"",points:1,difficulty:"medium"}),_.success("Question added successfully!")},x=j=>{f(d.filter(k=>k.id!==j)),_.success("Question removed")},g=async()=>{if(!c.title||!c.description||!c.category){_.error("Please fill in all quiz details");return}if(d.length===0){_.error("Please add at least one question");return}if(!r){_.error("User not authenticated");return}i(!0);try{(await n({title:c.title,description:c.description,category:c.category,difficulty:c.difficulty,timeLimit:c.timeLimit,passingScore:c.passingScore,paperId:c.paperId||void 0,questions:d.map(k=>({question:k.question,options:k.options,correctAnswer:k.correctAnswer,explanation:k.explanation,points:k.points,difficulty:k.difficulty}))},r.id)).error||e()}catch(j){console.error("Error creating quiz:",j),_.error("Failed to create quiz")}finally{i(!1)}},p=()=>{if(o===0&&(!c.title||!c.description||!c.category)){_.error("Please fill in all required fields");return}l(Math.min(o+1,w.length-1))},N=()=>{l(Math.max(o-1,0))};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-accent-100 rounded-lg flex items-center justify-center",children:a.jsx(f1,{className:"w-5 h-5 text-accent-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Quiz"}),a.jsx("p",{className:"text-sm text-gray-600",children:w[o].description})]})]}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(We,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"mt-6",children:a.jsx("div",{className:"flex items-center justify-between",children:w.map((j,k)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${k<=o?"bg-primary-600 text-white":"bg-gray-200 text-gray-600"}`,children:k+1}),a.jsx("div",{className:"ml-2",children:a.jsx("p",{className:`text-sm font-medium ${k<=o?"text-primary-600":"text-gray-600"}`,children:j.title})}),k<w.length-1&&a.jsx("div",{className:`w-16 h-0.5 mx-4 ${k<o?"bg-primary-600":"bg-gray-200"}`})]},k))})})]}),a.jsx("div",{className:"p-6",children:a.jsxs(Fe,{mode:"wait",children:[o===0&&a.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quiz Title *"}),a.jsx("input",{type:"text",value:c.title,onChange:j=>u({...c,title:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter quiz title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),a.jsxs("select",{value:c.category,onChange:j=>u({...c,category:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select category"}),y.map(j=>a.jsx("option",{value:j,children:j},j))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),a.jsx("textarea",{value:c.description,onChange:j=>u({...c,description:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3,placeholder:"Describe what this quiz covers"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Limit (minutes)"}),a.jsx("input",{type:"number",value:c.timeLimit,onChange:j=>u({...c,timeLimit:parseInt(j.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",min:"1",max:"180"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Passing Score (%)"}),a.jsx("input",{type:"number",value:c.passingScore,onChange:j=>u({...c,passingScore:parseInt(j.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",min:"1",max:"100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),a.jsxs("select",{value:c.difficulty,onChange:j=>u({...c,difficulty:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Link to Paper (Optional)"}),a.jsxs("select",{value:c.paperId,onChange:j=>u({...c,paperId:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"No linked paper"}),t.map(j=>a.jsxs("option",{value:j.id,children:[j.title," (",j.year,")"]},j.id))]})]})]},"step1"),o===1&&a.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[a.jsxs(Ue,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Question"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question *"}),a.jsx("textarea",{value:h.question,onChange:j=>m({...h,question:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:2,placeholder:"Enter your question"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Answer Options *"}),a.jsx("div",{className:"space-y-2",children:h.options.map((j,k)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",name:"correctAnswer",checked:h.correctAnswer===k,onChange:()=>m({...h,correctAnswer:k}),className:"text-primary-600 focus:ring-primary-500"}),a.jsx("input",{type:"text",value:j,onChange:E=>{const P=[...h.options];P[k]=E.target.value,m({...h,options:P})},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:`Option ${k+1}`})]},k))}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the correct answer by clicking the radio button"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Explanation (Optional)"}),a.jsx("textarea",{value:h.explanation,onChange:j=>m({...h,explanation:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:2,placeholder:"Explain why this is the correct answer"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Points"}),a.jsx("input",{type:"number",value:h.points,onChange:j=>m({...h,points:parseInt(j.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",min:"1",max:"10"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),a.jsxs("select",{value:h.difficulty,onChange:j=>m({...h,difficulty:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]})]})]}),a.jsxs(K,{type:"button",onClick:v,className:"w-full",disabled:!h.question||h.options.some(j=>!j.trim()),children:[a.jsx(wa,{className:"w-4 h-4 mr-2"}),"Add Question"]})]})]}),d.length>0&&a.jsxs(Ue,{className:"p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Questions (",d.length,")"]}),a.jsx("div",{className:"space-y-4",children:d.map((j,k)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Question ",k+1]}),a.jsx(Ne,{variant:j.difficulty==="hard"?"error":j.difficulty==="medium"?"warning":"success",size:"sm",children:j.difficulty}),a.jsxs(Ne,{variant:"gray",size:"sm",children:[j.points," pts"]})]}),a.jsx("p",{className:"text-sm text-gray-700 mb-2",children:j.question}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Correct Answer: ",j.options[j.correctAnswer]]})]}),a.jsx("button",{onClick:()=>x(j.id),className:"text-red-500 hover:text-red-700 transition-colors",children:a.jsx(ja,{className:"w-4 h-4"})})]})},j.id))})]})]},"step2"),o===2&&a.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[a.jsxs(Ue,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quiz Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Basic Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Title:"})," ",c.title]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Category:"})," ",c.category]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Difficulty:"})," ",c.difficulty]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Description:"})," ",c.description]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Settings"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Time Limit:"})," ",c.timeLimit," minutes"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Passing Score:"})," ",c.passingScore,"%"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Total Questions:"})," ",d.length]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Total Points:"})," ",d.reduce((j,k)=>j+k.points,0)]})]})]})]})]}),a.jsxs(Ue,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Questions Preview"}),a.jsx("div",{className:"space-y-4",children:d.map((j,k)=>a.jsxs("div",{className:"border-l-4 border-primary-500 pl-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsxs("span",{className:"text-sm font-medium",children:["Q",k+1,"."]}),a.jsx(Ne,{variant:j.difficulty==="hard"?"error":j.difficulty==="medium"?"warning":"success",size:"sm",children:j.difficulty})]}),a.jsx("p",{className:"text-sm text-gray-700 mb-2",children:j.question}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Correct Answer: ",j.options[j.correctAnswer]]})]},j.id))})]})]},"step3")]})}),a.jsx("div",{className:"p-6 border-t border-gray-200",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsxs(K,{type:"button",variant:"outline",onClick:N,disabled:o===0,children:[a.jsx(Vl,{className:"w-4 h-4 mr-2"}),"Previous"]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(K,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),o<w.length-1?a.jsxs(K,{type:"button",onClick:p,children:["Next",a.jsx(d1,{className:"w-4 h-4 ml-2"})]}):a.jsxs(K,{type:"button",onClick:g,loading:s,disabled:d.length===0,children:[a.jsx(jn,{className:"w-4 h-4 mr-2"}),"Create Quiz"]})]})]})})]})})},lP=({quiz:e,onClose:t,onSave:n})=>{const{user:r}=et(),[s,i]=b.useState(!1),[o,l]=b.useState(!1),[c,u]=b.useState(!0),d=b.useRef(null),[f,h]=b.useState({...e,questions:[...e.questions]}),[m,y]=b.useState({id:"",question:"",options:["","","","",""],correctAnswer:0,explanation:"",points:1,difficulty:"medium",imageUrl:""});nn.useEffect(()=>{w()},[]);const w=async()=>{try{const{data:j,error:k}=await Q.storage.listBuckets();(k||!(j!=null&&j.find(E=>E.name==="question-images")))&&(u(!1),console.warn("Storage bucket not available, image upload disabled"))}catch{u(!1),console.warn("Storage not available, image upload disabled")}},v=async j=>{try{if(l(!0),!c)return _.error("Image storage not configured. Please use URL input instead."),null;if(!j.type.startsWith("image/"))return _.error("Please select an image file"),null;if(j.size>5*1024*1024)return _.error("Image size must be less than 5MB"),null;const k=j.name.split(".").pop(),E=`${r==null?void 0:r.id}/${Date.now()}-${Math.random().toString(36).substr(2,9)}.${k}`,{error:P}=await Q.storage.from("question-images").upload(E,j,{cacheControl:"3600",upsert:!1});if(P)return console.error("Error uploading image:",P),P.message.includes("Bucket not found")?(u(!1),_.error("Image storage not configured. Please use URL input instead.")):_.error("Failed to upload image. Please use URL input instead."),null;const{data:{publicUrl:R}}=Q.storage.from("question-images").getPublicUrl(E);return _.success("Image uploaded successfully!"),R}catch(k){return console.error("Error uploading image:",k),_.error("Failed to upload image. Please use URL input instead."),null}finally{l(!1)}},x=async j=>{var P;const k=(P=j.target.files)==null?void 0:P[0];if(!k)return;const E=await v(k);E&&y({...m,imageUrl:E}),d.current&&(d.current.value="")},g=()=>{if(!m.question||m.options.some(k=>!k.trim())){_.error("Please fill in all question fields");return}const j={...m,id:`q_${Date.now()}_${Math.random().toString(36).substr(2,9)}`};h(k=>({...k,questions:[...k.questions,j]})),y({id:"",question:"",options:["","","","",""],correctAnswer:0,explanation:"",points:1,difficulty:"medium",imageUrl:""}),_.success("Question added successfully!")},p=j=>{h(k=>({...k,questions:k.questions.filter(E=>E.id!==j)})),_.success("Question removed")},N=async()=>{if(!r){_.error("User not authenticated");return}if(f.questions.length===0){_.error("Quiz must have at least one question");return}i(!0);try{const j=f.questions.map((P,R)=>({id:P.id||`q_${Date.now()}_${R}`,question:P.question,options:P.options,correctAnswer:P.correctAnswer,explanation:P.explanation||"",points:P.points,difficulty:P.difficulty,imageUrl:P.imageUrl||""})),{error:k}=await Q.from("quizzes").update({questions:j,updated_at:new Date().toISOString()}).eq("id",f.id);if(k){console.error("Error updating quiz:",k),_.error(`Failed to update quiz: ${k.message}`);return}const E={...f,questions:j.map(P=>({...P,id:P.id})),updatedAt:new Date};n(E),_.success("Quiz updated successfully!"),t()}catch(j){console.error("Error updating quiz:",j),_.error("Failed to update quiz")}finally{i(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-3",children:a.jsxs(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Vl,{className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Edit Quiz"}),a.jsx("p",{className:"text-xs text-gray-600",children:f.title})]})]}),a.jsxs(K,{onClick:N,loading:s,disabled:f.questions.length===0,size:"sm",children:[a.jsx(jn,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})}),a.jsxs("div",{className:"p-4",children:[a.jsx(Ue,{className:"p-4 mb-6 bg-blue-50 border-blue-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:f.title}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.description}),a.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[a.jsx(Ne,{variant:"primary",size:"sm",children:f.category}),a.jsx(Ne,{variant:"secondary",size:"sm",children:f.difficulty}),a.jsxs("span",{className:"text-xs text-gray-500",children:[f.timeLimit," min"]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:f.questions.length}),a.jsx("div",{className:"text-xs text-gray-600",children:"Questions"})]})]})}),a.jsxs(Ue,{className:"p-4 mb-6",children:[a.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Add New Question"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question *"}),a.jsx("textarea",{value:m.question,onChange:j=>y({...m,question:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",rows:2,placeholder:"Enter your question"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Image (Optional)"}),!c&&a.jsx("div",{className:"mb-2 p-2 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsx("p",{className:"text-xs text-yellow-800",children:"Image storage not configured. Please use URL input below."})}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:x,className:"hidden"}),a.jsx(K,{type:"button",variant:"outline",onClick:()=>{var j;return(j=d.current)==null?void 0:j.click()},disabled:o||!c,className:"flex-1",size:"sm",children:o?a.jsxs(a.Fragment,{children:[a.jsx(rh,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(h1,{className:"w-4 h-4 mr-2"}),c?"Upload Image":"Upload Disabled"]})}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"url",value:m.imageUrl||"",onChange:j=>y({...m,imageUrl:j.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Or paste image URL"})]}),m.imageUrl&&a.jsx("button",{type:"button",onClick:()=>y({...m,imageUrl:""}),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(We,{className:"w-4 h-4"})})]}),m.imageUrl&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:m.imageUrl,alt:"Question preview",className:"max-w-full h-32 object-cover rounded-lg border border-gray-200",onError:j=>{j.currentTarget.src="https://via.placeholder.com/300x200?text=Invalid+Image+URL"}})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Answer Options * (5 options)"}),a.jsx("div",{className:"space-y-2",children:m.options.map((j,k)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",name:"correctAnswer",checked:m.correctAnswer===k,onChange:()=>y({...m,correctAnswer:k}),className:"text-blue-600 focus:ring-blue-500"}),a.jsx("input",{type:"text",value:j,onChange:E=>{const P=[...m.options];P[k]=E.target.value,y({...m,options:P})},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:`Option ${k+1}`})]},k))}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the correct answer by clicking the radio button"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Explanation (Optional)"}),a.jsx("textarea",{value:m.explanation,onChange:j=>y({...m,explanation:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",rows:2,placeholder:"Explain why this is the correct answer"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Points"}),a.jsx("input",{type:"number",value:m.points,onChange:j=>y({...m,points:parseInt(j.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",min:"1",max:"10"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty"}),a.jsxs("select",{value:m.difficulty,onChange:j=>y({...m,difficulty:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]})]})]}),a.jsxs(K,{type:"button",onClick:g,className:"w-full",disabled:!m.question||m.options.some(j=>!j.trim()),children:[a.jsx(wa,{className:"w-4 h-4 mr-2"}),"Add Question"]})]})]}),f.questions.length>0&&a.jsxs(Ue,{className:"p-4",children:[a.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:["Questions (",f.questions.length,")"]}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:f.questions.map((j,k)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Q",k+1]}),a.jsx(Ne,{variant:j.difficulty==="hard"?"error":j.difficulty==="medium"?"warning":"success",size:"sm",children:j.difficulty}),a.jsxs(Ne,{variant:"gray",size:"sm",children:[j.points," pts"]}),j.imageUrl&&a.jsxs(Ne,{variant:"primary",size:"sm",children:[a.jsx(na,{className:"w-3 h-3 mr-1"}),"Image"]})]}),a.jsx("p",{className:"text-sm text-gray-700 mb-2 line-clamp-2",children:j.question}),j.imageUrl&&a.jsx("img",{src:j.imageUrl,alt:"Question",className:"w-20 h-12 object-cover rounded border border-gray-200 mb-2"}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Correct: ",j.options[j.correctAnswer]]})]}),a.jsx("button",{onClick:()=>p(j.id),className:"text-red-500 hover:text-red-700 transition-colors ml-2",children:a.jsx(ja,{className:"w-4 h-4"})})]})},j.id))})]})]})]})})},cP=({currentTexts:e,onClose:t,onSave:n})=>{const{user:r}=et(),[s,i]=b.useState(e),[o,l]=b.useState(!1),c=async()=>{if(!(r!=null&&r.id)){_.error("User not authenticated");return}l(!0);try{const{error:u}=await Q.from("app_texts").insert({hero_title:s.heroTitle,hero_subtitle:s.heroSubtitle,featured_section_title:s.featuredSectionTitle,created_by:r.id});if(u){console.error("Error updating app texts:",u),_.error("Failed to update app texts");return}n(s),_.success("App texts updated successfully!"),t()}catch(u){console.error("Error updating app texts:",u),_.error("Failed to update app texts")}finally{l(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(b6,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Customize App Texts"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Update the text content shown to users"})]})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(We,{className:"w-6 h-6"})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Fc,{className:"w-4 h-4 inline mr-1"}),"Hero Title"]}),a.jsx("input",{type:"text",value:s.heroTitle,onChange:u=>i({...s,heroTitle:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter hero title"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This appears as the main title in the user dashboard hero section"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Fc,{className:"w-4 h-4 inline mr-1"}),"Hero Subtitle"]}),a.jsx("input",{type:"text",value:s.heroSubtitle,onChange:u=>i({...s,heroSubtitle:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter hero subtitle"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This appears as the subtitle below the hero title"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Fc,{className:"w-4 h-4 inline mr-1"}),"Featured Section Title"]}),a.jsx("input",{type:"text",value:s.featuredSectionTitle,onChange:u=>i({...s,featuredSectionTitle:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter featured section title"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This appears as the title above the subjects section"})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Preview"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-blue-500 text-white p-4 rounded-lg",children:[a.jsx("h3",{className:"font-bold text-lg",children:s.heroTitle||"Hero Title"}),a.jsx("p",{className:"text-blue-100 text-sm",children:s.heroSubtitle||"Hero subtitle"})]}),a.jsx("div",{className:"bg-white p-3 rounded-lg border",children:a.jsx("h4",{className:"font-semibold text-gray-900",children:s.featuredSectionTitle||"Featured Section Title"})})]})]})]}),a.jsx("div",{className:"p-6 border-t border-gray-200",children:a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(K,{type:"button",variant:"outline",onClick:t,disabled:o,children:"Cancel"}),a.jsxs(K,{type:"button",onClick:c,loading:o,disabled:!s.heroTitle||!s.heroSubtitle||!s.featuredSectionTitle,children:[a.jsx(jn,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})})]})})},uP=({videoUrl:e,title:t,onClose:n,onOpen:r})=>{const s=b.useRef(null),[i,o]=b.useState(!0),[l,c]=b.useState(null),[u,d]=b.useState(!1),h=(m=>{const y=[/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/,/youtube\.com\/live\/([^&\n?#]+)/,/youtube\.com\/embed\/([^&\n?#]+)/];for(const w of y){const v=m.match(w);if(v)return v[1]}return""})(e);return b.useEffect(()=>{if(!h||!s.current)return;let m=null;const y=document.createElement("link");y.rel="stylesheet",y.href="https://cdn.plyr.io/3.7.8/plyr.css",document.head.appendChild(y);const w=document.createElement("script");w.src="https://cdn.plyr.io/3.7.8/plyr.polyfilled.js",w.onload=()=>{v()},document.head.appendChild(w);const v=()=>{var j;if(!window.Plyr||!((j=s.current)==null?void 0:j.querySelector("#plyr-player")))return;m=new window.Plyr("#plyr-player",{youtube:{noCookie:!1,controls:0,disablekb:1,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,enablejsapi:1},clickToPlay:!0,hideControls:!1,controls:["play-large","rewind","play","fast-forward","progress","current-time","duration","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],quality:{default:720,options:[144,240,360,480,720,1080,1440,2160],forced:!0,onChange:k=>{console.log(`Quality changed to: ${k}p`)}},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2]}}),c(m),m.on("ready",()=>{console.log("Player ready"),o(!1),d(!0),r==null||r(),p()}),m.on("playing",()=>{console.log("Video playing")}),m.on("pause",()=>{console.log("Video paused")});const g=()=>{document.hidden&&m&&m.playing&&m.pause()};document.addEventListener("visibilitychange",g);const p=()=>{var R,V,D;const k=(R=s.current)==null?void 0:R.querySelector(".center-click-layer");k&&k.addEventListener("click",function(S){const C=this.getBoundingClientRect(),O=C.width/2,A=C.height/2,M=S.clientX-C.left,q=S.clientY-C.top;Math.abs(M-O)<150&&Math.abs(q-A)<150&&(S.preventDefault(),S.stopPropagation(),m.togglePlay())});const E=(V=s.current)==null?void 0:V.querySelector(".title-blocker"),P=(D=s.current)==null?void 0:D.querySelector(".share-blocker");E&&E.addEventListener("click",function(S){S.preventDefault(),S.stopPropagation(),console.log("Title area click blocked")}),P&&P.addEventListener("click",function(S){S.preventDefault(),S.stopPropagation(),console.log("Share area click blocked")})},N=k=>{const E=k.target.tagName.toLowerCase();if(!(E==="input"||E==="textarea"))switch(k.key.toLowerCase()){case" ":case"k":k.preventDefault(),m.togglePlay();break;case"f":k.preventDefault(),m.fullscreen.toggle();break;case"m":k.preventDefault(),m.muted=!m.muted;break;case"arrowleft":k.preventDefault(),m.rewind(10);break;case"arrowright":k.preventDefault(),m.forward(10);break;case"escape":k.preventDefault(),n();break}};return document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N),document.removeEventListener("visibilitychange",g),m&&m.destroy()}};return()=>{m&&(m.destroy(),c(null));const x=document.querySelector('script[src="https://cdn.plyr.io/3.7.8/plyr.polyfilled.js"]'),g=document.querySelector('link[href="https://cdn.plyr.io/3.7.8/plyr.css"]');x&&x.remove(),g&&g.remove()}},[h,n]),b.useEffect(()=>{const m=y=>{y.key==="Escape"&&n()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[n]),h?a.jsxs(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3,ease:"easeOut"},className:"fixed inset-0 bg-black z-[70] flex items-center justify-center p-6",onClick:n,children:[a.jsxs(T.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},transition:{duration:.4,ease:"easeOut"},className:"w-full h-full relative max-w-6xl mx-auto",onClick:m=>m.stopPropagation(),children:[a.jsx(T.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.3},className:"absolute top-0 left-0 right-0 z-30 bg-gradient-to-b from-black/80 to-transparent p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-white font-semibold text-xl truncate mr-4",children:t}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:n,className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors backdrop-blur-sm",children:a.jsx(We,{className:"w-6 h-6 text-white"})})]})}),a.jsx("div",{ref:s,className:"w-full h-full flex items-center justify-center",style:{padding:"80px 40px 40px 40px",fontFamily:"Arial, sans-serif",backgroundColor:"#121212",color:"white"},children:a.jsx("section",{className:"w-full h-full",children:a.jsx("div",{className:"w-full h-full",children:a.jsx("div",{className:"relative overflow-hidden rounded-lg w-full h-full",style:{maxHeight:"calc(100vh - 160px)"},children:a.jsx("div",{className:"relative w-full h-full",children:a.jsxs("div",{className:"plyr__video-embed w-full h-full",id:"plyr-player",children:[a.jsx("div",{className:"title-blocker absolute top-0 left-0 z-20 pointer-events-auto cursor-default bg-transparent",style:{width:"30%",height:"15%"}}),a.jsx("div",{className:"share-blocker absolute top-0 right-0 z-20 pointer-events-auto cursor-default bg-transparent",style:{width:"15%",height:"15%"}}),a.jsx("div",{className:"center-click-layer absolute top-0 left-0 w-full h-full z-10 cursor-pointer bg-transparent"}),a.jsx("iframe",{src:`https://www.youtube.com/embed/${h}?enablejsapi=1&controls=0&disablekb=1&rel=0&showinfo=0&iv_load_policy=3&modestbranding=1&origin=${window.location.origin}&autoplay=0`,className:"absolute top-0 left-0 w-full h-full border-0",allowFullScreen:!0,allow:"autoplay; encrypted-media; picture-in-picture",referrerPolicy:"strict-origin-when-cross-origin"})]})})})})})}),i&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-40",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-white/20 border-t-white rounded-full animate-spin mb-4"}),a.jsx("p",{className:"text-white text-sm",children:"Loading video..."})]})})]}),a.jsx("style",{jsx:!0,children:`
        /* Enhanced Player CSS */
        .plyr__controls {
          z-index: 15 !important;
          pointer-events: all !important;
          opacity: 1 !important;
          visibility: visible !important;
        }

        .plyr--video .plyr__controls {
          opacity: 1 !important;
          visibility: visible !important;
          transform: translateY(0) !important;
        }

        .plyr--playing .plyr__controls {
          transform: translateY(0) !important;
          opacity: 1 !important;
        }

        .plyr__control-bar {
          opacity: 1 !important;
          visibility: visible !important;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
          .title-blocker {
            width: 60% !important;
            height: 12% !important;
          }
          .share-blocker {
            width: 12% !important;
            height: 12% !important;
          }
        }

        /* Prevent control hiding */
        .plyr__controls:not(.plyr__controls--hidden) {
          opacity: 1 !important;
          visibility: visible !important;
        }

        /* Enhanced click layers */
        .center-click-layer {
          background: transparent !important;
        }

        .title-blocker,
        .share-blocker {
          background: transparent !important;
        }

        /* Ensure video container takes full space */
        .plyr__video-embed iframe {
          width: 100% !important;
          height: 100% !important;
        }

        /* Ensure proper aspect ratio maintenance */
        .plyr__video-embed {
          width: 100% !important;
          height: 100% !important;
        }
      `})]}):a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/95 backdrop-blur-sm z-[70] flex items-center justify-center",children:a.jsxs("div",{className:"text-white text-center",children:[a.jsx("p",{children:"Invalid video URL"}),a.jsx("button",{onClick:n,className:"mt-4 px-4 py-2 bg-red-600 rounded",children:"Close"})]})})},dP=({onClose:e,onSubmit:t,defaultCategory:n})=>{et();const[r,s]=b.useState(!1),[i,o]=b.useState({title:"",description:"",youtubeUrl:"",category:n||"",duration:"",thumbnailUrl:""}),l=["SFT","ET","ICT"],c=f=>{const h=[/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/,/youtube\.com\/live\/([^&\n?#]+)/,/youtube\.com\/embed\/([^&\n?#]+)/];for(const m of h){const y=f.match(m);if(y)return y[1]}return""},u=f=>{const h=c(f);return h?`https://img.youtube.com/vi/${h}/hqdefault.jpg`:""};nn.useEffect(()=>{if(i.youtubeUrl){const f=u(i.youtubeUrl);f&&o(h=>({...h,thumbnailUrl:f}))}},[i.youtubeUrl]);const d=async f=>{if(f.preventDefault(),!i.title||!i.description||!i.youtubeUrl){_.error("Please fill in all required fields");return}if(!c(i.youtubeUrl)){_.error("Please enter a valid YouTube URL (supports videos and live streams)");return}s(!0);try{const h={title:i.title,description:i.description,youtubeUrl:i.youtubeUrl,thumbnailUrl:i.thumbnailUrl||u(i.youtubeUrl),category:i.category,duration:i.duration||"0:00"};t(h),_.success("Video added successfully!"),e()}catch(h){console.error("Error adding video:",h),_.error("Failed to add video")}finally{s(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:a.jsx(v1,{className:"w-5 h-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add YouTube Video"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Share educational content with students (supports live streams)"})]})]}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(We,{className:"w-6 h-6"})})]})}),a.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(m1,{className:"w-4 h-4 inline mr-1"}),"Video Title *"]}),a.jsx("input",{type:"text",value:i.title,onChange:f=>o({...i,title:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter video title",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Ws,{className:"w-4 h-4 inline mr-1"}),"YouTube URL *"]}),a.jsx("input",{type:"url",value:i.youtubeUrl,onChange:f=>o({...i,youtubeUrl:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"https://www.youtube.com/watch?v=... or https://youtu.be/...",required:!0}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supports YouTube videos, live streams, and shorts"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Thumbnail URL (Optional)"}),a.jsx("input",{type:"url",value:i.thumbnailUrl,onChange:f=>o({...i,thumbnailUrl:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"https://example.com/custom-thumbnail.jpg"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to use YouTube's default thumbnail"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),a.jsx("textarea",{value:i.description,onChange:f=>o({...i,description:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:4,placeholder:"Describe what this video covers",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(v6,{className:"w-4 h-4 inline mr-1"}),"Category"]}),a.jsx("select",{value:i.category,onChange:f=>o({...i,category:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:l.map(f=>a.jsx("option",{value:f,children:f},f))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(qs,{className:"w-4 h-4 inline mr-1"}),"Duration (optional)"]}),a.jsx("input",{type:"text",value:i.duration,onChange:f=>o({...i,duration:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"e.g., 15:30 or LIVE"})]})]}),i.youtubeUrl&&c(i.youtubeUrl)&&a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Preview"}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("img",{src:i.thumbnailUrl||u(i.youtubeUrl),alt:"Video thumbnail",className:"w-24 h-16 object-cover rounded",onError:f=>{f.currentTarget.src="https://via.placeholder.com/120x90?text=Video"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm text-gray-900",children:i.title||"Video Title"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:i.description||"Video description will appear here..."}),a.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[a.jsx("span",{className:"text-xs bg-gray-200 px-2 py-1 rounded",children:i.category||"No Category"}),i.duration&&a.jsx("span",{className:"text-xs text-gray-500",children:i.duration})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[a.jsx(K,{type:"button",variant:"outline",onClick:e,disabled:r,children:"Cancel"}),a.jsxs(K,{type:"submit",loading:r,disabled:!i.title||!i.description||!i.youtubeUrl,className:"bg-red-600 hover:bg-red-700",children:[a.jsx(y1,{className:"w-4 h-4 mr-2"}),"Add Video"]})]})]})]})})},fP=({subjects:e,onClose:t,onSave:n})=>{const[r,s]=b.useState([...e]),[i,o]=b.useState(null),[l,c]=b.useState(!1),u=[{name:"Green",value:"from-green-500 to-emerald-600",preview:"bg-gradient-to-r from-green-500 to-emerald-600"},{name:"Blue",value:"from-blue-500 to-indigo-600",preview:"bg-gradient-to-r from-blue-500 to-indigo-600"},{name:"Orange",value:"from-orange-500 to-amber-600",preview:"bg-gradient-to-r from-orange-500 to-amber-600"},{name:"Purple",value:"from-purple-500 to-violet-600",preview:"bg-gradient-to-r from-purple-500 to-violet-600"},{name:"Pink",value:"from-pink-500 to-rose-600",preview:"bg-gradient-to-r from-pink-500 to-rose-600"},{name:"Teal",value:"from-teal-500 to-cyan-600",preview:"bg-gradient-to-r from-teal-500 to-cyan-600"},{name:"Red",value:"from-red-500 to-pink-600",preview:"bg-gradient-to-r from-red-500 to-pink-600"},{name:"Indigo",value:"from-indigo-500 to-purple-600",preview:"bg-gradient-to-r from-indigo-500 to-purple-600"}],d=[{name:"Science",value:"",icon:JE},{name:"Engineering",value:"",icon:YE},{name:"Technology",value:"",icon:iP},{name:"Book",value:""},{name:"Atom",value:""},{name:"Gear",value:""},{name:"Circuit",value:""},{name:"Microscope",value:""},{name:"Calculator",value:""},{name:"Lightbulb",value:""},{name:"Rocket",value:""},{name:"Globe",value:""}],f=v=>{o({...v})},h=()=>{if(i){if(!i.name.trim()||!i.description.trim()){_.error("Please fill in all required fields");return}s(v=>v.map(x=>x.id===i.id?i:x)),o(null),_.success("Subject updated successfully!")}},m=()=>{const v={id:crypto.randomUUID(),name:"New Subject",description:"Enter subject description",icon:"",color:"from-gray-500 to-slate-600",imageUrl:"https://images.pexels.com/photos/256262/pexels-photo-256262.jpeg",lessonCount:0};s(x=>[...x,v]),o(v)},y=v=>{const x=r.find(g=>g.id===v);if(x&&x.lessonCount>0){_.error("Cannot delete subject with existing lessons");return}window.confirm("Are you sure you want to delete this subject?")&&(s(g=>g.filter(p=>p.id!==v)),_.success("Subject deleted successfully!"))},w=async()=>{c(!0);try{for(const v of r)if(!v.name.trim()||!v.description.trim()){_.error(`Please complete all fields for ${v.name||"unnamed subject"}`),c(!1);return}n(r),t()}catch(v){console.error("Error saving subjects:",v),_.error("Failed to save subjects")}finally{c(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx(hd,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Manage Subjects"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Customize learning subjects and categories"})]})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(We,{className:"w-6 h-6"})})]})}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs(K,{onClick:m,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[a.jsx(wa,{className:"w-4 h-4 mr-2"}),"Add New Subject"]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(v=>a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white border-2 border-gray-200 rounded-2xl p-4 hover:border-gray-300 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${v.color.replace("500","100").replace("600","200")} rounded-full flex items-center justify-center text-lg`,children:v.icon}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:v.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[v.lessonCount," lessons"]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>f(v),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:a.jsx(hd,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>y(v.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",disabled:v.lessonCount>0,children:a.jsx(ja,{className:"w-4 h-4"})})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:v.description}),v.imageUrl&&a.jsx("img",{src:v.imageUrl,alt:v.name,className:"w-full h-24 object-cover rounded-lg",onError:x=>{x.currentTarget.src="https://via.placeholder.com/300x150?text=Subject+Image"}})]},v.id))})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-60 p-4",children:a.jsxs(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Subject"}),a.jsx("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(We,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject Name *"}),a.jsx("input",{type:"text",value:i.name,onChange:v=>o({...i,name:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter subject name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject Icon"}),a.jsx("div",{className:"grid grid-cols-6 gap-2",children:d.map(v=>a.jsx("button",{onClick:()=>o({...i,icon:v.value}),className:`p-2 rounded-lg border-2 transition-all ${i.icon===v.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsx("span",{className:"text-lg",children:v.value})},v.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),a.jsx("textarea",{value:i.description,onChange:v=>o({...i,description:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Enter subject description"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(m6,{className:"w-4 h-4 inline mr-1"}),"Color Theme"]}),a.jsx("div",{className:"grid grid-cols-4 gap-3",children:u.map(v=>a.jsxs("button",{onClick:()=>o({...i,color:v.value}),className:`p-3 rounded-lg border-2 transition-all ${i.color===v.value?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("div",{className:`w-full h-8 rounded-md ${v.preview} mb-2`}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:v.name})]},v.value))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(na,{className:"w-4 h-4 inline mr-1"}),"Subject Image URL"]}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"url",value:i.imageUrl||"",onChange:v=>o({...i,imageUrl:v.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"})]})}),i.imageUrl&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:i.imageUrl,alt:"Subject preview",className:"w-full h-32 object-cover rounded-lg border border-gray-200",onError:v=>{v.currentTarget.src="https://via.placeholder.com/300x150?text=Invalid+Image+URL"}})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview"}),a.jsx("div",{className:`bg-gradient-to-r ${i.color.replace("500","100").replace("600","200")} rounded-2xl p-4`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-lg shadow-lg",children:i.icon}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:i.name}),a.jsx("p",{className:"text-sm text-gray-600",children:i.description})]})]})})]})]}),a.jsx("div",{className:"p-6 border-t border-gray-200",children:a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(K,{variant:"outline",onClick:()=>o(null),children:"Cancel"}),a.jsxs(K,{onClick:h,disabled:!i.name.trim()||!i.description.trim(),children:[a.jsx(jn,{className:"w-4 h-4 mr-2"}),"Save Subject"]})]})})]})}),a.jsx("div",{className:"p-6 border-t border-gray-200",children:a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(K,{variant:"outline",onClick:t,disabled:l,children:"Cancel"}),a.jsxs(K,{onClick:w,loading:l,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[a.jsx(jn,{className:"w-4 h-4 mr-2"}),"Save All Changes"]})]})})]})})},hP=({subject:e,onClose:t,onSave:n})=>{const[r,s]=b.useState({...e}),[i,o]=b.useState(null),[l,c]=b.useState(!1),u=y=>{o({...y})},d=()=>{if(i){if(!i.title.trim()||!i.description.trim()){_.error("Please fill in all required fields");return}s(y=>({...y,lessons:y.lessons.map(w=>w.id===i.id?i:w)})),o(null),_.success("Lesson updated successfully!")}},f=()=>{const y={id:crypto.randomUUID(),title:"New Lesson",description:"Enter lesson description",subjectId:e.id,thumbnailUrl:"https://images.pexels.com/photos/256262/pexels-photo-256262.jpeg",videoCount:0,videos:[]};s(w=>({...w,lessons:[...w.lessons,y],lessonCount:w.lessons.length+1})),o(y)},h=y=>{const w=r.lessons.find(v=>v.id===y);if(w&&w.videoCount>0){_.error("Cannot delete lesson with existing videos");return}window.confirm("Are you sure you want to delete this lesson?")&&(s(v=>({...v,lessons:v.lessons.filter(x=>x.id!==y),lessonCount:v.lessons.length-1})),_.success("Lesson deleted successfully!"))},m=async()=>{c(!0);try{for(const y of r.lessons)if(!y.title.trim()||!y.description.trim()){_.error(`Please complete all fields for ${y.title||"unnamed lesson"}`),c(!1);return}n(r),t()}catch(y){console.error("Error saving lessons:",y),_.error("Failed to save lessons")}finally{c(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${e.color.replace("500","100").replace("600","200")} rounded-lg flex items-center justify-center`,children:a.jsx("span",{className:"text-lg",children:e.icon})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Manage ",e.name," Lessons"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Add and organize lessons for this subject"})]})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(We,{className:"w-6 h-6"})})]})}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs(K,{onClick:f,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[a.jsx(wa,{className:"w-4 h-4 mr-2"}),"Add New Lesson"]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.lessons.map(y=>a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white border-2 border-gray-200 rounded-2xl p-4 hover:border-gray-300 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:a.jsx(W,{icon:ar,className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:y.title}),a.jsxs("p",{className:"text-sm text-gray-600",children:[y.videoCount," videos"]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>u(y),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:a.jsx(hd,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>h(y.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",disabled:y.videoCount>0,children:a.jsx(ja,{className:"w-4 h-4"})})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:y.description}),y.thumbnailUrl&&a.jsx("img",{src:y.thumbnailUrl,alt:y.title,className:"w-full h-24 object-cover rounded-lg",onError:w=>{w.currentTarget.src="https://via.placeholder.com/300x150?text=Lesson+Image"}})]},y.id))})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-60 p-4",children:a.jsxs(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Edit Lesson"}),a.jsx("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(We,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lesson Title *"}),a.jsx("input",{type:"text",value:i.title,onChange:y=>o({...i,title:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter lesson title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),a.jsx("textarea",{value:i.description,onChange:y=>o({...i,description:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Enter lesson description"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(na,{className:"w-4 h-4 inline mr-1"}),"Thumbnail Image URL"]}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"url",value:i.thumbnailUrl||"",onChange:y=>o({...i,thumbnailUrl:y.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"})]})}),i.thumbnailUrl&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:i.thumbnailUrl,alt:"Lesson preview",className:"w-full h-32 object-cover rounded-lg border border-gray-200",onError:y=>{y.currentTarget.src="https://via.placeholder.com/300x150?text=Invalid+Image+URL"}})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview"}),a.jsx("div",{className:`bg-gradient-to-r ${e.color.replace("500","100").replace("600","200")} rounded-2xl p-4`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-lg",children:a.jsx(W,{icon:ar,className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:i.title}),a.jsx("p",{className:"text-sm text-gray-600",children:i.description})]})]})})]})]}),a.jsx("div",{className:"p-6 border-t border-gray-200",children:a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(K,{variant:"outline",onClick:()=>o(null),children:"Cancel"}),a.jsxs(K,{onClick:d,disabled:!i.title.trim()||!i.description.trim(),children:[a.jsx(jn,{className:"w-4 h-4 mr-2"}),"Save Lesson"]})]})})]})}),a.jsx("div",{className:"p-6 border-t border-gray-200",children:a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(K,{variant:"outline",onClick:t,disabled:l,children:"Cancel"}),a.jsxs(K,{onClick:m,loading:l,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[a.jsx(jn,{className:"w-4 h-4 mr-2"}),"Save All Changes"]})]})})]})})},mP=({video:e,onClose:t,onSubmit:n})=>{const[r,s]=b.useState(!1),[i,o]=b.useState({title:e.title,description:e.description,youtubeUrl:e.youtube_url,thumbnailUrl:e.thumbnail_url,duration:e.duration}),l=d=>{const f=[/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/,/youtube\.com\/live\/([^&\n?#]+)/,/youtube\.com\/embed\/([^&\n?#]+)/];for(const h of f){const m=d.match(h);if(m)return m[1]}return""},c=d=>{const f=l(d);return f?`https://img.youtube.com/vi/${f}/hqdefault.jpg`:""};nn.useEffect(()=>{if(i.youtubeUrl&&i.youtubeUrl!==e.youtube_url){const d=c(i.youtubeUrl);d&&o(f=>({...f,thumbnailUrl:d}))}},[i.youtubeUrl,e.youtube_url]);const u=async d=>{if(d.preventDefault(),!i.title||!i.description||!i.youtubeUrl){_.error("Please fill in all required fields");return}if(!l(i.youtubeUrl)){_.error("Please enter a valid YouTube URL (supports videos and live streams)");return}s(!0);try{const f={title:i.title,description:i.description,youtubeUrl:i.youtubeUrl,thumbnailUrl:i.thumbnailUrl||c(i.youtubeUrl),duration:i.duration||"0:00"};n(f)}catch(f){console.error("Error updating video:",f),_.error("Failed to update video")}finally{s(!1)}};return a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3,ease:"easeOut"},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(v1,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Video"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Update video information and settings"})]})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(We,{className:"w-6 h-6"})})]})}),a.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(m1,{className:"w-4 h-4 inline mr-1"}),"Video Title *"]}),a.jsx("input",{type:"text",value:i.title,onChange:d=>o({...i,title:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter video title",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Ws,{className:"w-4 h-4 inline mr-1"}),"YouTube URL *"]}),a.jsx("input",{type:"url",value:i.youtubeUrl,onChange:d=>o({...i,youtubeUrl:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://www.youtube.com/watch?v=... or https://youtu.be/...",required:!0}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supports YouTube videos, live streams, and shorts"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Thumbnail URL (Optional)"}),a.jsx("input",{type:"url",value:i.thumbnailUrl,onChange:d=>o({...i,thumbnailUrl:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/custom-thumbnail.jpg"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to use YouTube's default thumbnail"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),a.jsx("textarea",{value:i.description,onChange:d=>o({...i,description:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Describe what this video covers",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(qs,{className:"w-4 h-4 inline mr-1"}),"Duration (optional)"]}),a.jsx("input",{type:"text",value:i.duration,onChange:d=>o({...i,duration:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 15:30 or LIVE"})]}),i.youtubeUrl&&l(i.youtubeUrl)&&a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Preview"}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("img",{src:i.thumbnailUrl||c(i.youtubeUrl),alt:"Video thumbnail",className:"w-24 h-16 object-cover rounded",onError:d=>{d.currentTarget.src="https://via.placeholder.com/120x90?text=Video"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm text-gray-900",children:i.title||"Video Title"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:i.description||"Video description will appear here..."}),i.duration&&a.jsxs("span",{className:"text-xs text-gray-500 mt-2 inline-block",children:["Duration: ",i.duration]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[a.jsx(K,{type:"button",variant:"outline",onClick:t,disabled:r,children:"Cancel"}),a.jsxs(K,{type:"submit",loading:r,disabled:!i.title||!i.description||!i.youtubeUrl,className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx(jn,{className:"w-4 h-4 mr-2"}),"Update Video"]})]})]})]})})},pP=e=>{const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/,/youtube\.com\/live\/([^&\n?#]+)/,/youtube\.com\/embed\/([^&\n?#]+)/];for(const n of t){const r=e.match(n);if(r)return r[1]}return""},lb=e=>{const t=pP(e);return t?`https://img.youtube.com/vi/${t}/hqdefault.jpg`:""},gh=({isLoading:e})=>a.jsx(Fe,{children:e&&a.jsx(T.div,{initial:{width:0},animate:{width:"100%"},exit:{width:0},transition:{duration:.6,ease:"easeInOut"},className:"absolute bottom-0 left-0 h-1 bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 z-30 shadow-lg",style:{boxShadow:"0 0 10px rgba(59, 130, 246, 0.5)"}})}),gP=()=>a.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"loader mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading Admin Lessons..."}),a.jsx("style",{jsx:!0,children:`
        .loader {
          width: fit-content;
          font-size: 40px;
          font-family: monospace;
          font-weight: bold;
          text-transform: uppercase;
          color: #0000;
          -webkit-text-stroke: 1px #000;
          --g: conic-gradient(#000 0 0) no-repeat text;
          background: var(--g) 0, var(--g) 1ch, var(--g) 2ch, var(--g) 3ch, var(--g) 4ch, var(--g) 5ch, var(--g) 6ch;
          animation: l17-0 1s linear infinite alternate, l17-1 2s linear infinite;
        }
        .loader:before {
          content: "Loading";
        }
        @keyframes l17-0 {
          0% { background-size: 1ch 0; }
          100% { background-size: 1ch 100%; }
        }
        @keyframes l17-1 {
          0%, 50% { background-position-y: 100%, 0; }
          50.01%, to { background-position-y: 0, 100%; }
        }
      `})]})}),yP=({onNavigate:e,activeTab:t,onPlayerModalToggle:n})=>{hr();const{user:r,signOut:s}=et(),[i,o]=b.useState(!1),[l,c]=b.useState(null),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[m,y]=b.useState(null),[w,v]=b.useState(!1),[x,g]=b.useState(!1),[p,N]=b.useState(null),[j,k]=b.useState(null),[E,P]=b.useState("subjects"),[R,V]=b.useState([]),[D,S]=b.useState(!0),[C,O]=b.useState(new Set);b.useEffect(()=>{A()},[]);const A=async()=>{try{S(!0);const{data:Z,error:ee}=await Q.from("subjects").select("*").order("created_at",{ascending:!0});if(ee){console.error("Error loading subjects:",ee),V(M()),S(!1);return}const{data:ue,error:tt}=await Q.from("subject_lessons").select("*").order("created_at",{ascending:!0});tt&&console.error("Error loading lessons:",tt);const{data:rn,error:L}=await Q.from("lesson_videos").select("*").order("position",{ascending:!0});L&&console.error("Error loading videos:",L);const ae=(Z||M()).map(de=>{const nt=(ue||[]).filter(ut=>ut.subject_id===de.id).map(ut=>{const Gr=(rn||[]).filter(rt=>rt.lesson_id===ut.id).map((rt,Qs)=>({id:rt.id,title:rt.title,description:rt.description,youtube_url:rt.youtube_url,thumbnail_url:rt.thumbnail_url,duration:rt.duration,lessonId:ut.id,subjectId:de.id,created_at:rt.created_at,position:rt.position||Qs}));return{id:ut.id,title:ut.title,description:ut.description,subjectId:de.id,thumbnailUrl:ut.thumbnail_url,videoCount:Gr.length,videos:Gr.sort((rt,Qs)=>(rt.position||0)-(Qs.position||0))}});return{id:de.id,name:de.name,description:de.description,icon:de.icon,color:de.color,imageUrl:de.image_url,lessonCount:nt.length,lessons:nt}});V(ae)}catch(Z){console.error("Error loading data:",Z),V(M())}finally{S(!1)}},M=()=>[{id:"sft",name:"SFT",description:"Science for Technology - Core scientific principles",icon:"",color:"from-green-500 to-emerald-600",imageUrl:"https://images.pexels.com/photos/2280571/pexels-photo-2280571.jpeg",lessonCount:0,lessons:[]},{id:"et",name:"ET",description:"Engineering Technology - Applied engineering concepts",icon:"",color:"from-orange-500 to-amber-600",imageUrl:"https://images.pexels.com/photos/159298/gears-cogs-machine-machinery-159298.jpeg",lessonCount:0,lessons:[]},{id:"ict",name:"ICT",description:"Information & Communication Technology",icon:"",color:"from-blue-500 to-indigo-600",imageUrl:"https://images.pexels.com/photos/546819/pexels-photo-546819.jpeg",lessonCount:0,lessons:[]}],q=Z=>{c(Z),o(!0),n==null||n(!0)},I=()=>{o(!1),c(null),n==null||n(!1)},B=(Z,ee)=>{O(ue=>new Set(ue).add(Z)),setTimeout(()=>{O(ue=>{const tt=new Set(ue);return tt.delete(Z),tt}),ee()},1500)},F=async Z=>{if(!j||!p){_.error("Please select a lesson first");return}try{const{data:ee,error:ue}=await Q.from("lesson_videos").insert({title:Z.title,description:Z.description,youtube_url:Z.youtubeUrl,thumbnail_url:Z.thumbnailUrl,duration:Z.duration,lesson_id:j.id,subject_id:p.id,position:j.videos.length,created_by:r==null?void 0:r.id}).select().single();if(ue){console.error("Error adding video:",ue),_.error("Failed to add video to database");return}_.success("Video added successfully!"),await A()}catch(ee){console.error("Error adding video:",ee),_.error("Failed to add video")}},G=Z=>{y(Z),h(!0)},J=async Z=>{if(m)try{const{error:ee}=await Q.from("lesson_videos").update({title:Z.title,description:Z.description,youtube_url:Z.youtubeUrl,thumbnail_url:Z.thumbnailUrl,duration:Z.duration,updated_at:new Date().toISOString()}).eq("id",m.id);if(ee){console.error("Error updating video:",ee),_.error("Failed to update video");return}_.success("Video updated successfully!"),await A(),h(!1),y(null)}catch(ee){console.error("Error updating video:",ee),_.error("Failed to update video")}},le=async(Z,ee)=>{if(!j)return;const ue=[...j.videos],tt=ue.findIndex(L=>L.id===Z);if(tt===-1)return;const rn=ee==="up"?tt-1:tt+1;if(!(rn<0||rn>=ue.length)){[ue[tt],ue[rn]]=[ue[rn],ue[tt]];try{for(let L=0;L<ue.length;L++)await Q.from("lesson_videos").update({position:L}).eq("id",ue[L].id);_.success("Video position updated!"),await A()}catch(L){console.error("Error updating video position:",L),_.error("Failed to update video position")}}},Te=Z=>{N(Z),P("lessons")},he=Z=>{k(Z),P("videos")},we=()=>{N(null),k(null),P("subjects")},z=()=>{k(null),P("lessons")},ye=async Z=>{try{for(const ee of Z){const{error:ue}=await Q.from("subjects").upsert({id:ee.id,name:ee.name,description:ee.description,icon:ee.icon,color:ee.color,image_url:ee.imageUrl,updated_at:new Date().toISOString()});if(ue){console.error("Error updating subject:",ue),_.error(`Failed to update subject ${ee.name}: ${ue.message}`);return}}_.success("Subjects updated successfully!"),await A()}catch(ee){console.error("Error updating subjects:",ee),_.error("Failed to update subjects")}},Ee=async Z=>{try{for(const ee of Z.lessons){const{error:ue}=await Q.from("subject_lessons").upsert({id:ee.id,title:ee.title,description:ee.description,subject_id:Z.id,thumbnail_url:ee.thumbnailUrl,updated_at:new Date().toISOString()});if(ue){console.error("Error updating lesson:",ue),_.error(`Failed to update lesson ${ee.title}: ${ue.message}`);return}}_.success("Lessons updated successfully!"),await A()}catch(ee){console.error("Error updating lessons:",ee),_.error("Failed to update lessons")}},vt=async Z=>{if(window.confirm("Are you sure you want to delete this video?"))try{const{error:ee}=await Q.from("lesson_videos").delete().eq("id",Z);if(ee){console.error("Error deleting video:",ee),_.error("Failed to delete video");return}_.success("Video deleted successfully!"),await A()}catch(ee){console.error("Error deleting video:",ee),_.error("Failed to delete video")}},ce=[{id:"home",name:"Home",icon:Sa},{id:"recent",name:"Papers",icon:Yt},{id:"lessons",name:"Lessons",icon:_a},{id:"notifications",name:"Notifications",icon:Jn},{id:"profile",name:"Profile",icon:ib}];return D?a.jsx(gP,{}):E==="subjects"?a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsxs("div",{className:"w-full px-4 py-6 pb-24",children:[a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-purple-500 via-purple-600 to-indigo-700 p-4 text-white mb-6",children:a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-lg font-bold mb-3",children:"Tecnology A/L Content Management"}),a.jsx("p",{className:"text-purple-100 text-sm",children:"Professional content administration"})]}),a.jsxs(K,{variant:"outline",size:"sm",onClick:s,className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm text-xs px-3 py-1.5",children:[a.jsx(W,{icon:Rr,className:"w-3 h-3 mr-1"}),"Sign Out"]})]}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs(K,{variant:"outline",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm text-sm px-4 py-2",onClick:()=>v(!0),children:[a.jsx(W,{icon:ia,className:"w-4 h-4 mr-2"}),"Manage Subjects"]})})]})}),a.jsx(xP,{subjects:R,onSubjectClick:Te,loadingContainers:C,onContainerClick:B})]}),a.jsx(Kc,{items:ce,activeTab:t,onNavigate:e}),w&&a.jsx(fP,{subjects:R,onClose:()=>v(!1),onSave:ye})]}):E==="lessons"&&p?a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsxs("div",{className:"w-full px-4 py-6 pb-24",children:[a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:`relative overflow-hidden rounded-3xl bg-gradient-to-r ${p.color} p-6 text-white mb-6`,children:[a.jsx("button",{onClick:we,className:"absolute top-4 left-4 p-2 hover:bg-white/20 rounded-lg transition-colors",children:a.jsx(W,{icon:ol,className:"w-4 h-4"})}),a.jsx("div",{className:"absolute top-4 right-4 w-16 h-16 bg-white/10 rounded-full"}),a.jsx("div",{className:"absolute top-8 right-8 w-8 h-8 bg-white/20 rounded-full"}),a.jsxs("div",{className:"relative z-10 pt-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-2xl",children:p.icon}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold",children:[p.name," Lessons"]}),a.jsxs("p",{className:"text-white/80 text-sm",children:[p.lessons.length," lessons available"]})]})]}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs(K,{onClick:()=>g(!0),className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",size:"sm",children:[a.jsx(W,{icon:ll,className:"w-4 h-4 mr-2"}),"Add Lesson"]})})]})]}),a.jsx(bP,{subject:p,onLessonClick:he,loadingContainers:C,onContainerClick:B})]}),a.jsx(Kc,{items:ce,activeTab:t,onNavigate:e}),x&&p&&a.jsx(hP,{subject:p,onClose:()=>g(!1),onSave:Ee})]}):E==="videos"&&j&&p?a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsxs("div",{className:"w-full px-4 py-6 pb-24",children:[a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:`relative overflow-hidden rounded-3xl bg-gradient-to-r ${p.color} p-6 text-white mb-6`,children:[a.jsx("button",{onClick:z,className:"absolute top-4 left-4 p-2 hover:bg-white/20 rounded-lg transition-colors",children:a.jsx(W,{icon:ol,className:"w-4 h-4"})}),a.jsx("div",{className:"absolute top-4 right-4 w-16 h-16 bg-white/10 rounded-full"}),a.jsx("div",{className:"absolute top-8 right-8 w-8 h-8 bg-white/20 rounded-full"}),a.jsxs("div",{className:"relative z-10 pt-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-2xl",children:a.jsx(W,{icon:Sn,className:"w-6 h-6 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:j.title}),a.jsxs("p",{className:"text-white/80 text-sm",children:[j.videos.length," videos available"]})]})]}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs(K,{onClick:()=>d(!0),className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",size:"sm",children:[a.jsx(W,{icon:ll,className:"w-4 h-4 mr-2"}),"Add Video"]})})]})]}),a.jsx(jP,{lesson:j,onVideoClick:q,onEditVideo:G,onDeleteVideo:vt,onMoveVideo:le,loadingContainers:C,onContainerClick:B})]}),a.jsx(Kc,{items:ce,activeTab:t,onNavigate:e}),u&&a.jsx(dP,{onClose:()=>d(!1),onSubmit:F,defaultCategory:p.name}),f&&m&&a.jsx(mP,{video:m,onClose:()=>{h(!1),y(null)},onSubmit:J}),a.jsx(Fe,{children:i&&l&&a.jsx(uP,{videoUrl:l.youtube_url,title:l.title,onClose:I})})]}):null},xP=({subjects:e,onSubjectClick:t,loadingContainers:n,onContainerClick:r})=>{const s=()=>{const[o,l]=b.useState([]);return{ripples:o,createRipple:u=>{const d=u.currentTarget.getBoundingClientRect(),f=u.clientX-d.left,h=u.clientY-d.top,m=Date.now()+Math.random();l(y=>[...y,{x:f,y:h,id:m}]),setTimeout(()=>{l(y=>y.filter(w=>w.id!==m))},800)}}},i=({ripples:o})=>a.jsx(a.Fragment,{children:o.map(l=>a.jsx(T.div,{className:"absolute bg-black/20 rounded-full pointer-events-none z-10",style:{left:l.x-75,top:l.y-75,width:150,height:150},initial:{scale:0,opacity:.6},animate:{scale:4,opacity:0},transition:{duration:.8,ease:[.4,0,.2,1]}},l.id))});return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((o,l)=>a.jsx(vP,{subject:o,index:l,loadingContainers:n,onContainerClick:r,onSubjectClick:t,useRipple:s,RippleEffect:i},o.id))})},vP=({subject:e,index:t,loadingContainers:n,onContainerClick:r,onSubjectClick:s,useRipple:i,RippleEffect:o})=>{const{ripples:l,createRipple:c}=i();return a.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300 cursor-pointer",onClick:u=>{c(u),r(e.id,()=>s(e))},children:[a.jsx(o,{ripples:l}),a.jsx(gh,{isLoading:n.has(e.id)}),a.jsxs("div",{className:"relative w-full",style:{aspectRatio:"16/9"},children:[a.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover",onError:u=>{u.currentTarget.src="https://via.placeholder.com/320x180?text=Subject"}}),a.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs px-2 py-1 rounded-lg backdrop-blur-sm font-medium",children:[e.lessonCount," Lessons"]}),a.jsx("div",{className:"absolute top-2 left-2 flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx("button",{onClick:u=>{u.stopPropagation()},className:"w-6 h-6 bg-blue-500 hover:bg-blue-600 rounded-lg flex items-center justify-center text-white transition-colors",children:a.jsx(W,{icon:ia,className:"w-2 h-2"})})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"flex items-start justify-between mb-2",children:a.jsx("h3",{className:"font-bold text-gray-900 text-base line-clamp-1 leading-tight",children:e.name})}),a.jsx("p",{className:"text-gray-600 mb-3 leading-relaxed text-sm line-clamp-2",children:e.description}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx("span",{className:`px-2 py-1 bg-gradient-to-r ${e.color} text-white rounded-full font-semibold text-xs`,children:e.name}),a.jsxs("span",{children:[e.lessonCount," Lessons"]})]})})]})]})},bP=({subject:e,onLessonClick:t,loadingContainers:n,onContainerClick:r})=>{const s=()=>{const[o,l]=b.useState([]);return{ripples:o,createRipple:u=>{const d=u.currentTarget.getBoundingClientRect(),f=u.clientX-d.left,h=u.clientY-d.top,m=Date.now()+Math.random();l(y=>[...y,{x:f,y:h,id:m}]),setTimeout(()=>{l(y=>y.filter(w=>w.id!==m))},800)}}},i=({ripples:o})=>a.jsx(a.Fragment,{children:o.map(l=>a.jsx(T.div,{className:"absolute bg-black/20 rounded-full pointer-events-none z-10",style:{left:l.x-75,top:l.y-75,width:150,height:150},initial:{scale:0,opacity:.6},animate:{scale:4,opacity:0},transition:{duration:.8,ease:[.4,0,.2,1]}},l.id))});return a.jsxs(T.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,ease:"easeOut"},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.lessons.map((o,l)=>a.jsx(wP,{lesson:o,index:l,loadingContainers:n,onContainerClick:r,onLessonClick:t,useRipple:s,RippleEffect:i},o.id)),e.lessons.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(W,{icon:ar,className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Lessons Yet"}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Start by adding your first lesson to this subject."})]})]})},wP=({lesson:e,index:t,loadingContainers:n,onContainerClick:r,onLessonClick:s,useRipple:i,RippleEffect:o})=>{const{ripples:l,createRipple:c}=i();return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1,duration:.5,ease:"easeOut"},className:"group relative bg-white/95 backdrop-blur-sm rounded-3xl shadow-xl border border-gray-100 overflow-hidden hover:shadow-2xl transition-all duration-300 cursor-pointer",onClick:u=>{c(u),r(e.id,()=>s(e))},children:[a.jsx(o,{ripples:l}),a.jsx(gh,{isLoading:n.has(e.id)}),a.jsxs("div",{className:"relative w-full",style:{aspectRatio:"16/9"},children:[a.jsx("img",{src:e.thumbnailUrl||"https://via.placeholder.com/320x180?text=Lesson",alt:e.title,className:"w-full h-full object-cover transition-all duration-300",onError:u=>{u.currentTarget.src="https://via.placeholder.com/320x180?text=Lesson"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("div",{className:"absolute bottom-3 right-3 bg-black/80 text-white text-xs px-2 py-1 rounded-lg backdrop-blur-sm font-medium",children:[e.videoCount," Videos"]})]}),a.jsxs("div",{className:"p-5",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsx("h3",{className:"font-bold text-gray-900 text-lg line-clamp-2 leading-tight",children:e.title})}),a.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed text-sm line-clamp-3",children:e.description}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(W,{icon:Sn,className:"w-3 h-3"}),a.jsxs("span",{children:[e.videoCount," Videos"]})]})})})]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/3 to-purple-500/3 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none rounded-3xl"})]})},jP=({lesson:e,onVideoClick:t,onEditVideo:n,onDeleteVideo:r,onMoveVideo:s,loadingContainers:i,onContainerClick:o})=>{const l=()=>{const[u,d]=b.useState([]);return{ripples:u,createRipple:h=>{const m=h.currentTarget.getBoundingClientRect(),y=h.clientX-m.left,w=h.clientY-m.top,v=Date.now()+Math.random();d(x=>[...x,{x:y,y:w,id:v}]),setTimeout(()=>{d(x=>x.filter(g=>g.id!==v))},800)}}},c=({ripples:u})=>a.jsx(a.Fragment,{children:u.map(d=>a.jsx(T.div,{className:"absolute bg-black/20 rounded-full pointer-events-none z-10",style:{left:d.x-75,top:d.y-75,width:150,height:150},initial:{scale:0,opacity:.6},animate:{scale:4,opacity:0},transition:{duration:.8,ease:[.4,0,.2,1]}},d.id))});return a.jsxs(T.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,ease:"easeOut"},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.videos.map((u,d)=>a.jsx(NP,{video:u,index:d,lesson:e,loadingContainers:i,onContainerClick:o,onVideoClick:t,onEditVideo:n,onDeleteVideo:r,onMoveVideo:s,useRipple:l,RippleEffect:c},u.id)),e.videos.length===0&&a.jsxs("div",{className:"text-center py-12 col-span-full",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(W,{icon:Sn,className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Videos Yet"}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Start by adding your first video to this lesson."})]})]})},NP=({video:e,index:t,lesson:n,loadingContainers:r,onContainerClick:s,onVideoClick:i,onEditVideo:o,onDeleteVideo:l,onMoveVideo:c,useRipple:u,RippleEffect:d})=>{const{ripples:f,createRipple:h}=u();return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1,duration:.5,ease:"easeOut"},className:"group relative bg-white/95 backdrop-blur-sm rounded-3xl shadow-xl border border-gray-100 overflow-hidden hover:shadow-2xl transition-all duration-300 cursor-pointer",onClick:m=>{h(m),s(e.id,()=>i(e))},children:[a.jsx(d,{ripples:f}),a.jsx(gh,{isLoading:r.has(e.id)}),a.jsxs("div",{className:"relative w-full",style:{aspectRatio:"16/9"},children:[a.jsx("img",{src:e.thumbnail_url||lb(e.youtube_url),alt:e.title,className:"w-full h-full object-cover transition-all duration-300",onError:m=>{m.currentTarget.src="https://via.placeholder.com/320x180?text=Video"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx("div",{className:"absolute bottom-3 right-3 bg-black/80 text-white text-xs px-2 py-1 rounded-lg backdrop-blur-sm font-medium",children:e.duration}),a.jsxs("div",{className:"absolute top-3 left-3 flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:m=>{m.stopPropagation(),o(e)},className:"w-8 h-8 bg-blue-500 hover:bg-blue-600 rounded-lg flex items-center justify-center text-white transition-colors",children:a.jsx(W,{icon:ia,className:"w-3 h-3"})}),a.jsx("button",{onClick:m=>{m.stopPropagation(),l(e.id)},className:"w-8 h-8 bg-red-500 hover:bg-red-600 rounded-lg flex items-center justify-center text-white transition-colors",children:a.jsx(W,{icon:ab,className:"w-3 h-3"})})]}),a.jsxs("div",{className:"absolute top-3 right-3 flex flex-col space-y-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[t>0&&a.jsx("button",{onClick:m=>{m.stopPropagation(),c(e.id,"up")},className:"w-6 h-6 bg-green-500 hover:bg-green-600 rounded flex items-center justify-center text-white transition-colors",children:a.jsx(W,{icon:nP,className:"w-2 h-2"})}),t<n.videos.length-1&&a.jsx("button",{onClick:m=>{m.stopPropagation(),c(e.id,"down")},className:"w-6 h-6 bg-green-500 hover:bg-green-600 rounded flex items-center justify-center text-white transition-colors",children:a.jsx(W,{icon:tP,className:"w-2 h-2"})})]})]}),a.jsxs("div",{className:"p-5",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsx("h3",{className:"font-bold text-gray-900 text-lg line-clamp-2 leading-tight",children:e.title})}),a.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed text-sm line-clamp-3",children:e.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(W,{icon:Sn,className:"w-3 h-3"}),a.jsx("span",{children:e.duration})]}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsxs("span",{children:["Position: ",t+1]})})]}),a.jsx("div",{className:"text-xs text-gray-400 font-medium",children:new Date(e.created_at).toLocaleDateString()})]})]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/3 to-purple-500/3 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none rounded-3xl"})]})},Kc=({items:e,activeTab:t,onNavigate:n})=>a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-md border-t border-gray-200/50 z-50",children:a.jsx("div",{className:"w-full px-4",children:a.jsx("nav",{className:"flex justify-around py-2",children:e.map(r=>a.jsxs(T.button,{whileTap:{scale:.95},onClick:()=>n(r.id),className:`relative flex flex-col items-center py-2 px-3 rounded-xl transition-all duration-200 ${t===r.id?"text-blue-600 bg-blue-50 shadow-lg scale-105":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(W,{icon:r.icon,className:"w-5 h-5 mb-1"}),a.jsx("span",{className:"text-xs font-medium",children:r.name}),t===r.id&&a.jsx(T.div,{layoutId:"activeTab",className:"absolute inset-0 bg-blue-100 rounded-xl -z-10",transition:{type:"spring",stiffness:500,damping:30}})]},r.id))})})}),kP=({onClose:e})=>{const{user:t}=et(),[n,r]=b.useState([]),[s,i]=b.useState(!0),[o,l]=b.useState(new Set);b.useEffect(()=>{c()},[]);const c=async()=>{try{i(!0);const{data:h,error:m}=await Q.from("lesson_requests").select(`
          *,
          requester:users!lesson_requests_user_id_fkey(name, email),
          subject_lessons(title),
          subjects(name)
        `).order("requested_at",{ascending:!1});if(m){console.error("Error loading requests:",m),_.error("Failed to load lesson requests");return}const y=(h==null?void 0:h.map(w=>{var v,x,g,p;return{id:w.id,user_id:w.user_id,lesson_id:w.lesson_id,subject_id:w.subject_id,status:w.status,message:w.message,admin_notes:w.admin_notes,requested_at:w.requested_at,reviewed_at:w.reviewed_at,reviewed_by:w.reviewed_by,user_name:(v=w.requester)==null?void 0:v.name,user_email:(x=w.requester)==null?void 0:x.email,lesson_title:(g=w.subject_lessons)==null?void 0:g.title,subject_name:(p=w.subjects)==null?void 0:p.name}}))||[];r(y)}catch(h){console.error("Error loading requests:",h),_.error("Failed to load lesson requests")}finally{i(!1)}},u=async h=>{if(t!=null&&t.id){l(m=>new Set(m).add(h.id));try{const{data:m,error:y}=await Q.from("user_lesson_access").select("id").eq("user_id",h.user_id).eq("lesson_id",h.lesson_id).maybeSingle();if(y){console.error("Error checking existing access:",y),_.error("Failed to check existing access");return}const{error:w}=await Q.from("lesson_requests").update({status:"approved",reviewed_at:new Date().toISOString(),reviewed_by:t.id}).eq("id",h.id);if(w){console.error("Error updating request:",w),_.error("Failed to approve request");return}if(!m){const{error:v}=await Q.from("user_lesson_access").insert({user_id:h.user_id,lesson_id:h.lesson_id,subject_id:h.subject_id,granted_by:t.id});if(v){console.error("Error granting access:",v),_.error("Failed to grant lesson access");return}}_.success("Request approved and access granted!"),await c(),window.dispatchEvent(new CustomEvent("lessonAccessUpdated",{detail:{userId:h.user_id,lessonId:h.lesson_id}}))}catch(m){console.error("Error approving request:",m),_.error("Failed to approve request")}finally{l(m=>{const y=new Set(m);return y.delete(h.id),y})}}},d=async h=>{if(t!=null&&t.id){l(m=>new Set(m).add(h.id));try{const{error:m}=await Q.from("lesson_requests").update({status:"rejected",reviewed_at:new Date().toISOString(),reviewed_by:t.id}).eq("id",h.id);if(m){console.error("Error rejecting request:",m),_.error("Failed to reject request");return}_.success("Request rejected"),await c()}catch(m){console.error("Error rejecting request:",m),_.error("Failed to reject request")}finally{l(m=>{const y=new Set(m);return y.delete(h.id),y})}}},f=h=>{switch(h){case"pending":return a.jsxs(Ne,{variant:"warning",size:"sm",children:[a.jsx(qs,{className:"w-3 h-3 mr-1"}),"Pending"]});case"approved":return a.jsxs(Ne,{variant:"success",size:"sm",children:[a.jsx(s0,{className:"w-3 h-3 mr-1"}),"Approved"]});case"rejected":return a.jsxs(Ne,{variant:"error",size:"sm",children:[a.jsx(md,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return a.jsx(Ne,{variant:"gray",size:"sm",children:h})}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(i0,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Lesson Access Requests"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Manage user requests for lesson access"})]})]}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(We,{className:"w-6 h-6"})})]})}),a.jsx("div",{className:"p-6",children:s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading requests..."})]}):n.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(i0,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Requests"}),a.jsx("p",{className:"text-gray-600",children:"No lesson access requests have been submitted yet."})]}):a.jsx("div",{className:"space-y-4",children:n.map(h=>a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:a.jsx(x1,{className:"w-4 h-4 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:h.user_name}),a.jsx("p",{className:"text-sm text-gray-600",children:h.user_email})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:[a.jsx("span",{className:"font-medium",children:"Lesson:"})," ",h.lesson_title]}),a.jsxs("p",{className:"text-sm text-gray-700",children:[a.jsx("span",{className:"font-medium",children:"Subject:"})," ",h.subject_name]}),a.jsxs("p",{className:"text-sm text-gray-700",children:[a.jsx("span",{className:"font-medium",children:"Requested:"})," ",new Date(h.requested_at).toLocaleDateString()]})]}),h.message&&a.jsxs("div",{className:"mb-3 p-3 bg-white rounded border border-gray-200",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Message:"}),a.jsx("p",{className:"text-sm text-gray-600",children:h.message})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[f(h.status),h.reviewed_at&&a.jsxs("span",{className:"text-xs text-gray-500",children:["Reviewed on ",new Date(h.reviewed_at).toLocaleDateString()]})]})]}),h.status==="pending"&&a.jsxs("div",{className:"flex space-x-2 ml-4",children:[a.jsxs(K,{size:"sm",onClick:()=>u(h),loading:o.has(h.id),className:"bg-green-600 hover:bg-green-700",children:[a.jsx(s0,{className:"w-4 h-4 mr-1"}),"Approve"]}),a.jsxs(K,{size:"sm",variant:"outline",onClick:()=>d(h),loading:o.has(h.id),className:"border-red-300 text-red-600 hover:bg-red-50",children:[a.jsx(md,{className:"w-4 h-4 mr-1"}),"Reject"]})]})]})},h.id))})})]})})},SP=()=>{const{papers:e,quizzes:t,notifications:n,loading:r,sendBroadcastNotification:s,updateUserRole:i,deletePaper:o,deleteQuiz:l,updateQuiz:c}=hr(),{user:u,signOut:d}=et(),[f,h]=b.useState("dashboard"),[m,y]=b.useState(!1),[w,v]=b.useState(!1),[x,g]=b.useState(!1),[p,N]=b.useState(!1),[j,k]=b.useState(!1),[E,P]=b.useState(null),[R,V]=b.useState({title:"",message:"",priority:"medium",targetAudience:"all",icon:"star"}),[D,S]=b.useState([]),[C,O]=b.useState({totalUsers:0,totalPapers:0,totalQuizzes:0,totalAttempts:0,averageScore:0,activeUsers:0}),[A,M]=b.useState({heroTitle:"Access Your Complete SFT Quiz Bank",heroSubtitle:"Comprehensive study materials and practice tests",featuredSectionTitle:"Featured Subjects "}),[q,I]=b.useState(!1),B=b.useMemo(()=>[{id:"dashboard",name:"Dashboard",icon:Sa},{id:"papers",name:"Papers",icon:Yt},{id:"lessons",name:"Lessons",icon:_a},{id:"notifications",name:"Notifications",icon:Jn},{id:"profile",name:"Profile",icon:ib}],[]);b.useEffect(()=>{F(),G()},[]);const F=b.useCallback(async()=>{try{const{data:z,error:ye}=await Q.from("users").select("*").order("created_at",{ascending:!1});ye?console.error("Error loading users:",ye):S(z||[]);const Ee=(z==null?void 0:z.length)||0,vt=e.length,ce=t.length,Z=(z==null?void 0:z.filter(ee=>{const ue=new Date(ee.updated_at);return(Date.now()-ue.getTime())/(1e3*60*60*24)<=7}).length)||0;O({totalUsers:Ee,totalPapers:vt,totalQuizzes:ce,totalAttempts:0,averageScore:85,activeUsers:Z})}catch(z){console.error("Error loading admin data:",z)}},[e.length,t.length]),G=b.useCallback(async()=>{try{const{data:z,error:ye}=await Q.from("app_texts").select("*").order("created_at",{ascending:!1}).limit(1).single();if(ye&&ye.code!=="PGRST116"){console.error("Error loading app texts:",ye);return}z&&M({heroTitle:z.hero_title||"Access Your Complete SFT Quiz Bank",heroSubtitle:z.hero_subtitle||"Comprehensive study materials and practice tests",featuredSectionTitle:z.featured_section_title||"Featured Subjects "})}catch(z){console.error("Error loading app texts:",z)}},[]),J=b.useCallback(async()=>{if(!R.title||!R.message){_.error("Please fill in all required fields");return}(await s(R)).error||V({title:"",message:"",priority:"medium",targetAudience:"all",icon:"star"})},[R,s]),le=b.useCallback(z=>{P(z),g(!0)},[]),Te=b.useCallback(z=>{c(z.id,z.questions),g(!1),P(null)},[c]),he=b.useCallback(z=>{h(z)},[]),we=b.useCallback(z=>{I(z)},[]);return r?a.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:a.jsxs(T.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6},className:"text-center",children:[a.jsx(T.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading admin dashboard..."})]})}):f==="lessons"?a.jsx(yP,{onNavigate:he,activeTab:f,onPlayerModalToggle:we}):a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsxs("div",{className:"w-full px-4 py-6 pb-24",children:[f==="dashboard"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-700 p-6 text-white",children:[a.jsx("div",{className:"absolute top-4 right-4 w-12 h-12 bg-white/10 rounded-full"}),a.jsx("div",{className:"absolute top-7 right-7 w-6 h-6 bg-white/20 rounded-full"}),a.jsx("div",{className:"absolute bottom-4 right-10 w-3 h-3 bg-white/15 rounded-full"}),a.jsx("div",{className:"relative z-10",children:a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Tecnology A/L Admin"}),a.jsx("p",{className:"text-blue-100 text-sm",children:"Premium Platform Management"})]}),a.jsxs(K,{variant:"outline",size:"sm",onClick:d,className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm lg:hidden",children:[a.jsx(W,{icon:Rr,className:"w-3 h-3 mr-1"}),"Sign Out"]})]})})]}),a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:[{icon:qE,count:C.totalUsers,label:"Total Users",color:"blue"},{icon:Yt,count:C.totalPapers,label:"Papers",color:"green"},{icon:sP,count:C.totalQuizzes,label:"Quizzes",color:"purple"},{icon:ob,count:`${C.averageScore}%`,label:"Avg Score",color:"yellow"},{icon:GE,count:C.activeUsers,label:"Active Users",color:"red"},{icon:Jn,count:n.length,label:"Notifications",color:"indigo"}].map((z,ye)=>a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ye*.1},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-gray-100 shadow-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-2xl font-bold text-${z.color}-600`,children:z.count}),a.jsx("p",{className:"text-sm text-gray-600",children:z.label})]}),a.jsx("div",{className:`w-12 h-12 bg-${z.color}-100 rounded-full flex items-center justify-center`,children:a.jsx(W,{icon:z.icon,className:`w-6 h-6 text-${z.color}-600`})})]})},ye))}),a.jsxs(Ue,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs(K,{onClick:()=>y(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[a.jsx(W,{icon:eP,className:"w-4 h-4 mr-2"}),"Upload Paper"]}),a.jsxs(K,{onClick:()=>v(!0),className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",children:[a.jsx(W,{icon:ll,className:"w-4 h-4 mr-2"}),"Create Quiz"]}),a.jsxs(K,{onClick:()=>N(!0),className:"bg-gradient-to-r from-orange-500 to-amber-600 hover:from-orange-600 hover:to-amber-700",children:[a.jsx(W,{icon:ia,className:"w-4 h-4 mr-2"}),"Customize Texts"]}),a.jsxs(K,{onClick:()=>k(!0),className:"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700",children:[a.jsx(W,{icon:Jn,className:"w-4 h-4 mr-2"}),"Lesson Requests"]})]})]}),a.jsxs(Ue,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Send Broadcast Notification"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),a.jsx("input",{type:"text",value:R.title,onChange:z=>V({...R,title:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Notification title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),a.jsxs("select",{value:R.priority,onChange:z=>V({...R,priority:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),a.jsx("textarea",{value:R.message,onChange:z=>V({...R,message:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Notification message"})]}),a.jsxs(K,{onClick:J,disabled:!R.title||!R.message,className:"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700",children:[a.jsx(W,{icon:rP,className:"w-4 h-4 mr-2"}),"Send Broadcast"]})]})]})]}),f==="papers"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Manage Papers"}),a.jsxs(K,{onClick:()=>y(!0),children:[a.jsx(W,{icon:ll,className:"w-4 h-4 mr-2"}),"Add Paper"]})]}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:e.map(z=>a.jsxs(Ue,{className:"p-4 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:z.title}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ne,{variant:"primary",size:"sm",children:z.subject}),a.jsx(Ne,{variant:"secondary",size:"sm",children:z.year})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{const ye=t.find(Ee=>Ee.paperId===z.id);ye&&le(ye)},className:"text-blue-600 hover:text-blue-800",children:a.jsx(W,{icon:ia,className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>o(z.id),className:"text-red-600 hover:text-red-800",children:a.jsx(W,{icon:ab,className:"w-4 h-4"})})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:z.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsx("span",{children:z.difficulty}),a.jsx("span",{children:z.accessLevel})]})]},z.id))})]}),f==="notifications"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),a.jsx("div",{className:"space-y-4",children:n.map(z=>a.jsx(Ue,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:z.title}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:z.message}),a.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[a.jsx(Ne,{variant:"primary",size:"sm",children:z.type}),a.jsx(Ne,{variant:"secondary",size:"sm",children:z.priority})]})]}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(z.createdAt).toLocaleDateString()})]})},z.id))})]}),f==="profile"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Admin Profile"}),a.jsxs(Ue,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[a.jsx("img",{src:"https://img.freepik.com/premium-vector/user-profile-icon-flat-style-member-avatar-vector-illustration-isolated-background-human-permission-sign-business-concept_157943-15752.jpg",alt:"Admin Avatar",className:"w-16 h-16 rounded-full"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:u==null?void 0:u.name}),a.jsx("p",{className:"text-sm text-gray-600",children:u==null?void 0:u.email}),a.jsx(Ne,{variant:"primary",size:"sm",children:"Administrator"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Account Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," Administrator"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"})," Active"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Last Login:"})," Today"]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Platform Stats"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Papers Created:"})," ",e.length]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Quizzes Created:"})," ",t.length]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Users Managed:"})," ",C.totalUsers]})]})]})]})]})]})]}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-md border-t border-gray-200/50 z-50",children:a.jsx("div",{className:"w-full px-4",children:a.jsx("nav",{className:"flex justify-around py-2",children:B.map(z=>a.jsxs(T.button,{whileTap:{scale:.95},onClick:()=>he(z.id),className:`relative flex flex-col items-center py-2 px-3 rounded-xl transition-all duration-200 ${f===z.id?"text-blue-600 bg-blue-50 shadow-lg scale-105":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(W,{icon:z.icon,className:"w-5 h-5 mb-1"}),a.jsx("span",{className:"text-xs font-medium",children:z.name}),f===z.id&&a.jsx(T.div,{layoutId:"activeTabMobile",className:"absolute inset-0 bg-blue-100 rounded-xl -z-10",transition:{type:"spring",stiffness:500,damping:30}})]},z.id))})})}),a.jsxs(Fe,{children:[m&&a.jsx(aP,{onClose:()=>y(!1)}),w&&a.jsx(oP,{onClose:()=>v(!1)}),x&&E&&a.jsx(lP,{quiz:E,onClose:()=>{g(!1),P(null)},onSave:Te}),p&&a.jsx(cP,{currentTexts:A,onClose:()=>N(!1),onSave:z=>{M(z),N(!1)}}),j&&a.jsx(kP,{onClose:()=>k(!1)})]})]})},_P=({quiz:e,onComplete:t,onExit:n})=>{et();const[r,s]=b.useState(null),[i,o]=b.useState(!0),[l,c]=b.useState(null),[u,d]=b.useState(0),[f,h]=b.useState(!1),[m,y]=b.useState(!1),[w,v]=b.useState(""),x=b.useCallback(()=>{const C={quiz:e,currentQuestionIndex:0,responses:[],startTime:new Date,timeRemaining:e.timeLimit*60,isCompleted:!1};s(C),d(C.timeRemaining),o(!1),c(null)},[e]);b.useEffect(()=>{if(!r||r.isCompleted||i)return;const C=setInterval(()=>{d(O=>O<=1?(g(),0):O-1)},1e3);return()=>clearInterval(C)},[r,i]);const g=b.useCallback(()=>{if(!r)return;l!==null&&N();const C={...r,isCompleted:!0,timeRemaining:0};s(C),t(C),_.error("Time's up! Paper submitted automatically.")},[r,l,t]),p=C=>{c(C)},N=()=>{if(!r||l===null)return;const C=r.quiz.questions[r.currentQuestionIndex],O=l===C.correctAnswer,A={questionId:C.id,selectedAnswer:l,isCorrect:O,timeSpent:30},M=[...r.responses,A];if(r.currentQuestionIndex<r.quiz.questions.length-1)s({...r,currentQuestionIndex:r.currentQuestionIndex+1,responses:M}),c(null);else{const q={...r,responses:M,isCompleted:!0,timeRemaining:u};s(q),t(q)}},j=()=>{if(!r||l===null)return;const C=r.quiz.questions[r.currentQuestionIndex],O=l===C.correctAnswer,A={questionId:C.id,selectedAnswer:l,isCorrect:O,timeSpent:30},M=[...r.responses,A],q={...r,responses:M,isCompleted:!0,timeRemaining:u};s(q),t(q)},k=()=>{if(!r||r.currentQuestionIndex===0)return;const C=r.currentQuestionIndex-1,O=r.responses[C],A=r.responses.slice(0,r.currentQuestionIndex);s({...r,currentQuestionIndex:r.currentQuestionIndex-1,responses:A}),c((O==null?void 0:O.selectedAnswer)??null)},E=C=>{const O=Math.floor(C/60),A=C%60;return`${O.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}`},P=()=>{r&&!r.isCompleted?h(!0):n()},R=()=>{h(!1),n()},V=C=>{v(C),y(!0)};if(i){const C=e.introduction||{title:" ",subtitle:"Paper Introduction",instructions:["   .","   50 ."," (1) (2) (3) (4) (5)     ,     Dot ()  Click ."],buttonText:"Start"};return a.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:a.jsx(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-sm w-full",children:a.jsxs("div",{className:"p-6 text-left bg-white border border-gray-200 rounded-3xl shadow-lg relative overflow-hidden",children:[a.jsx("button",{onClick:n,className:"absolute top-4 right-4 w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors",children:a.jsx(We,{className:"w-4 h-4 text-gray-600"})}),a.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-4 font-sinhala pr-8",children:C.title}),a.jsx("div",{className:"w-full h-px bg-gray-200 mb-4"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4 font-sinhala",children:C.subtitle}),a.jsx("div",{className:"space-y-3 mb-6",children:C.instructions.map((O,A)=>a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0",children:""}),a.jsx("p",{className:"text-sm text-gray-700 font-sinhala leading-relaxed",children:O})]},A))}),a.jsx(K,{onClick:x,className:"w-full bg-blue-600 hover:bg-blue-700 text-white rounded-2xl py-3 text-base font-semibold font-sinhala shadow-lg hover:shadow-xl transition-all duration-300",children:C.buttonText})]})})})}if(!r)return null;const D=r.quiz.questions[r.currentQuestionIndex],S=r.currentQuestionIndex===r.quiz.questions.length-1;return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("div",{className:"px-4 py-4",children:a.jsx("button",{onClick:P,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:a.jsx(We,{className:"w-6 h-6 text-gray-700"})})}),a.jsx("div",{className:"px-4 pb-32",children:a.jsx(Fe,{mode:"wait",children:a.jsxs(T.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"space-y-6",children:[a.jsx("div",{className:"text-center",children:a.jsxs("span",{className:"inline-block px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold",children:["Question ",r.currentQuestionIndex+1," of ",r.quiz.questions.length]})}),D.imageUrl&&a.jsx("div",{className:"relative bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-200",children:a.jsx("img",{src:D.imageUrl,alt:"Question illustration",className:"w-full h-auto max-h-64 sm:max-h-80 md:max-h-96 object-contain cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>V(D.imageUrl),onError:C=>{C.currentTarget.style.display="none"}})}),a.jsx("div",{className:"px-2",children:a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 leading-tight mb-6",children:D.question})}),a.jsx("div",{className:"space-y-3",children:D.options.slice(0,5).map((C,O)=>a.jsx(T.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>p(O),className:`w-full p-4 text-left rounded-2xl transition-all duration-200 ${l===O?"bg-blue-100 border-2 border-blue-500":"bg-gray-50 border-2 border-transparent hover:bg-gray-100"}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center font-bold text-sm ${l===O?"border-blue-500 bg-blue-500 text-white":"border-gray-300 text-gray-600"}`,children:String.fromCharCode(49+O)}),a.jsx("span",{className:"text-base font-medium text-gray-900 flex-1",children:C}),a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${l===O?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:l===O&&a.jsx(T.div,{initial:{scale:0},animate:{scale:1},className:"w-2 h-2 bg-white rounded-full"})})]})},O))})]},r.currentQuestionIndex)})}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white px-4 py-4 border-t border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:k,disabled:r.currentQuestionIndex===0,className:"p-3 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(a6,{className:"w-5 h-5 text-gray-700"})}),S?a.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:j,disabled:l===null,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-full font-semibold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[a.jsx(g6,{className:"w-4 h-4"}),a.jsx("span",{children:"Submit Paper"})]}):a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:N,disabled:l===null,className:"p-3 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(o6,{className:"w-5 h-5 text-gray-700"})})]})}),a.jsx("div",{className:"fixed top-20 right-4 bg-white/90 backdrop-blur-sm rounded-full px-3 py-2 shadow-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(qs,{className:"w-4 h-4 text-gray-600"}),a.jsx("span",{className:`font-mono font-bold text-sm ${u<300?"text-red-600":"text-gray-900"}`,children:E(u)})]})}),a.jsx(Fe,{children:m&&a.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:a.jsxs(T.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"relative max-w-full max-h-full",children:[a.jsx("button",{onClick:()=>y(!1),className:"absolute top-4 right-4 w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-colors z-10",children:a.jsx(We,{className:"w-6 h-6"})}),a.jsx("img",{src:w,alt:"Full size question image",className:"max-w-full max-h-full object-contain rounded-lg",onClick:()=>y(!1)})]})})}),a.jsx(Fe,{children:f&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsx(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl p-6 max-w-sm w-full shadow-2xl",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 text-amber-500 mx-auto mb-4",children:""}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Exit Paper?"}),a.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Your progress will be lost if you exit now. Are you sure?"}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(K,{variant:"outline",onClick:()=>h(!1),className:"flex-1",size:"sm",children:"Continue Paper"}),a.jsx(K,{variant:"danger",onClick:R,className:"flex-1",size:"sm",children:"Exit Paper"})]})]})})})})]})},CP=({session:e,onRetry:t,onHome:n})=>{const{quiz:r,responses:s}=e,i=s.filter(x=>x.isCorrect).length,o=r.questions.length,l=r.questions.reduce((x,g)=>x+g.points,0),c=s.reduce((x,g)=>{const p=r.questions.find(N=>N.id===g.questionId);return x+(g.isCorrect&&(p==null?void 0:p.points)||0)},0),d=Math.round(c/l*100)>=r.passingScore,f=Math.round((new Date().getTime()-e.startTime.getTime())/1e3),h=Math.floor(f/60),m=f%60,w=i>=45?{grade:"A+",color:"text-green-600",bg:"bg-green-100",icon:g1}:i>=40?{grade:"A",color:"text-green-600",bg:"bg-green-100",icon:s6}:i>=35?{grade:"B",color:"text-blue-600",bg:"bg-blue-100",icon:h6}:i>=30?{grade:"C",color:"text-yellow-600",bg:"bg-yellow-100",icon:sh}:{grade:"S",color:"text-red-600",bg:"bg-red-100",icon:p1},v=w.icon;return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:a.jsx(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-sm w-full",children:a.jsxs(Ue,{className:"p-6 bg-white/90 backdrop-blur-xl border border-gray-100 rounded-3xl shadow-2xl",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsxs(T.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.6,type:"spring",stiffness:150},className:`inline-flex items-center justify-center w-32 h-32 rounded-full ${w.bg} mb-3 relative`,children:[a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:`text-2xl font-bold ${w.color} block`,children:i}),a.jsxs("span",{className:`text-lg font-medium ${w.color} block`,children:["/ ",o]}),a.jsx("span",{className:`text-sm ${w.color}`,children:"Correct"})]}),a.jsx(T.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.8},className:"absolute -top-2 -right-2",children:a.jsx(v,{className:`w-6 h-6 ${w.color}`})})]}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[a.jsxs(Ne,{variant:d?"success":"error",className:"text-sm px-3 py-1",children:["Grade: ",w.grade]}),a.jsx(Ne,{variant:d?"success":"error",children:d?"PASSED":"FAILED"})]})]}),a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-gradient-to-r from-gray-50 to-blue-50 rounded-2xl p-4 mb-6 border border-gray-100",children:a.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{icon:xo,count:i,label:"Correct",color:"green"},{icon:md,count:o-i,label:"Wrong",color:"red"},{icon:qs,count:`${h}:${m.toString().padStart(2,"0")}`,label:"Time",color:"blue"}].map((x,g)=>a.jsxs(T.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8+g*.1},className:"text-center p-3 bg-white rounded-xl border border-gray-100 shadow-sm",children:[a.jsx(x.icon,{className:`w-6 h-6 text-${x.color}-600 mx-auto mb-2`}),a.jsx("p",{className:`text-lg font-bold text-${x.color}-600`,children:x.count}),a.jsx("p",{className:"text-xs text-gray-600",children:x.label})]},g))})}),a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"space-y-3",children:a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs(K,{variant:"outline",onClick:n,className:"text-sm py-3",size:"sm",children:[a.jsx(u6,{className:"w-4 h-4 mr-2"}),"Home"]}),a.jsxs(K,{onClick:t,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white text-sm py-3",size:"sm",children:[a.jsx(p6,{className:"w-4 h-4 mr-2"}),"Retry"]})]})})]})})})},EP=()=>a.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"loader mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading My Lessons..."}),a.jsx("style",{jsx:!0,children:`
        .loader {
          width: fit-content;
          font-size: 40px;
          font-family: monospace;
          font-weight: bold;
          text-transform: uppercase;
          color: #0000;
          -webkit-text-stroke: 1px #000;
          --g: conic-gradient(#000 0 0) no-repeat text;
          background: var(--g) 0, var(--g) 1ch, var(--g) 2ch, var(--g) 3ch, var(--g) 4ch, var(--g) 5ch, var(--g) 6ch;
          animation: l17-0 1s linear infinite alternate, l17-1 2s linear infinite;
        }
        .loader:before {
          content: "Loading";
        }
        @keyframes l17-0 {
          0% { background-size: 1ch 0; }
          100% { background-size: 1ch 100%; }
        }
        @keyframes l17-1 {
          0%, 50% { background-position-y: 100%, 0; }
          50.01%, to { background-position-y: 0, 100%; }
        }
      `})]})}),yh=()=>{const[e,t]=b.useState([]);return{ripples:e,createRipple:r=>{const s=r.currentTarget.getBoundingClientRect(),i=r.clientX-s.left,o=r.clientY-s.top,l=Date.now()+Math.random();t(c=>[...c,{x:i,y:o,id:l}]),setTimeout(()=>{t(c=>c.filter(u=>u.id!==l))},800)}}},xh=({ripples:e})=>a.jsx(a.Fragment,{children:e.map(t=>a.jsx(T.div,{className:"absolute bg-gradient-to-r from-blue-400/30 via-purple-400/30 to-pink-400/30 rounded-full pointer-events-none z-20",style:{left:t.x-100,top:t.y-100,width:200,height:200},initial:{scale:0,opacity:.8},animate:{scale:3,opacity:0},transition:{duration:.8,ease:[.4,0,.2,1]}},t.id))}),vh=({isLoading:e})=>a.jsx(Fe,{children:e&&a.jsx(T.div,{initial:{width:0},animate:{width:"100%"},exit:{width:0},transition:{duration:.6,ease:"easeInOut"},className:"absolute bottom-0 left-0 h-1 bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 z-30 shadow-lg",style:{boxShadow:"0 0 10px rgba(59, 130, 246, 0.5)"}})}),PP=({videoUrl:e,title:t,onClose:n})=>{const s=(i=>{const o=[/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/,/youtube\.com\/live\/([^&\n?#]+)/,/youtube\.com\/embed\/([^&\n?#]+)/];for(const l of o){const c=i.match(l);if(c)return c[1]}return""})(e);return nn.useEffect(()=>{const i=o=>{o.key==="Escape"&&n()};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[n]),a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black z-[100] flex items-center justify-center",onClick:n,children:a.jsxs(T.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"w-full h-full relative",onClick:i=>i.stopPropagation(),children:[a.jsx("iframe",{src:`https://www.youtube.com/embed/${s}?autoplay=1&controls=1&rel=0&modestbranding=1&iv_load_policy=3&playsinline=1`,className:"w-full h-full border-0",allowFullScreen:!0,allow:"autoplay; encrypted-media; picture-in-picture",title:t}),a.jsx("button",{onClick:n,className:"absolute top-4 right-4 w-12 h-12 bg-black/50 hover:bg-black/70 rounded-full flex items-center justify-center text-white transition-colors z-10",children:""})]})})},TP=({onNavigate:e,activeTab:t,onPlayerModalToggle:n})=>{hr();const{user:r,signOut:s}=et(),[i,o]=b.useState(!1),[l,c]=b.useState(null),[u,d]=b.useState(null),[f,h]=b.useState(null),[m,y]=b.useState("subjects"),[w,v]=b.useState([]),[x,g]=b.useState(new Set),[p,N]=b.useState(!0),[j,k]=b.useState(new Set),[E,P]=b.useState(!1),R=b.useCallback(()=>[{id:"sft",name:"SFT",description:"Science for Technology - Core scientific principles",icon:"",color:"from-green-500 to-emerald-600",imageUrl:"https://images.pexels.com/photos/2280571/pexels-photo-2280571.jpeg",lessonCount:0,lessons:[]},{id:"et",name:"ET",description:"Engineering Technology - Applied engineering concepts",icon:"",color:"from-orange-500 to-amber-600",imageUrl:"https://images.pexels.com/photos/159298/gears-cogs-machine-machinery-159298.jpeg",lessonCount:0,lessons:[]},{id:"ict",name:"ICT",description:"Information & Communication Technology",icon:"",color:"from-blue-500 to-indigo-600",imageUrl:"https://images.pexels.com/photos/546819/pexels-photo-546819.jpeg",lessonCount:0,lessons:[]}],[]),V=b.useCallback(async()=>{if(r!=null&&r.id)try{const{data:F,error:G}=await Q.from("user_lesson_access").select("lesson_id").eq("user_id",r.id);if(G){console.error("Error loading user access:",G);return}const J=new Set((F==null?void 0:F.map(le=>le.lesson_id))||[]);return g(J),console.log("Enhanced Feed - User access loaded:",J.size,"lessons"),J}catch(F){return console.error("Error loading user access:",F),g(new Set),new Set}},[r==null?void 0:r.id]),D=b.useCallback(async()=>{if(r!=null&&r.id)try{N(!0);const{data:F,error:G}=await Q.from("subjects").select("*").order("created_at",{ascending:!0});if(G){console.log("EnhancedFeedPage - Subjects table error, using default subjects:",G),v(R),N(!1),N(!1);return}const{data:J,error:le}=await Q.from("subject_lessons").select("*").order("created_at",{ascending:!0});le&&console.error("EnhancedFeedPage - Error loading lessons:",le);const{data:Te,error:he}=await Q.from("lesson_videos").select("*").order("position",{ascending:!0});he&&console.error("EnhancedFeedPage - Error loading videos:",he);const we=(F||R()).map(z=>{const ye=(J||[]).filter(Ee=>Ee.subject_id===z.id).filter(Ee=>x.has(Ee.id)).map(Ee=>{const vt=(Te||[]).filter(ce=>ce.lesson_id===Ee.id).map((ce,Z)=>({id:ce.id,title:ce.title,description:ce.description,youtube_url:ce.youtube_url,thumbnail_url:ce.thumbnail_url,duration:ce.duration,lessonId:Ee.id,subjectId:z.id,created_at:ce.created_at,position:ce.position||Z}));return{id:Ee.id,title:Ee.title,description:Ee.description,subjectId:z.id,thumbnailUrl:Ee.thumbnail_url,videoCount:vt.length,videos:vt.sort((ce,Z)=>(ce.position||0)-(Z.position||0))}});return{id:z.id,name:z.name,description:z.description,icon:z.icon,color:z.color,imageUrl:z.image_url,lessonCount:ye.length,lessons:ye}});v(we)}catch(F){console.error("Error loading data:",F),v(R),v(R)}finally{N(!1),P(!0)}},[r==null?void 0:r.id,x,R]);b.useEffect(()=>{r!=null&&r.id&&!E&&(console.log("EnhancedFeedPage - Initial data load for user:",r.id),V().then(()=>{console.log("EnhancedFeedPage - User access loaded, now loading subjects")}))},[r==null?void 0:r.id,E]),b.useEffect(()=>{r!=null&&r.id&&x.size>=0&&(console.log("EnhancedFeedPage - Loading subjects with access data. Access:",x.size),D())},[r==null?void 0:r.id,x,D]),b.useEffect(()=>{const F=G=>{const{userId:J,lessonId:le}=G.detail;J===(r==null?void 0:r.id)&&(console.log("EnhancedFeedPage - Lesson access updated, refreshing data"),P(!1),V().then(()=>{console.log("EnhancedFeedPage - Access refreshed after update")}))};return window.addEventListener("lessonAccessUpdated",F),()=>{window.removeEventListener("lessonAccessUpdated",F)}},[r==null?void 0:r.id,V]),b.useEffect(()=>{const F=()=>{!document.hidden&&(r!=null&&r.id)&&document.visibilityState==="visible"&&(console.log("EnhancedFeedPage - Page became visible, refreshing data"),P(!1),V().then(()=>{console.log("EnhancedFeedPage - Data refreshed on visibility change")}))};return document.addEventListener("visibilitychange",F),()=>document.removeEventListener("visibilitychange",F)},[r==null?void 0:r.id,V]);const S=F=>{c(F),o(!0),n==null||n(!0)},C=()=>{o(!1),c(null),n==null||n(!1)},O=(F,G)=>{k(J=>new Set(J).add(F)),setTimeout(()=>{k(J=>{const le=new Set(J);return le.delete(F),le}),G()},600)},A=F=>{d(F),y("lessons")},M=F=>{h(F),y("videos")},q=()=>{d(null),h(null),y("subjects")},I=()=>{h(null),y("lessons")};if(p)return a.jsx(EP,{});const B=[{id:"home",name:"Home",icon:Sa},{id:"recent",name:"Recent",icon:Yt},{id:"lessons",name:"Lessons",icon:_a},{id:"my-lessons",name:"My Lessons",icon:ar},{id:"notifications",name:"Notifications",icon:Jn}];return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsxs("div",{className:"w-full px-4 py-6 pb-24",children:[a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[m!=="subjects"&&a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:m==="videos"?I:q,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(W,{icon:ol,className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{children:[m==="subjects"&&a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Premium Learning Content"}),m==="lessons"&&u&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[u.name," Premium Lessons"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[u.lessons.length," lessons available"]})]}),m==="videos"&&f&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[f.title," - Premium Content"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[f.videos.length," videos available"]})]})]})]}),a.jsxs(K,{variant:"outline",size:"sm",onClick:s,className:"border-gray-300 text-gray-700 hover:bg-gray-50 text-sm px-4 py-2",children:[a.jsx(W,{icon:Rr,className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),a.jsxs(Fe,{mode:"wait",children:[m==="subjects"&&a.jsx(AP,{subjects:w,onSubjectClick:A,loadingContainers:j,onContainerClick:O}),m==="lessons"&&u&&a.jsx(LP,{subject:u,onLessonClick:M,loadingContainers:j,onContainerClick:O}),m==="videos"&&f&&a.jsx(RP,{lesson:f,onVideoClick:S,loadingContainers:j,onContainerClick:O})]})]}),a.jsx(Fe,{children:i&&l&&a.jsx(PP,{videoUrl:l.youtube_url,title:l.title,onClose:C})}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-md border-t border-gray-200/50 z-50",children:a.jsx("div",{className:"w-full px-4",children:a.jsx("nav",{className:"flex justify-around py-2",children:B.map(F=>a.jsxs(T.button,{whileTap:{scale:.95},onClick:()=>e(F.id),className:`relative flex flex-col items-center py-2 px-3 rounded-xl transition-all duration-200 ${t===F.id?"text-blue-600 bg-blue-50 shadow-lg scale-105":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(W,{icon:F.icon,className:"w-5 h-5 mb-1"}),a.jsx("span",{className:"text-xs font-medium",children:F.name}),t===F.id&&a.jsx(T.div,{layoutId:"activeTab",className:"absolute inset-0 bg-blue-100 rounded-xl -z-10",transition:{type:"spring",stiffness:500,damping:30}})]},F.id))})})})]})},AP=({subjects:e,onSubjectClick:t,loadingContainers:n,onContainerClick:r})=>{const{ripples:s,createRipple:i}=yh(),o=["bg-gradient-to-br from-white to-gray-50 border-gray-100","bg-gradient-to-br from-white to-gray-50 border-gray-100","bg-gradient-to-br from-white to-gray-50 border-gray-100","bg-gradient-to-br from-white to-gray-50 border-gray-100","bg-gradient-to-br from-white to-gray-50 border-gray-100","bg-gradient-to-br from-white to-gray-50 border-gray-100"];return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((l,c)=>a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},className:`group relative ${o[c%o.length]} rounded-3xl shadow-xl border-2 overflow-hidden hover:shadow-2xl transition-all duration-300 cursor-pointer`,onClick:u=>{i(u),r(l.id,()=>t(l))},whileHover:{scale:1.02},whileTap:{scale:.98},children:[a.jsx(xh,{ripples:s}),a.jsx(vh,{isLoading:n.has(l.id)}),a.jsxs("div",{className:"relative w-full",style:{aspectRatio:"16/9"},children:[a.jsx("img",{src:l.imageUrl,alt:l.name,className:"w-full h-full object-cover",loading:"eager",onError:u=>{u.currentTarget.src="https://via.placeholder.com/320x180?text=Subject"}}),a.jsxs("div",{className:"absolute bottom-3 right-3 bg-black/80 text-white text-xs px-3 py-1.5 rounded-lg backdrop-blur-sm font-medium",children:[l.lessonCount," Lessons"]})]}),a.jsxs("div",{className:"p-5",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsx("h3",{className:"font-bold text-gray-900 text-lg line-clamp-1 leading-tight",children:l.name})}),a.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed text-sm line-clamp-2",children:l.description}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx("span",{className:`px-3 py-1 bg-gradient-to-r ${l.color} text-white rounded-full font-semibold text-xs`,children:l.name}),a.jsxs("span",{children:[l.lessonCount," Lessons"]})]})})]})]},l.id))})},LP=({subject:e,onLessonClick:t,loadingContainers:n,onContainerClick:r})=>{const{ripples:s,createRipple:i}=yh(),o=["bg-gradient-to-br from-slate-50 to-gray-100 border-slate-200","bg-gradient-to-br from-zinc-50 to-stone-100 border-zinc-200","bg-gradient-to-br from-neutral-50 to-gray-100 border-neutral-200"];return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.lessons.map((l,c)=>a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},className:`group relative ${o[c%o.length]} rounded-3xl shadow-xl border-2 overflow-hidden hover:shadow-2xl transition-all duration-300 cursor-pointer`,onClick:u=>{i(u),r(l.id,()=>t(l))},whileHover:{scale:1.02},whileTap:{scale:.98},children:[a.jsx(xh,{ripples:s}),a.jsx(vh,{isLoading:n.has(l.id)}),a.jsxs("div",{className:"relative w-full",style:{aspectRatio:"16/9"},children:[a.jsx("img",{src:l.thumbnailUrl||"https://via.placeholder.com/320x180?text=Lesson",alt:l.title,className:"w-full h-full object-cover",loading:"eager",onError:u=>{u.currentTarget.src="https://via.placeholder.com/320x180?text=Lesson"}}),a.jsxs("div",{className:"absolute bottom-3 right-3 bg-black/80 text-white text-xs px-3 py-1.5 rounded-lg backdrop-blur-sm font-medium",children:[l.videoCount," Videos"]})]}),a.jsxs("div",{className:"p-5",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsx("h3",{className:"font-bold text-gray-900 text-lg line-clamp-1 leading-tight",children:l.title})}),a.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed text-sm line-clamp-2",children:l.description}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx(W,{icon:Sn,className:"w-3 h-3"}),a.jsxs("span",{children:[l.videoCount," Videos"]})]})})]})]},l.id)),e.lessons.length===0&&a.jsxs("div",{className:"text-center py-12 col-span-full",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(W,{icon:ar,className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Lessons Available"}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"You haven't acquired any lessons for this subject yet."})]})]})},RP=({lesson:e,onVideoClick:t,loadingContainers:n,onContainerClick:r})=>{const{ripples:s,createRipple:i}=yh(),o=["bg-white border-gray-200","bg-white border-gray-200","bg-white border-gray-200","bg-white border-gray-200","bg-white border-gray-200","bg-white border-gray-200"];return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.videos.map((l,c)=>a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},className:`group relative ${o[c%o.length]} rounded-2xl shadow-lg border overflow-hidden hover:shadow-xl transition-all duration-300 cursor-pointer`,onClick:u=>{i(u),r(l.id,()=>t(l))},whileHover:{scale:1.02},whileTap:{scale:.98},children:[a.jsx(xh,{ripples:s}),a.jsx(vh,{isLoading:n.has(l.id)}),a.jsxs("div",{className:"relative w-full",style:{aspectRatio:"16/9"},children:[a.jsx("img",{src:l.thumbnail_url||lb(l.youtube_url),alt:l.title,className:"w-full h-full object-cover",loading:"eager",onError:u=>{u.currentTarget.src="https://via.placeholder.com/320x180?text=Video"}}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:a.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center shadow-lg backdrop-blur-sm",children:a.jsx(W,{icon:Sn,className:"w-6 h-6 text-white ml-1"})})})]}),a.jsxs("div",{className:"p-5",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsx("h3",{className:"font-semibold text-gray-900 text-base line-clamp-2 leading-tight",children:l.title})}),a.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed text-sm line-clamp-3",children:l.description})]})]},l.id)),e.videos.length===0&&a.jsxs("div",{className:"text-center py-12 col-span-full",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(W,{icon:Sn,className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Videos Yet"}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"This lesson doesn't have any videos yet."})]})]})},IP=()=>a.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"loader mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading Available Lessons..."}),a.jsx("style",{jsx:!0,children:`
        .loader {
          width: fit-content;
          font-size: 40px;
          font-family: monospace;
          font-weight: bold;
          text-transform: uppercase;
          color: #0000;
          -webkit-text-stroke: 1px #000;
          --g: conic-gradient(#000 0 0) no-repeat text;
          background: var(--g) 0, var(--g) 1ch, var(--g) 2ch, var(--g) 3ch, var(--g) 4ch, var(--g) 5ch, var(--g) 6ch;
          animation: l17-0 1s linear infinite alternate, l17-1 2s linear infinite;
        }
        .loader:before {
          content: "Loading";
        }
        @keyframes l17-0 {
          0% { background-size: 1ch 0; }
          100% { background-size: 1ch 100%; }
        }
        @keyframes l17-1 {
          0%, 50% { background-position-y: 100%, 0; }
          50.01%, to { background-position-y: 0, 100%; }
        }
      `})]})}),cb=()=>{const[e,t]=b.useState([]);return{ripples:e,createRipple:r=>{const s=r.currentTarget.getBoundingClientRect(),i=r.clientX-s.left,o=r.clientY-s.top,l=Date.now()+Math.random();t(c=>[...c,{x:i,y:o,id:l}]),setTimeout(()=>{t(c=>c.filter(u=>u.id!==l))},800)}}},ub=({ripples:e})=>a.jsx(a.Fragment,{children:e.map(t=>a.jsx(T.div,{className:"absolute bg-gradient-to-r from-blue-400/30 via-purple-400/30 to-pink-400/30 rounded-full pointer-events-none z-20",style:{left:t.x-100,top:t.y-100,width:200,height:200},initial:{scale:0,opacity:.8},animate:{scale:3,opacity:0},transition:{duration:.8,ease:[.4,0,.2,1]}},t.id))}),db=({isLoading:e})=>a.jsx(Fe,{children:e&&a.jsx(T.div,{initial:{width:0},animate:{width:"100%"},exit:{width:0},transition:{duration:.6,ease:"easeInOut"},className:"absolute bottom-0 left-0 h-1 bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 z-30 shadow-lg",style:{boxShadow:"0 0 10px rgba(59, 130, 246, 0.5)"}})}),OP=({lesson:e,onClose:t,onSubmit:n})=>{const[r,s]=b.useState(""),[i,o]=b.useState(!1),l=async c=>{c.preventDefault(),o(!0);try{await n(r),t()}catch(u){console.error("Error submitting request:",u)}finally{o(!1)}};return a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Request Access"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:""})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:e.title}),a.jsx("p",{className:"text-sm text-gray-600",children:e.description})]}),a.jsxs("form",{onSubmit:l,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message (Optional)"}),a.jsx("textarea",{value:r,onChange:c=>s(c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Why do you want access to this lesson?"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(K,{type:"button",variant:"outline",onClick:t,disabled:i,className:"flex-1",children:"Cancel"}),a.jsx(K,{type:"submit",loading:i,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Request Access"})]})]})]})})},MP=({onNavigate:e,activeTab:t})=>{hr();const{user:n,signOut:r}=et(),[s,i]=b.useState(null);b.useState(null);const[o,l]=b.useState("subjects"),[c,u]=b.useState([]),[d,f]=b.useState(new Set),[h,m]=b.useState(new Map),[y,w]=b.useState(!0),[v,x]=b.useState(new Set),[g,p]=b.useState(!1),[N,j]=b.useState(null),k=b.useCallback(async()=>{if(n!=null&&n.id){console.log("LessonsPage - Loading user access for user:",n.id);try{const{data:M,error:q}=await Q.from("user_lesson_access").select("lesson_id").eq("user_id",n.id);if(q){console.error("LessonsPage - Error loading user access:",q);return}const I=new Set((M==null?void 0:M.map(B=>B.lesson_id))||[]);f(I),console.log("User access loaded:",I.size,"lessons")}catch(M){console.error("Error loading user access:",M),f(new Set)}}},[n==null?void 0:n.id]),E=b.useCallback(async()=>{if(n!=null&&n.id){console.log("LessonsPage - Loading user requests for user:",n.id);try{const{data:M,error:q}=await Q.from("lesson_requests").select("lesson_id, status").eq("user_id",n.id);if(q){console.error("LessonsPage - Error loading user requests:",q);return}const I=new Map((M==null?void 0:M.map(B=>[B.lesson_id,B.status]))||[]);m(I),console.log("User requests loaded:",I.size,"requests")}catch(M){console.error("Error loading user requests:",M),m(new Map)}}},[n==null?void 0:n.id]),P=b.useCallback(async()=>{if(n!=null&&n.id)try{w(!0),console.log("Loading subjects...");const{data:M,error:q}=await Q.from("subjects").select("*").order("created_at",{ascending:!0});if(q){console.log("LessonsPage - Subjects table error, using default subjects:",q),u(R()),w(!1),w(!1);return}const{data:I,error:B}=await Q.from("subject_lessons").select("*").order("created_at",{ascending:!0});B&&console.error("LessonsPage - Error loading lessons:",B);const{data:F,error:G}=await Q.from("lesson_videos").select("*").order("position",{ascending:!0});G&&console.error("LessonsPage - Error loading videos:",G);const J=(M||R()).map(le=>{const Te=(I||[]).filter(he=>he.subject_id===le.id).map(he=>{const we=(F||[]).filter(z=>z.lesson_id===he.id).map((z,ye)=>({id:z.id,title:z.title,description:z.description,youtube_url:z.youtube_url,thumbnail_url:z.thumbnail_url,duration:z.duration,lessonId:he.id,subjectId:le.id,created_at:z.created_at,position:z.position||ye}));return{id:he.id,title:he.title,description:he.description,subjectId:le.id,thumbnailUrl:he.thumbnail_url,videoCount:we.length,videos:we.sort((z,ye)=>(z.position||0)-(ye.position||0)),hasAccess:d.has(he.id),requestStatus:h.get(he.id)||"none"}});return{id:le.id,name:le.name,description:le.description,icon:le.icon,color:le.color,imageUrl:le.image_url,lessonCount:Te.length,lessons:Te}});u(J)}catch(M){console.error("Error loading data:",M),u(R()),u(R())}finally{w(!1)}},[n==null?void 0:n.id,d,h]);b.useEffect(()=>{n!=null&&n.id&&(E(),E())},[n==null?void 0:n.id,k,E]),b.useEffect(()=>{n!=null&&n.id&&(console.log("LessonsPage - Loading subjects with access data. Access:",d.size,"Requests:",h.size),P())},[n==null?void 0:n.id,d,h,P]),b.useEffect(()=>{n!=null&&n.id&&(d.size>0||h.size>=0)&&(console.log("LessonsPage - Access data changed, reloading subjects"),P())},[d,h]),b.useEffect(()=>{const M=q=>{const{userId:I,lessonId:B}=q.detail;I===(n==null?void 0:n.id)&&(console.log("Lesson access updated, refreshing data"),setTimeout(()=>{k(),E()},1e3))};return window.addEventListener("lessonAccessUpdated",M),()=>{window.removeEventListener("lessonAccessUpdated",M)}},[n==null?void 0:n.id,k,E]),b.useEffect(()=>{const M=()=>{!document.hidden&&(n!=null&&n.id)&&document.visibilityState==="visible"&&(console.log("Page became visible, refreshing data"),k(),E())};return document.addEventListener("visibilitychange",M),()=>document.removeEventListener("visibilitychange",M)},[n==null?void 0:n.id,k,E]),b.useEffect(()=>{const M=setInterval(()=>{!document.hidden&&(n!=null&&n.id)&&(console.log("Periodic refresh"),k(),E())},6e4);return()=>clearInterval(M)},[n==null?void 0:n.id,k,E]);const R=()=>[{id:"sft",name:"SFT",description:"Science for Technology - Core scientific principles",icon:"",color:"from-green-500 to-emerald-600",imageUrl:"https://images.pexels.com/photos/2280571/pexels-photo-2280571.jpeg",lessonCount:0,lessons:[]},{id:"et",name:"ET",description:"Engineering Technology - Applied engineering concepts",icon:"",color:"from-orange-500 to-amber-600",imageUrl:"https://images.pexels.com/photos/159298/gears-cogs-machine-machinery-159298.jpeg",lessonCount:0,lessons:[]},{id:"ict",name:"ICT",description:"Information & Communication Technology",icon:"",color:"from-blue-500 to-indigo-600",imageUrl:"https://images.pexels.com/photos/546819/pexels-photo-546819.jpeg",lessonCount:0,lessons:[]}],V=async M=>{j(M),p(!0)},D=async M=>{if(!(!(n!=null&&n.id)||!N))try{const{error:q}=await Q.from("lesson_requests").insert({user_id:n.id,lesson_id:N.id,subject_id:N.subjectId,message:M||null,status:"pending"});if(q){console.error("Error submitting request:",q),_.error("Failed to submit request");return}_.success("Access request submitted successfully!"),m(I=>new Map(I.set(N.id,"pending"))),await P()}catch(q){console.error("Error submitting request:",q),_.error("Failed to submit request")}},S=(M,q)=>{x(I=>new Set(I).add(M)),setTimeout(()=>{x(I=>{const B=new Set(I);return B.delete(M),B}),q()},600)},C=M=>{i(M),l("lessons")},O=()=>{i(null),l("subjects")};if(y)return a.jsx(IP,{});const A=[{id:"home",name:"Home",icon:Sa},{id:"recent",name:"Recent",icon:Yt},{id:"lessons",name:"Lessons",icon:_a},{id:"my-lessons",name:"My Lessons",icon:ar},{id:"notifications",name:"Notifications",icon:Jn}];return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsxs("div",{className:"w-full px-4 py-6 pb-24",children:[a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[o!=="subjects"&&a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:O,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(W,{icon:ol,className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{children:[o==="subjects"&&a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Premium Learning Library"}),o==="lessons"&&s&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[s.name," Premium Content"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[s.lessons.length," lessons available"]})]})]})]}),a.jsxs(K,{variant:"outline",size:"sm",onClick:r,className:"border-gray-300 text-gray-700 hover:bg-gray-50 text-sm px-4 py-2",children:[a.jsx(W,{icon:Rr,className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),a.jsxs(Fe,{mode:"wait",children:[o==="subjects"&&a.jsx(zP,{subjects:c,onSubjectClick:C,loadingContainers:v,onContainerClick:S}),o==="lessons"&&s&&a.jsx(DP,{subject:s,onRequestAccess:V,loadingContainers:v,onContainerClick:S})]})]}),a.jsx(Fe,{children:g&&N&&a.jsx(OP,{lesson:N,onClose:()=>{p(!1),j(null)},onSubmit:D})}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-md border-t border-gray-200/50 z-50",children:a.jsx("div",{className:"w-full px-4",children:a.jsx("nav",{className:"flex justify-around py-2",children:A.map(M=>a.jsxs(T.button,{whileTap:{scale:.95},onClick:()=>e(M.id),className:`relative flex flex-col items-center py-2 px-3 rounded-xl transition-all duration-200 ${t===M.id?"text-blue-600 bg-blue-50 shadow-lg scale-105":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(W,{icon:M.icon,className:"w-5 h-5 mb-1"}),a.jsx("span",{className:"text-xs font-medium",children:M.name}),t===M.id&&a.jsx(T.div,{layoutId:"activeTab",className:"absolute inset-0 bg-blue-100 rounded-xl -z-10",transition:{type:"spring",stiffness:500,damping:30}})]},M.id))})})})]})},zP=({subjects:e,onSubjectClick:t,loadingContainers:n,onContainerClick:r})=>{const{ripples:s,createRipple:i}=cb(),o=["bg-gradient-to-br from-white to-gray-50 border-gray-100","bg-gradient-to-br from-white to-gray-50 border-gray-100","bg-gradient-to-br from-white to-gray-50 border-gray-100","bg-gradient-to-br from-white to-gray-50 border-gray-100","bg-gradient-to-br from-white to-gray-50 border-gray-100","bg-gradient-to-br from-white to-gray-50 border-gray-100"];return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((l,c)=>a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},className:`group relative ${o[c%o.length]} rounded-3xl shadow-xl border-2 overflow-hidden hover:shadow-2xl transition-all duration-300 cursor-pointer`,onClick:u=>{i(u),r(l.id,()=>t(l))},whileHover:{scale:1.02},whileTap:{scale:.98},children:[a.jsx(ub,{ripples:s}),a.jsx(db,{isLoading:n.has(l.id)}),a.jsxs("div",{className:"relative w-full",style:{aspectRatio:"16/9"},children:[a.jsx("img",{src:l.imageUrl,alt:l.name,className:"w-full h-full object-cover",loading:"eager",onError:u=>{u.currentTarget.src="https://via.placeholder.com/320x180?text=Subject"}}),a.jsxs("div",{className:"absolute bottom-3 right-3 bg-black/80 text-white text-xs px-3 py-1.5 rounded-lg backdrop-blur-sm font-medium",children:[l.lessonCount," Lessons"]})]}),a.jsxs("div",{className:"p-5",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsx("h3",{className:"font-bold text-gray-900 text-lg line-clamp-1 leading-tight",children:l.name})}),a.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed text-sm line-clamp-2",children:l.description}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx("span",{className:`px-3 py-1 bg-gradient-to-r ${l.color} text-white rounded-full font-semibold text-xs`,children:l.name}),a.jsxs("span",{children:[l.lessonCount," Lessons"]})]})})]})]},l.id))})},DP=({subject:e,onRequestAccess:t,loadingContainers:n,onContainerClick:r})=>{const{ripples:s,createRipple:i}=cb(),o=["bg-white border-gray-200","bg-white border-gray-200","bg-white border-gray-200"],l=u=>{if(u.hasAccess)return a.jsxs("div",{className:"absolute top-3 right-3 bg-green-500 text-white text-xs px-2 py-1 rounded-lg font-medium flex items-center",children:[a.jsx(W,{icon:QE,className:"w-3 h-3 mr-1"}),"Owned"]});switch(u.requestStatus){case"pending":return a.jsx("div",{className:"absolute top-3 right-3 bg-yellow-500 text-white text-xs px-2 py-1 rounded-lg font-medium",children:"Pending"});case"rejected":return a.jsx("div",{className:"absolute top-3 right-3 bg-red-500 text-white text-xs px-2 py-1 rounded-lg font-medium",children:"Rejected"});default:return a.jsxs("div",{className:"absolute top-3 right-3 bg-gray-500 text-white text-xs px-2 py-1 rounded-lg font-medium flex items-center",children:[a.jsx(W,{icon:M0,className:"w-3 h-3 mr-1"}),"Locked"]})}},c=u=>{!u.hasAccess&&u.requestStatus!=="pending"&&t(u)};return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.lessons.map((u,d)=>a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},className:`group relative ${o[d%o.length]} rounded-3xl shadow-xl border-2 overflow-hidden hover:shadow-2xl transition-all duration-300 ${!u.hasAccess&&u.requestStatus!=="pending"?"cursor-pointer":"cursor-default"} ${u.hasAccess?"":"opacity-75"}`,onClick:f=>{!u.hasAccess&&u.requestStatus!=="pending"&&(i(f),r(u.id,()=>c(u)))},whileHover:{scale:!u.hasAccess&&u.requestStatus!=="pending"?1.02:1},whileTap:{scale:!u.hasAccess&&u.requestStatus!=="pending"?.98:1},children:[a.jsx(ub,{ripples:s}),a.jsx(db,{isLoading:n.has(u.id)}),a.jsxs("div",{className:"relative w-full",style:{aspectRatio:"16/9"},children:[a.jsx("img",{src:u.thumbnailUrl||"https://via.placeholder.com/320x180?text=Lesson",alt:u.title,className:"w-full h-full object-cover",loading:"eager",onError:f=>{f.currentTarget.src="https://via.placeholder.com/320x180?text=Lesson"}}),l(u),a.jsxs("div",{className:"absolute bottom-3 right-3 bg-black/80 text-white text-xs px-3 py-1.5 rounded-lg backdrop-blur-sm font-medium",children:[u.videoCount," Videos"]}),!u.hasAccess&&a.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsx(W,{icon:M0,className:"w-8 h-8 mb-2"}),a.jsx("p",{className:"text-sm font-medium",children:u.requestStatus==="pending"?"Request Pending":"Request Access"})]})})]}),a.jsxs("div",{className:"p-5",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsx("h3",{className:"font-bold text-gray-900 text-lg line-clamp-1 leading-tight",children:u.title})}),a.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed text-sm line-clamp-2",children:u.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx(W,{icon:Sn,className:"w-3 h-3"}),a.jsxs("span",{children:[u.videoCount," Videos"]})]}),!u.hasAccess&&u.requestStatus!=="pending"&&a.jsx(K,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-xs px-3 py-1",onClick:f=>{f.stopPropagation(),c(u)},children:"Request Access"})]})]})]},u.id)),e.lessons.length===0&&a.jsxs("div",{className:"text-center py-12 col-span-full",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(W,{icon:ar,className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Lessons Available"}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"No lessons have been added to this subject yet."})]})]})},$0=({text:e,className:t=""})=>{const[n,r]=b.useState(""),[s,i]=b.useState(0);return b.useEffect(()=>{if(s<e.length){const o=setTimeout(()=>{r(l=>l+e[s]),i(l=>l+1)},100);return()=>clearTimeout(o)}},[s,e]),a.jsx("span",{className:t,children:n})},$P=()=>{var ee,ue,tt,rn;const{papers:e,quizzes:t,notifications:n,loading:r,markNotificationRead:s,fetchUserNotifications:i}=hr(),{user:o,signOut:l}=et(),[c,u]=b.useState("home"),[d,f]=b.useState(null),[h,m]=b.useState(null),[y,w]=b.useState(null),[v,x]=b.useState(null),[g,p]=b.useState(!1);b.useState("");const[N,j]=b.useState([]),[k,E]=b.useState(!1),[P,R]=b.useState(!1),V=b.useCallback(()=>{if(!(o!=null&&o.id))return;const L=localStorage.getItem(`recentQuizzes_${o.id}`);if(L)try{const ae=JSON.parse(L);j(ae.map(de=>({...de,completedAt:new Date(de.completedAt)})))}catch(ae){console.error("Error loading recent quizzes:",ae),j([])}},[o==null?void 0:o.id]);b.useEffect(()=>{o!=null&&o.id&&!k&&(i(o.id),E(!0),V())},[o==null?void 0:o.id,k,i,V]);const D=b.useCallback((L,ae)=>{if(!(o!=null&&o.id))return;const de=e.find(Gr=>Gr.id===L.paperId),nt=de?de.title:`${L.category} Quiz - ${new Date().getFullYear()}`,ut={id:L.id,title:nt,questions:L.questions.length,completedAt:new Date,score:ae,originalQuiz:L};j(Gr=>{const rt=[ut,...Gr.filter(Qs=>Qs.id!==L.id)].slice(0,3);return localStorage.setItem(`recentQuizzes_${o.id}`,JSON.stringify(rt)),rt})},[o==null?void 0:o.id,e]),{filteredPapers:S,filteredQuizzes:C,allowedSubjects:O}=b.useMemo(()=>{const L=["SFT","ET","ICT"],ae=e.filter(nt=>L.includes(nt.subject)),de=t.filter(nt=>L.includes(nt.category));return{filteredPapers:ae,filteredQuizzes:de,allowedSubjects:L}},[e,t]),A=b.useMemo(()=>n.filter(L=>!L.readStatus&&L.userId===(o==null?void 0:o.id)),[n,o==null?void 0:o.id]),M=b.useMemo(()=>[{id:"home",name:"Home",icon:Sa},{id:"recent",name:"Recent",icon:Yt},{id:"lessons",name:"Lessons",icon:_a},{id:"my-lessons",name:"My Lessons",icon:ar},{id:"notifications",name:"Notifications",icon:Jn}],[]),q=b.useMemo(()=>S.reduce((L,ae)=>(L[ae.subject]||(L[ae.subject]=[]),L[ae.subject].push(ae),L),{}),[S]),I=b.useMemo(()=>Object.keys(q).map(L=>{const ae=q[L],de=C.filter(nt=>nt.category===L);return{title:L,icon:B(L),papers:ae.length,questions:de.reduce((nt,ut)=>nt+ut.questions.length,0),color:"from-blue-400 to-blue-600",papersData:ae}}),[q,C]);function B(L){return{SFT:"",ET:"",ICT:""}[L]||""}function F(L){return"from-blue-400 to-blue-600"}const G=b.useCallback(()=>{if(/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))window.open("https://tecnology.great-site.net/","_blank");else{const ae="googlechrome://tecnology.great-site.net/",de="https://tecnology.great-site.net/";try{window.location.href=ae,setTimeout(()=>{window.open(de,"_blank")},1e3)}catch{window.open(de,"_blank")}}},[]),J=b.useCallback(async L=>{await s(L.id)},[s]),le=b.useCallback(L=>{const ae=C.find(de=>de.paperId===L.id);m({...L,quiz:ae})},[C]),Te=b.useCallback(L=>{L.originalQuiz&&w(L.originalQuiz)},[]),he=b.useCallback(L=>{w(L),p(!1),x(null)},[]),we=b.useCallback(L=>{x(L),p(!0),w(null);const ae=Math.round(L.responses.filter(de=>de.isCorrect).length/L.quiz.questions.length*100);D(L.quiz,ae)},[D]),z=b.useCallback(()=>{w(null),x(null),p(!1)},[]),ye=b.useCallback(()=>{v&&(w(v.quiz),p(!1),x(null))},[v]),Ee=b.useCallback(()=>{m(null)},[]),vt=b.useCallback(()=>{f(null),m(null)},[]),ce=b.useCallback(L=>{u(L),L!=="feed"&&(f(null),m(null)),(L==="lessons"||L==="my-lessons")&&setTimeout(()=>{window.dispatchEvent(new Event("refreshLessonData"))},100)},[]),Z=b.useCallback(L=>{R(L)},[]);return r?a.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:a.jsxs(T.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6},className:"text-center",children:[a.jsx(T.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full mx-auto mb-4"}),a.jsx(T.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-gray-600 text-base font-medium",children:a.jsx($0,{text:"Loading..."})})]})}):y?a.jsx(_P,{quiz:y,onComplete:we,onExit:z}):g&&v?a.jsx(CP,{session:v,onRetry:ye,onHome:z}):c==="lessons"?a.jsx(MP,{onNavigate:ce,activeTab:c}):c==="my-lessons"?a.jsx(TP,{onNavigate:ce,activeTab:c,onPlayerModalToggle:Z},"my-lessons-reset"):a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsxs("div",{className:"w-full px-4 py-6 pb-24",children:[c==="home"&&!d&&!h&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 p-6 text-white",children:[a.jsx("div",{className:"absolute top-4 right-4 w-12 h-12 bg-white/10 rounded-full"}),a.jsx("div",{className:"absolute top-7 right-7 w-6 h-6 bg-white/20 rounded-full"}),a.jsx("div",{className:"absolute bottom-4 right-10 w-3 h-3 bg-white/15 rounded-full"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-xl font-bold mb-3",children:a.jsx($0,{text:"Tecnology A/L Premium",className:"bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent"})}),a.jsx("p",{className:"text-blue-100 mb-4 text-sm",children:"Advanced Level Excellence Platform"})]}),a.jsxs(K,{variant:"outline",size:"sm",onClick:l,className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm text-xs px-3 py-1.5 ml-2",children:[a.jsx(W,{icon:Rr,className:"w-3 h-3 mr-1"}),"Sign Out"]})]}),a.jsx(K,{variant:"outline",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm text-sm px-4 py-2",onClick:G,children:"Continue To Old Website"})]})]}),a.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-5 shadow-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"A/L MCQ Papers (Quiz) "})}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:I.length>0?I.map((L,ae)=>a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ae*.1},className:`bg-gradient-to-r ${L.color.replace("400","100").replace("600","200")} rounded-2xl p-4 relative overflow-hidden group cursor-pointer hover:shadow-lg transition-all duration-300`,onClick:()=>f(L.title),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center text-lg",children:L.icon}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:L.title}),a.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[a.jsx(W,{icon:WE,className:"w-3 h-3"}),a.jsxs("span",{children:["Papers ",L.papers]})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[a.jsx(W,{icon:z0,className:"w-3 h-3"}),a.jsxs("span",{children:["Questions ",L.questions]})]})]})]})]}),a.jsx(T.div,{whileHover:{scale:1.1},whileTap:{scale:.95},className:`w-10 h-10 bg-gradient-to-r ${L.color} rounded-2xl flex items-center justify-center group-hover:shadow-lg transition-all`,children:a.jsx(W,{icon:Gc,className:"w-4 h-4 text-white"})})]})},L.title)):a.jsxs("div",{className:"text-center py-8 col-span-full",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(W,{icon:Yt,className:"w-6 h-6 text-gray-400"})}),a.jsx("h3",{className:"text-base font-medium text-gray-900 mb-2",children:"No Papers Added"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"No papers have been added yet."})]})})]})]}),c==="home"&&d&&!h&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`relative overflow-hidden rounded-3xl bg-gradient-to-r ${F()} p-5 text-white`,children:[a.jsx("button",{onClick:vt,className:"absolute top-3 left-3 p-2 hover:bg-white/20 rounded-lg transition-colors",children:a.jsx(W,{icon:D0,className:"w-4 h-4 text-white"})}),a.jsx("div",{className:"absolute top-3 right-3 w-12 h-12 bg-white/10 rounded-full"}),a.jsxs("div",{className:"relative z-10 pt-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("div",{className:"text-xl",children:B(d)}),a.jsx("h2",{className:"text-lg font-bold",children:d})]}),a.jsxs("p",{className:"text-white/80 text-sm",children:[((ee=q[d])==null?void 0:ee.length)||0," Papers  ",C.filter(L=>L.category===d).reduce((L,ae)=>L+ae.questions.length,0)," Questions"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:((ue=q[d])==null?void 0:ue.length)>0?q[d].map((L,ae)=>{const de=C.find(ut=>ut.paperId===L.id),nt=(de==null?void 0:de.questions.length)||0;return a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ae*.1},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-gray-100 hover:shadow-lg transition-all duration-300 cursor-pointer",onClick:()=>le(L),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-bold text-gray-600",children:String(ae+1).padStart(2,"0")}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-sm leading-tight",children:L.title}),a.jsx("div",{className:"flex items-center space-x-2 mt-1",children:a.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[a.jsx(W,{icon:z0,className:"w-3 h-3 mr-1"}),"Questions ",nt]})})]})]}),a.jsx(T.div,{whileHover:{scale:1.1},whileTap:{scale:.95},className:`w-8 h-8 bg-gradient-to-r ${F()} rounded-full flex items-center justify-center hover:shadow-lg transition-all`,children:a.jsx(W,{icon:Gc,className:"w-3 h-3 text-white"})})]})},L.id)}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(W,{icon:Yt,className:"w-6 h-6 text-gray-400"})}),a.jsx("h3",{className:"text-base font-medium text-gray-900 mb-2",children:"No Papers Added"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"No papers have been added to this subject yet."})]})})]}),c==="home"&&h&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`relative overflow-hidden rounded-3xl bg-gradient-to-r ${F(h.subject)} p-5 text-white`,children:[a.jsx("button",{onClick:Ee,className:"absolute top-3 left-3 p-2 hover:bg-white/20 rounded-lg transition-colors",children:a.jsx(W,{icon:D0,className:"w-4 h-4 text-white"})}),a.jsx("div",{className:"absolute top-3 right-3 w-12 h-12 bg-white/10 rounded-full"}),a.jsxs("div",{className:"relative z-10 pt-6",children:[a.jsx("div",{className:"flex items-center space-x-3 mb-2",children:a.jsx("h2",{className:"text-lg font-bold",children:h.title})}),a.jsx("p",{className:"text-white/80 text-sm mb-3",children:h.description}),a.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(W,{icon:XE,className:"w-3 h-3 mr-1"}),((tt=h.parameters)==null?void 0:tt.timeLimit)||h.time_limit||60," min"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(p1,{className:"w-3 h-3 mr-1"}),((rn=h.parameters)==null?void 0:rn.passingScore)||h.passing_score||70,"% to pass"]})]})]})]}),h.quiz&&h.quiz.questions.length>0&&a.jsx("div",{className:"text-center",children:a.jsxs(K,{className:`bg-gradient-to-r ${F(h.subject)} hover:shadow-lg text-lg px-8 py-4 rounded-2xl`,onClick:()=>he(h.quiz),children:[a.jsx(W,{icon:Sn,className:"w-5 h-5 mr-2"}),"Start Paper (",h.quiz.questions.length," questions)"]})})]}),c==="recent"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Papers"}),a.jsxs(K,{variant:"outline",size:"sm",onClick:l,className:"text-red-600 border-red-300 hover:bg-red-50 text-xs px-3 py-1.5 lg:hidden",children:[a.jsx(W,{icon:Rr,className:"w-3 h-3 mr-1"}),"Sign Out"]})]}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:N.length>0?N.map((L,ae)=>a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ae*.1},className:"bg-white/90 backdrop-blur-sm rounded-2xl p-4 border border-gray-100 hover:shadow-lg transition-all duration-300 cursor-pointer group",onClick:()=>Te(L),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center border-2 border-gray-200 group-hover:border-blue-300 transition-colors",children:a.jsx("span",{className:"text-sm font-bold text-gray-600 group-hover:text-blue-600 transition-colors",children:String(ae+1).padStart(2,"0")})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-1 group-hover:text-blue-600 transition-colors",children:L.title}),a.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(W,{icon:Yt,className:"w-3 h-3"}),a.jsxs("span",{children:["Questions ",L.questions]})]}),L.score&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(W,{icon:ob,className:"w-3 h-3"}),a.jsxs("span",{children:[L.score,"%"]})]})]})]})]}),a.jsx(T.div,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center group-hover:bg-blue-600 transition-colors shadow-lg",children:a.jsx(W,{icon:Gc,className:"w-4 h-4 text-white"})})]})},L.id)):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(W,{icon:Yt,className:"w-6 h-6 text-gray-400"})}),a.jsx("h3",{className:"text-base font-medium text-gray-900 mb-2",children:"No Recent Papers"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Your recently completed Papers will appear here."})]})})]}),c==="notifications"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-purple-500 via-purple-600 to-indigo-700 p-6 text-white",children:[a.jsx("div",{className:"absolute top-4 right-4 w-12 h-12 bg-white/10 rounded-full"}),a.jsx("div",{className:"absolute top-7 right-7 w-6 h-6 bg-white/20 rounded-full"}),a.jsx("div",{className:"absolute bottom-4 right-10 w-3 h-3 bg-white/15 rounded-full"}),a.jsx("div",{className:"relative z-10",children:a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-lg font-bold mb-3",children:"Notifications"}),a.jsx("p",{className:"text-purple-100 text-sm",children:"Stay updated with latest news"})]}),a.jsxs(K,{variant:"outline",size:"sm",onClick:l,className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm text-xs px-3 py-1.5 ml-2 lg:hidden",children:[a.jsx(W,{icon:Rr,className:"w-3 h-3 mr-1"}),"Sign Out"]})]})})]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Updates"})}),n.length===0?a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12 bg-white/70 backdrop-blur-sm rounded-2xl",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(W,{icon:Jn,className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Notifications"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"You're all caught up! New notifications will appear here."})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:n.map((L,ae)=>a.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:ae*.05},className:`bg-white rounded-2xl p-4 shadow-sm border transition-all duration-300 cursor-pointer hover:shadow-md relative overflow-hidden ${L.readStatus?"border-gray-100":"border-blue-200 bg-blue-50/30"}`,onClick:()=>J(L),children:[!L.readStatus&&a.jsx(T.div,{className:"absolute inset-0 bg-gradient-to-r from-blue-400/10 via-purple-400/10 to-pink-400/10",animate:{background:["linear-gradient(45deg, rgba(59, 130, 246, 0.1), rgba(147, 51, 234, 0.1), rgba(236, 72, 153, 0.1))","linear-gradient(45deg, rgba(236, 72, 153, 0.1), rgba(59, 130, 246, 0.1), rgba(147, 51, 234, 0.1))","linear-gradient(45deg, rgba(147, 51, 234, 0.1), rgba(236, 72, 153, 0.1), rgba(59, 130, 246, 0.1))"]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),a.jsxs("div",{className:"flex items-start space-x-3 relative z-10",children:[a.jsx("div",{className:"relative flex-shrink-0",children:a.jsxs("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center shadow-lg relative",children:[a.jsx(W,{icon:HE,className:"w-5 h-5 text-white"}),a.jsx("div",{className:"absolute -top-0.5 -left-0.5 w-2 h-2 bg-blue-300 rounded-full opacity-60"}),a.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-1.5 h-1.5 bg-blue-300 rounded-full opacity-40"})]})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between mb-1",children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-sm leading-tight",children:L.title}),a.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[!L.readStatus&&a.jsx(T.div,{initial:{scale:0},animate:{scale:1},className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"}),a.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:new Date(L.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:L.message})]})]})]},L.id))})]})]}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-md border-t border-gray-200/50 z-50",children:a.jsx("div",{className:"w-full px-4",children:a.jsx("nav",{className:"flex justify-around py-2",children:M.map(L=>a.jsxs(T.button,{whileTap:{scale:.95},onClick:()=>ce(L.id),className:`relative flex flex-col items-center py-2 px-3 rounded-xl transition-all duration-200 ${c===L.id?"text-blue-600 bg-blue-50 shadow-lg scale-105":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(W,{icon:L.icon,className:"w-5 h-5 mb-1"}),a.jsx("span",{className:"text-xs font-medium",children:L.name}),c===L.id&&a.jsx(T.div,{layoutId:"activeTabMobile",className:"absolute inset-0 bg-blue-100 rounded-xl -z-10",transition:{type:"spring",stiffness:500,damping:30}}),L.id==="notifications"&&A.length>0&&a.jsx(T.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:A.length})]},L.id))})})})]})},UP=({notification:e,onClose:t})=>{const n=()=>{switch(e.type){case"quiz_result":return f1;case"achievement":return g1;case"reminder":return i6;default:return sh}},r=()=>{switch(e.priority){case"high":return"from-error-500 to-error-600";case"medium":return"from-warning-500 to-warning-600";default:return"from-primary-500 to-primary-600"}},s=n();return a.jsx(T.div,{initial:{opacity:0,x:300,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.8},transition:{duration:.3,type:"spring",stiffness:200},className:"bg-white rounded-lg shadow-2xl border border-gray-100 p-4 max-w-sm w-full",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${r()} rounded-full flex items-center justify-center flex-shrink-0`,children:a.jsx(s,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1",children:e.title}),a.jsx("p",{className:"text-sm text-gray-600",children:e.message})]}),a.jsx("button",{onClick:t,className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(We,{className:"w-4 h-4"})})]})})},FP=()=>{const{notifications:e,markNotificationRead:t}=hr(),{user:n}=et(),[r,s]=b.useState([]);b.useEffect(()=>{if(!n)return;const l=e.filter(c=>c.userId===n.id&&!c.readStatus).filter(c=>!r.some(u=>u.id===c.id));l.length>0&&s(c=>[...c,...l.slice(-3)])},[e,n,r]);const i=o=>{t(o),s(l=>l.filter(c=>c.id!==o))};return b.useEffect(()=>{const o=r.map(l=>setTimeout(()=>{i(l.id)},5e3));return()=>{o.forEach(l=>clearTimeout(l))}},[r]),a.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 pointer-events-none",children:a.jsx(Fe,{children:r.map(o=>a.jsx("div",{className:"pointer-events-auto",children:a.jsx(UP,{notification:o,onClose:()=>i(o.id)})},o.id))})})},VP=()=>{const{user:e,loading:t,isAdmin:n}=et();return console.log("AppRoutes: user:",!!e,"loading:",t,"isAdmin:",n),e?(console.log("AppRoutes: User authenticated, showing dashboard"),a.jsxs(a.Fragment,{children:[a.jsxs(Pj,{children:[a.jsx(ci,{path:"/",element:a.jsx(wc,{to:n?"/admin":"/dashboard",replace:!0})}),a.jsx(ci,{path:"/admin",element:n?a.jsx(SP,{}):a.jsx(wc,{to:"/dashboard",replace:!0})}),a.jsx(ci,{path:"/dashboard",element:a.jsx($P,{})}),a.jsx(ci,{path:"*",element:a.jsx(wc,{to:"/",replace:!0})})]}),a.jsx(FP,{})]})):(console.log("AppRoutes: No user, showing auth screen"),a.jsx(w6,{}))};function BP(){return console.log("App: Rendering"),a.jsxs(a.Fragment,{children:[a.jsx(Vx,{position:"top-center",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#fff",borderRadius:"12px",padding:"16px",fontWeight:"500"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}}),a.jsx(Lj,{children:a.jsx("div",{className:"App",children:a.jsx(VP,{})})})]})}Zy(document.getElementById("root")).render(a.jsx(b.StrictMode,{children:a.jsx(BP,{})}));
